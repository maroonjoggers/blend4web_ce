/**
 * Copyright (C) 2014-2016 Triumph LLC
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
b4w.module["shader_texts"] = function(exports, require) {exports["anchors.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";","}"]}]},exports["anchors.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","vec3","u_position","[","ANCHOR_NUM","]",";","uniform","mat4","u_view_proj_matrix",";","GLSL_IN","float","a_index",";","void","main","(",")","{","gl_Position","=","u_view_proj_matrix","*","vec4","(","u_position","[","int","(","a_index",")","]",",","1.0",")",";","gl_PointSize","=","4.0",";","}"]}]},exports["color_id.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_zup_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_zup_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_zup_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_zup_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";","uniform","float","u_alpha_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_color_id",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";","uniform","vec4","u_csm_center_dists",";","uniform","sampler2D","u_shadow_map0",";","uniform","sampler2D","u_shadow_map1",";","uniform","sampler2D","u_shadow_map2",";","uniform","sampler2D","u_shadow_map3",";","uniform","sampler2D","u_shadow_mask",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_outline_intensity",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bG",";","GLSL_IN","vec4","bH",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bJ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","bL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bM",";","GLSL_IN","vec4","bN",";","GLSL_IN","vec4","bO",";","GLSL_IN","vec4","bP",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bR",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"},{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]}]}}]},{TYPE:"include",FILE:"nodes.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cW","=","u_camera_eye_frag","-","bG",";","vec3","dY","=","normalize","(","cW",")",";","vec3","ed",";","vec3","ee",";","vec3","ef",";","vec4","eg",";","float","eh",";","mat4","dZ","=","mat4","(","0.0",")",";","mat4","d_","=","mat4","(","0.0",")",";","mat4","ea","=","mat4","(","0.0",")",";","mat4","eb","=","mat4","(","0.0",")",";","mat4","ec","=","mat4","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dZ","=","_","(","u_view_tsr_frag",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d_","=","_","(","u_view_zup_tsr",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ea","=","_","(","u_view_zup_tsr_inverse",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eb","=","_","(","u_model_zup_tsr",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ec","=","_","(","u_model_zup_tsr_inverse",")",";"]}]}}]},{TYPE:"txt",TOKENS:["rs","(","dY",",","dZ",",","d_",",","ea",",","eb",",","ec",",","ed",",","ee",",","ef",",","eg",",","eh",")",";","float","bf","=","eh",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bf","=","(","GLSL_TEXTURE","(","u_sampler",",","bQ",")",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","rt","=","u_alpha_factor","*","bf",";","rt","+=","(","1.0","-","step","(","0.0",",","rt",")",")",";","bf","=","mix","(","rt",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bf","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","bf","<","0.5",")","discard",";","bf","=","1.0",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","u_outline_intensity",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","u_color_id",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["color_id.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"CALC_TBN",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_normal",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tangent",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_normal_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tangent_next",";"]}]}}]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bG",";","GLSL_OUT","vec4","bH",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bJ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","bL",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","bQ",";"]}]}}]}]}}]},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat4","de","=","_","(","u_view_tsr",")",";","vec3","f","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","a_normal",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","i","=","vec3","(","a_tangent",")",";","vec3","k","=","a_tangent","[","3","]","*","cross","(","l",",","i",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","i","=","vec3","(","0.0",")",";","vec3","k","=","vec3","(","0.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","vec3","(","0.0",")",";","vec3","i","=","vec3","(","0.0",")",";","vec3","k","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat4","tD","=","_","(","u_model_tsr",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tE","=","normalize","(","(","tD","*","vec4","(","a_normal",",","0.0",")",")",".","xyz",")",";","vec3","tF","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","tE",")",";","vec3","tG","=","cross","(","tE",",","tF",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tG","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tG","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f","=","mix","(","f",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","mix","(","l",",","a_normal_next",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tH","=","vec3","(","a_tangent",")",";","vec3","tI","=","a_tangent_next","[","3","]","*","cross","(","a_normal_next",",","tH",")",";","i","=","mix","(","i",",","tH",",","u_va_frame_factor",")",";","k","=","mix","(","k",",","tI",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sQ","(","f",",","i",",","k",",","l",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","au_center_pos",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rJ","=","(","tD","*","vec4","(","h",",","1.0",")",")",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rR","=","rS","(","u_camera_eye",",","rJ",",","de",",","tD",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rR","=","rQ","(","u_camera_eye",",","rJ",",","de",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["rR","=","rR","*","rI","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","rJ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","f","-","h",",","h",",","vec3","(","0.0",")",",","tG",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","rR",")",";","tJ",".","h","=","rJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","f",",","h",",","vec3","(","0.0",")",",","tG",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","tD",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ty","(","tJ",".","f",",","tJ",".","h",",","l",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tK","=","a_normal",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tK","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ty","(","tJ",".","f",",","tJ",".","h",",","tK",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bQ","=","sa","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bG","=","tJ",".","f",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bI","=","tJ",".","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aU","=","(","dot","(","cross","(","tJ",".","l",",","tJ",".","i",")",",","tJ",".","k",")","<","0.0",")","?","-","1.0",":","1.0",";","bJ","=","vec4","(","tJ",".","i",",","aU",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bR","=","tJ",".","j",";"]}]}}]},{TYPE:"txt",TOKENS:["bH","=","de","*","vec4","(","tJ",".","f",",","1.0",")",";","vec4","T","=","u_proj_matrix","*","bH",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T",".","xy","+=","u_subpixel_jitter","*","T",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","U","=","T",".","x",";","float","V","=","T",".","y",";","float","W","=","T",".","w",";","bK",".","x","=","(","U","+","W",")","/","2.0",";","bK",".","y","=","(","V","+","W",")","/","2.0",";","bK",".","z","=","W",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bL","=","-","bH",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["rs","(",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","u_proj_matrix","*","de","*","vec4","(","tJ",".","f",",","1.0",")",";","}"]}]},exports["debug_view.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"define",NAME:"DV_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"DV_OPAQUE_WIREFRAME",TOKENS:["1"]},{TYPE:"define",NAME:"DV_TRANSPARENT_WIREFRAME",TOKENS:["2"]},{TYPE:"define",NAME:"DV_FRONT_BACK_VIEW",TOKENS:["3"]},{TYPE:"define",NAME:"DV_BOUNDINGS",TOKENS:["4"]},{TYPE:"define",NAME:"DV_CLUSTERS_VIEW",TOKENS:["5"]},{TYPE:"define",NAME:"DV_BATCHES_VIEW",TOKENS:["6"]},{TYPE:"define",NAME:"DV_RENDER_TIME",TOKENS:["7"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_debug_view_mode",";","uniform","float","u_cluster_id",";","uniform","float","u_batch_debug_id_color",";","uniform","float","u_batch_debug_main_render_time",";","uniform","float","u_debug_colors_seed",";","uniform","float","u_debug_render_time_threshold",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","tL",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","const","float","tM","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE_DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","tN","=","vec3","(","1.0",",","0.05",",","0.05",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","tN","=","vec3","(","0.05",",","0.05",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","tO","=","vec3","(","0.4",",","0.4",",","1.0",")",";","const","vec3","tP","=","vec3","(","1.0",",","0.4",",","0.4",")",";","const","vec3","tQ","=","vec3","(","1.0",",","1.0",",","1.0",")",";","const","vec3","tR","=","vec3","(","0.0",",","133.0","/","255.0",",","66.0","/","255.0",")",";","const","vec3","tS","=","vec3","(","160.0","/","255.0",",","38.0","/","255.0",",","33.0","/","255.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","tV","(",")","{","float","cz","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIREFRAME_QUALITY",0,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","m_","=","sign","(","tL","-","vec3","(","0.02","*","tM",")",")",";","if","(","m_",".","x","<","0.0","||","m_",".","y","<","0.0","||","m_",".","z","<","0.0",")","cz","=","0.0",";"]}]}},{TYPE:"elif",EXPRESSION:["WIREFRAME_QUALITY",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"txt",TOKENS:["vec3","tT","=","fwidth","(","tL",")",";","vec3","tU","=","smoothstep","(","vec3","(","0.0",")",",","tT","*","tM",",","tL",")",";","cz","=","min","(","min","(","tU",".","x",",","tU",".","y",")",",","tU",".","z",")",";","cz","=","clamp","(","cz",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","cz",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","m","=","vec3","(","0.0",")",";","float","bf","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","m_","=","sign","(","tL","-","vec3","(","0.02","*","tM",")",")",";","if","(","m_",".","x","<","0.0","||","m_",".","y","<","0.0","||","m_",".","z","<","0.0",")","{","m","=","tN",";","bf","=","1.0",";","}","else","discard",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_debug_view_mode","==","DV_OPAQUE_WIREFRAME",")","{","float","cz","=","tV","(",")",";","m","=","vec3","(","mix","(","u_wireframe_edge_color",",","tQ",",","cz",")",")",";","bf","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_TRANSPARENT_WIREFRAME",")","{","float","cz","=","tV","(",")",";","m","=","u_wireframe_edge_color",";","bf","=","mix","(","1.0",",","0.0",",","cz",")",";","}","else","if","(","u_debug_view_mode","==","DV_FRONT_BACK_VIEW",")","{","float","cz","=","tV","(",")",";","if","(","gl_FrontFacing",")","m","=","mix","(","u_wireframe_edge_color",",","tO",",","cz",")",";","else","m","=","mix","(","u_wireframe_edge_color",",","tP",",","cz",")",";","bf","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_CLUSTERS_VIEW",")","{","float","tW","=","u_cluster_id","+","u_debug_colors_seed","+","2.0",";","m","=","vec3","(","fract","(","tW","*","19.73",")",",","fract","(","tW","*","6.34",")",",","fract","(","tW","*","1.56",")",")",";","bf","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_BATCHES_VIEW",")","{","float","tW","=","u_batch_debug_id_color","+","u_debug_colors_seed",";","m","=","vec3","(","fract","(","tW","*","19.73",")",",","fract","(","tW","*","6.34",")",",","fract","(","tW","*","1.56",")",")",";","bf","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_RENDER_TIME",")","{","float","tX",";","if","(","u_debug_render_time_threshold",">","0.0",")","tX","=","clamp","(","u_batch_debug_main_render_time",",","0.0",",","u_debug_render_time_threshold",")","/","u_debug_render_time_threshold",";","else","tX","=","1.0",";","float","tY","=","clamp","(","2.0","*","tX",",","0.0",",","1.0",")",";","float","tZ","=","clamp","(","2.0","*","tX","-","1.0",",","0.0",",","1.0",")",";","float","t_","=","tX",";","m","=","mix","(","tR",",","tS",",","vec3","(","tY",",","tZ",",","t_",")",")",";","bf","=","1.0",";","}"]}]}}]},{TYPE:"txt",TOKENS:["be","(","m",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bh","(","m",",","bf",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","bf",")",";","}"]}]},exports["debug_view.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec3","a_normal",";","GLSL_IN","float","a_polyindex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","tL",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"include",FILE:"dynamic_grass.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","if","(","a_polyindex","==","0.0",")","tL","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","tL","=","vec3","(","0.0",",","1.0",",","0.0",")",";","else","if","(","a_polyindex","==","2.0",")","tL","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_VIEW_SPECIAL_SKYDOME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["gl_Position","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","uz","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","tD","=","_","(","uz",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","tD","=","_","(","ad","(","u_model_tsr",",","uz",")",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","tD","=","_","(","u_model_tsr",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat4","de","=","_","(","u_view_tsr",")",";","vec3","f","=","a_position",";","vec3","l","=","a_normal",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","f",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","tD",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f","=","mix","(","f",",","a_position_next",",","u_va_frame_factor",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","i","=","vec3","(","0.0",")",";","vec3","k","=","vec3","(","0.0",")",";","sQ","(","f",",","i",",","k",",","l",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","a_part_ts",".","xyz",";","f","=","(","tD","*","vec4","(","f",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","tJ","=","uy","(","f",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","h",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","de",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rJ","=","(","tD","*","vec4","(","h",",","1.0",")",")",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rR","=","rS","(","u_camera_eye",",","rJ",",","de",",","tD",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rR","=","rQ","(","u_camera_eye",",","rJ",",","de",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rE","=","(","tD","*","vec4","(","h",",","1.0",")",")",".","xyz",";","rR","=","rR","*","rI","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","rE",")",";"]}]}}]},{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","f","-","h",",","h",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","rR",")",";","tJ",".","h","=","rJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","f",",","h",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","tD",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ty","(","tJ",".","f",",","tJ",".","h",",","l",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","u_proj_matrix","*","de","*","vec4","(","tJ",".","f",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["error.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","0.0",",","1.0",",","1.0",")",";","}"]}]},exports["error.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","void","main","(",")","{","gl_Position","=","u_proj_matrix","*","_","(","u_view_tsr",")","*","vec4","(","a_position",",","1.0",")",";","}"]}]},exports["grass_map.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","uA",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","uA",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","uA",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","uA",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","uA",",","vec3","(","1.0",")",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","uA",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["grass_map.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_grass_size",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_grass_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","uA",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","uA",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","uA",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";","uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat4","de","=","_","(","u_view_tsr",")",";","mat4","tD","=","_","(","u_model_tsr",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rJ","=","(","tD","*","vec4","(","vec3","(","0.0",")",",","1.0",")",")",".","xyz",";","mat4","rR","=","rQ","(","u_camera_eye",",","rJ",",","de",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["rR","=","rR","*","rI","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","vec3","(","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","rR",")",";","tJ",".","h","=","rJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","tD",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","T","=","u_proj_matrix","*","de","*","vec4","(","tJ",".","f",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uA","=","vec4","(","a_grass_size",",","a_grass_color",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uA","=","a_grass_size",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uA","=","a_grass_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","T",";","}"]}]},exports["halo.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec3","u_halo_rings_color",";","uniform","vec3","u_halo_lines_color",";","uniform","float","u_halo_hardness",";","uniform","float","u_halo_size",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";","uniform","float","u_cam_water_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS","WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","uB",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";","GLSL_IN","float","uC",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"halo_color.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","uY","=","uX","(",")",";","vec3","m","=","uY",".","rgb",";","float","m_","=","uY",".","a",";","be","(","m",")",";","bh","(","m",",","m_",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","m_",")",";","}"]}]},exports["halo.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","PRECISION","float","u_halo_size",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec2","a_halo_bb_vertex",";","GLSL_IN","float","a_random_vals",";","GLSL_OUT","vec2","bQ",";","GLSL_OUT","float","uC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","uB",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat4","de","=","_","(","u_view_tsr",")",";","mat4","rR","=","_","(","u_model_tsr",")",";","vec3","f","=","(","rR","*","vec4","(","a_position",",","1.0",")",")",".","xyz",";","bQ","=","a_halo_bb_vertex","*","2.0",";","uC","=","a_random_vals",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","uZ","=","rw","(","f",",","de",")",";","mat4","u_","=","de",";","u_","[","3","]","[","0","]","=","0.0",";","u_","[","3","]","[","1","]","=","0.0",";","u_","[","3","]","[","2","]","=","0.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","uZ","=","rw","(","f",",","de",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","va","=","vec4","(","a_halo_bb_vertex","*","2.0","*","u_halo_size",",","0.0",",","1.0",")",";","vec4","bs","=","uZ","*","va",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","T","=","u_proj_matrix","*","u_","*","bs",";","T",".","z","=","0.99999","*","T",".","w",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uB","=","bs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","T","=","u_proj_matrix","*","de","*","bs",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","T",";","}"]}]},exports["line.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec3","m","=","u_diffuse_color",".","xyz",";","float","bf","=","u_diffuse_color",".","a",";","be","(","m",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bh","(","m",",","bf",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","bf",")",";","}"]}]},exports["line.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec3","a_direction",";","uniform","mat3","u_model_tsr",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","float","u_height",";","uniform","float","u_line_width",";","void","main","(",")","{","mat4","de","=","_","(","u_view_tsr",")",";","mat4","tD","=","_","(","u_model_tsr",")",";","e","tJ","=","rZ","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","normalize","(","a_direction",")",",","tD",")",";","vec4","vb","=","u_proj_matrix","*","de","*","vec4","(","tJ",".","f",",","1.0",")",";","vb",".","xyz","/=","vb",".","w",";","vec2","vc","=","(","u_proj_matrix","*","de","*","vec4","(","tJ",".","l",",","0.0",")",")",".","xy",";","float","O","=","M_PI","/","2.0",";","mat2","vd","=","mat2","(","cos","(","O",")",",","sin","(","O",")",",","-","sin","(","O",")",",","cos","(","O",")",")",";","vc","=","vd","*","normalize","(","vc",")",";","vec2","ve","=","(","u_line_width","/","u_height",")","*","vec2","(","u_proj_matrix","[","0","]","[","0","]","/","u_proj_matrix","[","1","]","[","1","]",",","1.0",")",";","gl_Position","=","vec4","(","vb",".","xy","+","vc",".","xy","*","ve","/","2.0",",","vb",".","z",",","1.0",")",";","gl_Position","*=","vb",".","w",";","}"]}]},exports["main.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sun_quaternion",";","uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_zup_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_zup_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_zup_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_zup_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";","uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","sampler2D","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION","REFRACTIVE","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bH",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bJ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bM",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bN",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bO",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bP",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","bL",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"include",FILE:"nodes.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bt","=","length","(","bH",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","vz","=","bG",".","y","-","WATER_LEVEL",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cW","=","normalize","(","u_camera_eye_frag","-","bG",")",";","vec3","ed",";","vec3","ee",";","vec3","ef",";","vec4","eg",";","float","eh",";","mat4","dZ","=","mat4","(","0.0",")",";","mat4","d_","=","mat4","(","0.0",")",";","mat4","ea","=","mat4","(","0.0",")",";","mat4","eb","=","mat4","(","0.0",")",";","mat4","ec","=","mat4","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dZ","=","_","(","u_view_tsr_frag",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d_","=","_","(","u_view_zup_tsr",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ea","=","_","(","u_view_zup_tsr_inverse",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eb","=","_","(","u_model_zup_tsr",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ec","=","_","(","u_model_zup_tsr_inverse",")",";"]}]}}]},{TYPE:"txt",TOKENS:["rs","(","cW",",","dZ",",","d_",",","ea",",","eb",",","ec",",","ed",",","ee",",","ef",",","eg",",","eh",")",";","vec3","m","=","ed",";","float","bf","=","eh",";","vec3","l","=","ef",";","vec4","bn","=","eg",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WETTABLE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","max","(","m","-","sqrt","(","0.01","*","-","min","(","vz",",","0.0",")",")",",","0.5","*","m",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bF","(","m",",","vz",",","u_time",",","bn",",","l",",","u_sun_direction",",","u_sun_intensity",",","u_sun_quaternion",",","bG",",","bt",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","bf","<","0.5",")","discard",";","bf","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bf","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vA","(","m",",","bt",",","cW",",","vz",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vA","(","m",",","bt",",","cW",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_ONLY","SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","co","=","GLSL_TEXTURE_PROJ","(","u_shadow_mask",",","bK",")",".","rg",";","float","vB","=","co",".","g",";","m","=","vec3","(","vB",")",";"]}]}}]},{TYPE:"txt",TOKENS:["be","(","m",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bh","(","m",",","bf",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","bf",")",";","}"]}]},exports["main.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","CALC_TBN",{TYPE:"logical_or_expr",PLACES:9}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_normal",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tangent",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_normal_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tangent_next",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"WATER_EFFECTS","CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bH",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bJ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","vC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","bQ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","vD",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bM",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bN",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bO",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bP",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","bL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_view_matrix",";","uniform","mat3","u_view_tsr",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_offset",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"include",FILE:"dynamic_grass.glslv"},{TYPE:"include",FILE:"shadow.glslv"},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","de","=","u_view_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"WATER_EFFECTS","CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","vN","=","_","(","u_view_tsr",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","de","=","_","(","u_view_tsr",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","uz","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","tD","=","_","(","uz",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","tD","=","_","(","ad","(","u_model_tsr",",","uz",")",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","tD","=","_","(","u_model_tsr",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","f","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"NODES",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","a_normal",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","i","=","vec3","(","a_tangent",")",";","vec3","k","=","a_tangent","[","3","]","*","cross","(","l",",","i",")",";"]}]}},{TYPE:"elif",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","vO","=","(","tD","*","vec4","(","f",",","1.0",")",")",".","xyz",";","vec3","tE","=","normalize","(","(","tD","*","vec4","(","a_normal",",","0.0",")",")",".","xyz",")",";","vec3","cW","=","vO","-","u_camera_eye",";","vec3","k","=","cross","(","cW",",","tE",")",";","vec3","i","=","cross","(","tE",",","k",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","i","=","vec3","(","0.0",")",";","vec3","k","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tE","=","normalize","(","(","tD","*","vec4","(","a_normal",",","0.0",")",")",".","xyz",")",";","vec3","tF","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","tE",")",";","vec3","tG","=","cross","(","tE",",","tF",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tG","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tG","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f","=","mix","(","f",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","mix","(","l",",","a_normal_next",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tH","=","vec3","(","a_tangent",")",";","vec3","tI","=","a_tangent_next","[","3","]","*","cross","(","a_normal_next",",","tH",")",";","i","=","mix","(","i",",","tH",",","u_va_frame_factor",")",";","k","=","mix","(","k",",","tI",",","u_va_frame_factor",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sQ","(","f",",","i",",","k",",","l",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","a_part_ts",".","xyz",";","f","=","(","tD","*","vec4","(","f",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","tJ","=","uy","(","f",",","i",",","tG",",","k",",","l",",","h",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","de",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rJ","=","(","tD","*","vec4","(","h",",","1.0",")",")",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rR","=","rS","(","u_camera_eye",",","rJ",",","de",",","tD",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rR","=","rQ","(","u_camera_eye",",","rJ",",","de",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rE","=","(","tD","*","vec4","(","h",",","1.0",")",")",".","xyz",";","rR","=","rR","*","rI","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","rE",")",";"]}]}}]},{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","f","-","h",",","h",",","i",",","tG",",","k",",","l",",","rR",")",";","tJ",".","h","=","rJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","f",",","h",",","i",",","tG",",","k",",","l",",","tD",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aU","=","(","dot","(","cross","(","tJ",".","l",",","tJ",".","i",")",",","tJ",".","k",")","<","0.0",")","?","-","1.0",":","1.0",";","bJ","=","vec4","(","tJ",".","i",",","aU",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bR","=","tJ",".","j",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ty","(","tJ",".","f",",","tJ",".","h",",","l",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bG","=","tJ",".","f",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bI","=","tJ",".","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vC","=","u_camera_eye","-","tJ",".","f",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bQ","=","sa","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vD","=","tJ",".","m",";"]}]}},{TYPE:"elif",EXPRESSION:["VERTEX_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vD","=","a_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","vP","=","de","*","vec4","(","tJ",".","f",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"WATER_EFFECTS","CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","vQ","=","vN","*","vec4","(","tJ",".","f",",","1.0",")",";","bH","=","vQ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","=","vP",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","T","=","u_proj_matrix","*","vP",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T",".","xy","+=","u_subpixel_jitter","*","T",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bK","=","Y","(","T",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vM","(","tJ",".","f",",","tJ",".","l",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bL","=","-","vP",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["rs","(",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","T",";","}"]}]},exports["main_stack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sun_quaternion",";","uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC","ALPHA_AS_SPEC",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_specmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap1",";","uniform","sampler2D","u_stencil0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";","uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","sampler2D","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";","uniform","float","u_specular_alpha",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_reflect_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_diffuse_color_factor",";","uniform","float","u_alpha_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_specular_color_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","PARALLAX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_parallax_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_refr_bump",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bG",";","GLSL_IN","vec3","bI",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bH",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bJ",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","vC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","vD",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bM",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bN",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bO",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bP",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","bL",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"lighting_nodes.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bt","=","length","(","bH",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","vz","=","bG",".","y","-","WATER_LEVEL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bv","=","bQ",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","ei","=","normalize","(","bI",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["INVERT_FRONTFACING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","gl_FrontFacing",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["ei","=","ei",";","else","ei","=","-","ei",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","k","=","cross","(","ei",",","bJ",".","xyz",")","*","bJ",".","w",";","mat3","el","=","mat3","(","bJ",".","xyz",",","k",",","ei",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","de","=","_","(","u_view_tsr_frag",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","wn","=","normalize","(","de","*","vec4","(","bI",",","0.0",")",")",".","st",";","wn","=","wn","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","PARALLAX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","bt","<","PARALLAX_LOD_DIST",")","{","float","qJ","=","clamp","(","0.5","*","(","PARALLAX_LOD_DIST","-","bt",")",",","0.0",",","1.0",")",";","float","wo","=","u_parallax_scale","*","qJ",";","vec3","qK","=","normalize","(","vC","*","el",")",";","float","qL","=","1.0","/","PARALLAX_STEPS",";","vec2","qM","=","qK",".","xy","*","wo","/","(","PARALLAX_STEPS","*","qK",".","z",")",";","float","qN","=","1.0",";","float","aV",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","wp","=","wn",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","wp","=","bv",";"]}]}}]},{TYPE:"txt",TOKENS:["aV","=","GLSL_TEXTURE","(","u_normalmap0",",","wp",")",".","a",";","for","(","float","aQ","=","1.0",";","aQ","<=","PARALLAX_STEPS",";","aQ","++",")","{","if","(","aV","<","qN",")","{","qN","-=","qL",";","wp","-=","qM",";","aV","=","GLSL_TEXTURE","(","u_normalmap0",",","wp",")",".","a",";","}","}","vec2","qO","=","wp","+","qM",";","float","qP","=","GLSL_TEXTURE","(","u_normalmap0",",","qO",")",".","a","-","(","qN","+","qL",")",";","float","qQ","=","aV","-","qN",";","float","qR","=","qQ","/","(","qQ","-","qP",")",";","wp","=","qR","*","qO","+","(","1.0","-","qR",")","*","wp",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bv","+=","wp","-","wn",";"]}]}}]},{TYPE:"txt",TOKENS:["wn","=","wp",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wn","+=","wp","-","bv",";"]}]}}]},{TYPE:"txt",TOKENS:["bv","=","wp",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","wq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wq","=","GLSL_TEXTURE","(","u_normalmap0",",","wn",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wq","=","GLSL_TEXTURE","(","u_normalmap0",",","bv",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","wr","=","wq",".","rgb","-","0.5",";","wr","=","mix","(","vec3","(","0.0",",","0.0",",","1.0",")",",","wr",",","u_normal_factor",")",";","vec3","l","=","el","*","wr",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","ei",";"]}]}}]},{TYPE:"txt",TOKENS:["l","=","normalize","(","l",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wn","=","normalize","(","de","*","vec4","(","l",",","0.0",")",")",".","st",";","wn","=","wn","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cW","=","normalize","(","vC",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ws","=","vD",";","bd","(","ws",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","wt","=","vec4","(","ws",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","wt","=","u_diffuse_color",";"]}]}}]},{TYPE:"txt",TOKENS:["float","wu","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","wv","=","GLSL_TEXTURE","(","u_colormap0",",","wn",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","wv","=","GLSL_TEXTURE","(","u_colormap0",",","bv",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bd","(","wv",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","wA",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR1_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wA","=","GLSL_TEXTURE","(","u_colormap1",",","wn",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wA","=","GLSL_TEXTURE","(","u_colormap1",",","bv",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bd","(","wA",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","wB","=","GLSL_TEXTURE","(","u_stencil0",",","wn",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","wB","=","GLSL_TEXTURE","(","u_stencil0",",","bv",")",";"]}]}}]},{TYPE:"txt",TOKENS:["wv","=","mix","(","wv",",","wA",",","wB",".","r",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wt",".","rgb","=","mix","(","wt",".","rgb",",","wv",".","rgb",",","u_diffuse_color_factor",")",";","float","rt","=","u_alpha_factor","*","wv",".","a",";","rt","+=","(","1.0","-","step","(","0.0",",","rt",")",")",";","wt",".","a","=","mix","(","rt",",","1.0",",","u_diffuse_color",".","a",")",";","wu","=","wv",".","a",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wt",".","rgb","*=","mix","(","vec3","(","1.0",")",",","wv",".","rgb",",","u_diffuse_color_factor",")",";","wt",".","a","=","wv",".","a",";","wu","=","wv",".","a",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","m","=","wt",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cU","=","u_diffuse_intensity","*","wt",".","rgb",";","vec3","wC","=","u_environment_energy","*","dm","(","l",")",";","vec3","nx","=","u_ambient","*","wC",";","vec4","bn","=","cV","(","cU",")",";","vec3","wD","=","u_emit","*","wt",".","rgb",";","vec3","wE","=","u_specular_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_AS_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","wF","=","vec3","(","wu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_SPEC_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","wF","=","GLSL_TEXTURE","(","u_specmap0",",","wn",")",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","wF","=","GLSL_TEXTURE","(","u_specmap0",",","bv",")",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["bd","(","wF",".","rgb",")",";","wE","=","mix","(","wE",",","wF",",","u_specular_color_factor",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","wG","=","u_specular_params","[","0","]",";","vec2","wH","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","wI","=","wG","*","wE",";","vec3","m",";","vec3","wJ",";","wm","(","wD",",","nx",",","cU",",","wI",",","bG",",","l",",","cW",",","wH",",","u_diffuse_params",",","bn",",","0.0",",","vec4","(","0.0",")",",","m",",","wJ",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dk","(","m",",","cW",",","l",",","u_reflect_factor",",","de",")",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dk","(","m",",","cW",",","l",",","u_reflect_factor",",","mat4","(","0.0",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dk","(","m",",","cW",",","l",",","u_mirror_factor",",","mat4","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","+=","wJ",";"]}]}}]},{TYPE:"txt",TOKENS:["float","bf","=","wt",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WETTABLE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","max","(","m","-","sqrt","(","0.01","*","-","min","(","vz",",","0.0",")",")",",","0.5","*","m",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bF","(","m",",","vz",",","u_time",",","bn",",","l",",","u_sun_direction",",","u_sun_intensity",",","u_sun_quaternion",",","bG",",","bt",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","bf","<","0.5",")","discard",";","bf","=","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","wJ",".","r",",","wJ",".","g",")",",","wJ",".","b",")","*","u_specular_alpha",";","bf","=","wt",".","a","*","(","1.0","-","t",")","+","t",";"]}]}}]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bf","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","wK","=","-","(","de","*","vec4","(","l",",","0.0",")",")",".","xy",";","m","=","mix","(","dx","(","bK",",","wK","*","u_refr_bump",")",",","m",",","bf",")",";","bf","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vA","(","m",",","bt",",","cW",",","vz",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vA","(","m",",","bt",",","cW",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["be","(","m",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bh","(","m",",","bf",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","bf",")",";","}"]}]},exports["particle_system.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","NODES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","float","u_time",";","uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_zup_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_zup_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_zup_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_zup_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bJ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bH",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bI",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"particles_nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","cW","=","normalize","(","u_camera_eye_frag","-","bG",")",";","vec3","ed",";","vec3","ee",";","vec3","ef",";","vec4","eg",";","float","eh",";","mat4","dZ","=","mat4","(","0.0",")",";","mat4","d_","=","mat4","(","0.0",")",";","mat4","ea","=","mat4","(","0.0",")",";","mat4","eb","=","mat4","(","0.0",")",";","mat4","ec","=","mat4","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dZ","=","_","(","u_view_tsr_frag",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d_","=","_","(","u_view_zup_tsr",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ea","=","_","(","u_view_zup_tsr_inverse",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eb","=","_","(","u_model_zup_tsr",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ec","=","_","(","u_model_zup_tsr_inverse",")",";"]}]}}]},{TYPE:"txt",TOKENS:["rs","(","cW",",","dZ",",","d_",",","ea",",","eb",",","ec",",","ed",",","ee",",","ef",",","eg",",","eh",")",";","vec3","m","=","ed",";","float","bf","=","eh",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","bf","<","0.5",")","discard",";","bf","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bf","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vA","(","m",",","length","(","bH",")",",","cW",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","wP","=","-","bH",".","z","/","u_view_max_depth",";","vec4","dv","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","bK",")",";","float","dn","=","ap","(","dv",")",";","float","wQ","=","dn","-","wP",";","float","wR","=","u_view_max_depth","/","SOFT_STRENGTH","*","wQ",";","bf","=","bf","*","min","(","wR",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["be","(","m",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bh","(","m",",","bf",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","bf",")",";","}"]}]},exports["particle_system.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_VIEW",TOKENS:["1"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_XY",TOKENS:["2"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_YZ",TOKENS:["3"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_ZX",TOKENS:["4"]},{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec3","a_normal",";","GLSL_IN","vec3","a_p_data",";","GLSL_IN","vec4","a_p_vels",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tangent",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_p_bb_vertex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","wS",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","vD",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bJ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","bQ",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","vC",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bH",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","uC",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_p_color_ramp","[","COLOR_RAMP_LENGTH","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_p_time",";","uniform","float","u_p_length",";","uniform","int","u_p_cyclic",";","uniform","float","u_p_fade_in",";","uniform","float","u_p_fade_out",";","uniform","float","u_p_nfactor",";","uniform","float","u_p_gravity",";","uniform","float","u_p_mass",";","uniform","float","u_p_wind_fac",";","uniform","float","u_p_max_lifetime",";","uniform","float","u_p_tilt",";","uniform","float","u_p_tilt_rand",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_view_matrix",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_proj_matrix",";","uniform","vec3","u_wind",";","uniform","float","u_p_size",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WORLD_SPACE",{TYPE:"logic_negative_expr",PLACES:1},"NODES","HALO_PARTICLES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_COLOR_RAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color_ramp_tex",";"]}]}}]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"particles.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"particles_nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["float","xD","(","vec2","xB",",","vec2","xC",")","{","return","(","atan","(","xC",".","y",",","xC",".","x",")","-","atan","(","xB",".","y",",","xB",".","x",")",")",";","}","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","de","=","u_view_matrix",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","de","=","_","(","u_view_tsr",")",";"]}]}}]},{TYPE:"txt",TOKENS:["wT","pp",";","pp","=","xp","(",")",";","float","xE",";","mat4","uZ",";","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_VIEW",")","{","xE","=","pp",".","O",";","uZ","=","rw","(","pp",".","f",",","de",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_XY",")","{","xE","=","pp",".","O",";","uZ","=","N","(",")",";","uZ","[","3","]","=","vec4","(","pp",".","f",",","1.0",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_YZ",")","{","xE","=","pp",".","O",";","uZ","=","Q","(","radians","(","90.0",")",")",";","uZ","[","3","]","=","vec4","(","pp",".","f",",","1.0",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_ZX",")","{","xE","=","xD","(","vec2","(","EPSILON",",","1.0",")",",","vec2","(","a_normal",".","x",",","a_normal",".","z",")",")","+","pp",".","O",";","uZ","=","P","(","radians","(","-","90.0",")",")",";","uZ","[","3","]","=","vec4","(","pp",".","f",",","1.0",")",";","}","vec4","va","=","vec4","(","a_p_bb_vertex","*","2.0","*","pp",".","wU","*","u_p_size",",","0.0",",","1.0",")",";","float","xF","=","a_p_data","[","2","]",";","float","xG","=","u_p_tilt","*","u_p_tilt_rand","*","(","2.0","*","xF","-","1.0",")",";","float","xH","=","(","xG","+","u_p_tilt",")","*","M_PI",";","vec4","bs","=","uZ","*","R","(","xH","+","xE",")","*","va",";","vec4","vP","=","de","*","bs",";","vec4","T","=","u_proj_matrix","*","vP",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uC","=","xF",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},"USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","i","=","vec3","(","a_tangent",")",";","vec3","k","=","a_tangent","[","3","]","*","cross","(","a_normal",",","i",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","i","=","vec3","(","0.0",")",";","vec3","k","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","i",",","vec3","(","0.0",")",",","k",",","vec3","(","0.0",")",",","uZ","*","R","(","xE",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aU","=","(","dot","(","cross","(","a_normal",",","tJ",".","i",")",",","tJ",".","k",")","<","0.0",")","?","-","1.0",":","1.0",";","bJ","=","vec4","(","tJ",".","i",",","aU",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bI","=","a_normal",";"]}]}}]},{TYPE:"txt",TOKENS:["rs","(","pp",".","f",",","pp",".","wV",",","pp",".","wW",",","pp",".","wX",",","pp",".","wU",",","a_p_bb_vertex",",","a_p_data","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bQ","=","a_p_bb_vertex","+","0.5",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bQ","=","a_p_bb_vertex","*","2.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wS","=","pp",".","bf",";"]}]}}]},{TYPE:"txt",TOKENS:["vD","=","pp",".","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","U","=","T",".","x",";","float","V","=","T",".","y",";","float","W","=","T",".","w",";","bK",".","x","=","(","U","+","W",")","/","2.0",";","bK",".","y","=","(","V","+","W",")","/","2.0",";","bK",".","z","=","W",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","=","vP",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","T",";","bG","=","bs",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vC","=","u_camera_eye","-","bs",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["particle_system_stack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","NODES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_diffuse_color_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_halo_size",";","uniform","vec3","u_halo_rings_color",";","uniform","float","u_halo_hardness",";","uniform","vec3","u_halo_lines_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";","uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_p_alpha_start",";","uniform","float","u_p_alpha_end",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","wS",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","vD",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","vC",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bH",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","uC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","uB",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bR",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"lighting_nodes.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"halo_color.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cW","=","normalize","(","vC",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","uY","=","uX","(",")",";","vec3","m","=","uY",".","rgb","*","vD",";","float","xI","=","0.9","*","length","(","bQ",")",";","float","xJ","=","smoothstep","(","u_p_alpha_start",",","u_p_alpha_end",",","xI",")",";","float","bf","=","uY",".","a","*","(","1.0","-","xJ",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","wt","=","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","wv","=","GLSL_TEXTURE","(","u_sampler",",","bQ",")",";","bd","(","wv",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wt",".","rgb","=","mix","(","wt",".","rgb",",","wv",".","rgb",",","u_diffuse_color_factor",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["wt",".","rgb","*=","mix","(","vec3","(","1.0",")",",","wv",".","rgb",",","u_diffuse_color_factor",")",";"]}]}}]},{TYPE:"txt",TOKENS:["wt",".","a","=","wv",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["wt",".","rgb","*=","vD",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cU","=","u_diffuse_intensity","*","wt",".","rgb",";","vec3","wD","=","u_emit","*","wt",".","rgb",";","vec3","l","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logic_negative_expr",PLACES:1},"SKY_COLOR",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","wC","=","u_environment_energy","*","dm","(","vec3","(","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","wC","=","u_environment_energy","*","dm","(","l",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","nx","=","u_ambient","*","wC",";","float","wG","=","u_specular_params","[","0","]",";","vec2","wH","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","wI","=","wG","*","u_specular_color",";","vec3","m",";","vec3","wJ",";","wm","(","wD",",","nx",",","cU",",","wI",",","bG",",","l",",","cW",",","wH",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","m",",","wJ",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","m","=","wt",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["float","bf","=","wt",".","a","*","wS",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","bf","<","0.5",")","discard",";","bf","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bf","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vA","(","m",",","length","(","bH",")",",","cW",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","wP","=","-","bH",".","z","/","u_view_max_depth",";","vec4","dv","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","bK",")",";","float","dn","=","ap","(","dv",")",";","float","wQ","=","dn","-","wP",";","float","wR","=","u_view_max_depth","/","SOFT_STRENGTH","*","wQ",";","bf","=","bf","*","min","(","wR",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["be","(","m",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bh","(","m",",","bf",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","bf",")",";","}"]}]},exports["procedural_skydome.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","vec3","u_sky_color",";","uniform","vec3","u_sun_direction",";","uniform","float","u_rayleigh_brightness",";","uniform","float","u_mie_brightness",";","uniform","float","u_spot_brightness",";","uniform","float","u_scatter_strength",";","uniform","float","u_rayleigh_strength",";","uniform","float","u_mie_strength",";","uniform","float","u_rayleigh_collection_power",";","uniform","float","u_mie_collection_power",";","uniform","float","u_mie_distribution",";","GLSL_IN","vec3","xK",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","const","float","xL","=","0.99",";","const","float","xM","=","1.8",";","const","int","xN","=","8",";","float","xR","(","vec3","f",",","vec3","H",")","{","float","a","=","dot","(","H",",","H",")",";","float","b","=","2.0","*","dot","(","H",",","f",")",";","float","ov","=","dot","(","f",",","f",")","-","1.0",";","float","xO","=","b","*","b","-","4.0","*","a","*","ov",";","float","xP","=","sqrt","(","xO",")",";","float","q","=","(","-","b","-","xP",")","/","2.0",";","float","xQ","=","ov","/","q",";","return","xQ",";","}","float","sV","(","float","bf",",","float","g",")","{","float","a","=","3.0","*","(","1.0","-","g","*","g",")",";","float","b","=","2.0","*","(","2.0","+","g","*","g",")",";","float","ov","=","1.0","+","bf","*","bf",";","float","aH","=","pow","(","1.0","+","g","*","g","-","2.0","*","g","*","bf",",","1.5",")",";","aH","=","max","(","aH",",","0.00001",")",";","return","(","a","/","b",")","*","(","ov","/","aH",")",";","}","float","xW","(","vec3","f",",","vec3","H",",","float","xS",")","{","float","xT","=","dot","(","H",",","-","f",")",";","if","(","xT","<","0.0",")","{","return","1.0",";","}","vec3","xU","=","f","+","xT","*","H",";","if","(","length","(","xU",")","<","xS",")","{","return","0.0",";","}","else","if","(","length","(","xU",")",">=","xS",")","{","vec3","xC","=","normalize","(","xU",")","*","xS","-","f",";","float","xV","=","acos","(","dot","(","normalize","(","xC",")",",","H",")",")",";","return","smoothstep","(","0.0",",","1.0",",","pow","(","xV","*","2.0",",","3.0",")",")",";","}","else","return","1.0",";","}","vec3","xX","(","float","m_",",","vec3","m",",","float","cz",")","{","return","m","-","m","*","pow","(","u_sky_color",",","vec3","(","cz","/","m_",")",")",";","}","void","main","(",")","{","vec3","xY","=","normalize","(","xK",")",";","vec3","xZ","=","u_sun_direction",";","float","bf","=","dot","(","xY",",","xZ",")",";","float","x_","=","sV","(","bf",",","-","0.01",")","*","u_rayleigh_brightness","*","xZ",".","y",";","float","ya","=","sV","(","bf","-","0.5",",","u_mie_distribution",")","*","u_mie_brightness","*","(","1.0","-","xZ",".","y",")",";","float","yb","=","smoothstep","(","0.0",",","100.0",",","sV","(","bf",",","0.9995",")",")","*","u_spot_brightness",";","vec3","yc","=","vec3","(","0.0",",","xL",",","0.0",")",";","float","yd","=","xR","(","yc",",","xY",")",";","float","ye","=","yd","/","float","(","xN",")",";","float","yf","=","xW","(","yc",",","xY",",","xL","-","0.3",")",";","vec3","yg","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","yh","=","vec3","(","0.0",",","0.0",",","0.0",")",";","for","(","int","aQ","=","0",";","aQ","<","xN",";","aQ","++",")","{","float","yi","=","ye","*","float","(","aQ",")",";","vec3","f","=","yc","+","xY","*","yi",";","float","yj","=","xW","(","f",",","xZ",",","xL","-","0.2",")",";","float","yk","=","xR","(","f",",","xZ",")",";","vec3","yl","=","xX","(","yk",",","vec3","(","xM",")",",","u_scatter_strength",")","*","yj",";","yg","+=","xX","(","sqrt","(","yi",")",",","u_sky_color","*","yl",",","u_rayleigh_strength",")",";","yh","+=","xX","(","yi",",","yl",",","u_mie_strength",")",";","}","yg","=","yg","*","yf","*","pow","(","yd",",","u_rayleigh_collection_power",")","/","float","(","xN",")",";","yh","=","(","yh","*","yf","*","pow","(","yd",",","u_mie_collection_power",")",")","/","float","(","xN",")",";","vec3","m","=","vec3","(","yb","*","yh","+","ya","*","yh","+","x_","*","yg",")",";","be","(","m",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","1.0",")",";","}"]}]},exports["procedural_skydome.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_view_matrix",";","GLSL_IN","vec3","a_position",";","GLSL_OUT","vec3","xK",";","void","main","(",")","{","vec4","f","=","vec4","(","a_position",".","xy",",","0.999999",",","1.0",")",";","vec4","xY","=","u_cube_view_matrix","*","f",";","xK","=","xY",".","xyz",";","gl_Position","=","f",";","}"]}]},exports["shadow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"procedural.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_zup_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_zup_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_zup_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_zup_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";","uniform","vec4","u_lamp_light_factors","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap0",";","uniform","float","u_alpha_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";","uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","sampler2D","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bJ",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bH",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bM",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bN",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bO",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bP",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","bL",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bR",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]}]}}]},{TYPE:"include",FILE:"nodes.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cW","=","u_camera_eye_frag","-","bG",";","vec3","dY","=","normalize","(","cW",")",";","vec3","ed",";","vec3","ee",";","vec3","ef",";","vec4","eg",";","float","eh",";","mat4","dZ","=","mat4","(","0.0",")",";","mat4","d_","=","mat4","(","0.0",")",";","mat4","ea","=","mat4","(","0.0",")",";","mat4","eb","=","mat4","(","0.0",")",";","mat4","ec","=","mat4","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_GEOMETRY_VW",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dZ","=","_","(","u_view_tsr_frag",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["d_","=","_","(","u_view_zup_tsr",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_VIEW_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ea","=","_","(","u_view_zup_tsr_inverse",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eb","=","_","(","u_model_zup_tsr",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ZUP_MODEL_MATRIX_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ec","=","_","(","u_model_zup_tsr_inverse",")",";"]}]}}]},{TYPE:"txt",TOKENS:["rs","(","dY",",","dZ",",","d_",",","ea",",","eb",",","ec",",","ed",",","ee",",","ef",",","eg",",","eh",")",";","float","bf","=","eh",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bf","=","(","GLSL_TEXTURE","(","u_colormap0",",","bQ",")",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","rt","=","u_alpha_factor","*","bf",";","rt","+=","(","1.0","-","step","(","0.0",",","rt",")",")",";","bf","=","mix","(","rt",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bf","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["if","(","bf","<","0.5",")","discard",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","NO_SHADOWS",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","cT","(","bH",".","z",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR",".","a","*=","clamp","(","bJ",".","r",",","0.999999999",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["shadow.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"CALC_TBN",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_normal",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tangent",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_normal_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tangent_next",";"]}]}}]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bJ",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","bQ",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bH",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bM",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bN",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bO",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bP",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","bL",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_shadow_cast_billboard_view_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_offset",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"include",FILE:"dynamic_grass.glslv"},{TYPE:"include",FILE:"shadow.glslv"},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat4","de","=","_","(","u_view_tsr",")",";","vec3","f","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","a_normal",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","i","=","vec3","(","a_tangent",")",";","vec3","k","=","a_tangent","[","3","]","*","cross","(","l",",","i",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","i","=","vec3","(","0.0",")",";","vec3","k","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f","=","mix","(","f",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","mix","(","l",",","a_normal_next",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tH","=","vec3","(","a_tangent",")",";","vec3","tI","=","a_tangent_next","[","3","]","*","cross","(","a_normal_next",",","tH",")",";","i","=","mix","(","i",",","tH",",","u_va_frame_factor",")",";","k","=","mix","(","k",",","tI",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sQ","(","f",",","i",",","k",",","l",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","uz","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","tD","=","_","(","uz",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","tD","=","_","(","ad","(","u_model_tsr",",","uz",")",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","a_part_ts",".","xyz",";","f","=","(","tD","*","vec4","(","f",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","h","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},"DYNAMIC_GRASS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","tD","=","_","(","u_model_tsr",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tE","=","normalize","(","(","tD","*","vec4","(","a_normal",",","0.0",")",")",".","xyz",")",";","vec3","tF","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","tE",")",";","vec3","tG","=","cross","(","tE",",","tF",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tG","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tG","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","tJ","=","uy","(","f",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","l",",","h",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","de",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rJ","=","(","tD","*","vec4","(","h",",","1.0",")",")",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HAIR_BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","ym","=","_","(","u_shadow_cast_billboard_view_tsr",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","ym","=","de",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rR","=","rS","(","u_camera_eye",",","rJ",",","ym",",","tD",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rR","=","rQ","(","u_camera_eye",",","rJ",",","ym",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["rR","=","rR","*","rI","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","rJ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","f","-","h",",","h",",","vec3","(","0.0",")",",","tG",",","vec3","(","0.0",")",",","l",",","rR",")",";","tJ",".","h","=","rJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","f",",","h",",","vec3","(","0.0",")",",","tG",",","vec3","(","0.0",")",",","l",",","tD",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tK","=","a_normal",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tK","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ty","(","tJ",".","f",",","tJ",".","h",",","tK",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bG","=","tJ",".","f",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bI","=","tJ",".","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aU","=","(","dot","(","cross","(","tJ",".","l",",","tJ",".","i",")",",","tJ",".","k",")","<","0.0",")","?","-","1.0",":","1.0",";","bJ","=","vec4","(","tJ",".","i",",","aU",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bR","=","tJ",".","j",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","vP","=","de","*","vec4","(","tJ",".","f",",","1.0",")",";","vec4","T","=","u_proj_matrix","*","vP",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["T",".","xy","+=","u_subpixel_jitter","*","T",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bK","=","Y","(","T",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bL","=","-","vP",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["rs","(",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bQ","=","sa","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vM","(","tJ",".","f",",","tJ",".","l",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","=","vP",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","vH","=","(","u_proj_matrix","*","de","[","3","]",")",".","xy",";","float","vI","=","SHADOW_TEX_RES","/","2.0",";","vH","=","floor","(","vH","*","vI","+","0.5",")","/","vI","-","vH",";","T",".","xy","+=","vH",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","T",";","}"]}]},exports["special_lens_flares.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","m","=","GLSL_TEXTURE","(","u_sampler",",","bQ",")",";","be","(","m",".","rgb",")",";","bh","(","m",".","rgb",",","m",".","a",")",";","GLSL_OUT_FRAG_COLOR","=","m",";","}"]}]},exports["special_lens_flares.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"define",NAME:"LIGHT_INDEX",TOKENS:["0"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","GLSL_IN","float","a_lf_dist",";","GLSL_IN","vec2","a_lf_bb_vertex",";","GLSL_IN","vec2","a_texcoord",";","GLSL_OUT","vec2","bQ",";","void","main","(",")","{","mat4","de","=","_","(","u_view_tsr",")",";","bQ","=","a_texcoord",";","vec3","H","=","normalize","(","u_light_directions","[","LIGHT_INDEX","]",")",";","vec4","T","=","u_proj_matrix","*","de","*","vec4","(","H",",","0.0",")",";","T",".","x","/=","T",".","w",";","T",".","y","/=","T",".","w",";","T","+=","99999.0","*","step","(","T",".","z",",","0.0",")",";","T","+=","100.0","*","(","step","(","1.0",",","abs","(","T",".","x",")",")","+","step","(","1.0",",","abs","(","T",".","y",")",")",")",";","T",".","x","=","-","a_lf_dist","*","T",".","x",";","T",".","y","=","-","a_lf_dist","*","T",".","y",";","float","yn","=","u_proj_matrix","[","1","]","[","1","]","/","u_proj_matrix","[","0","]","[","0","]",";","vec2","yo","=","vec2","(","a_lf_bb_vertex",".","x","/","yn",",","a_lf_bb_vertex",".","y",")",";","if","(","a_lf_dist",">","-","0.999",")","{","const","float","yp","=","1.9",";","yo","*=","(","1.0","+","yp","*","length","(","T",".","xy",")",")",";","}","gl_Position","=","vec4","(","T",".","xy","+","yo",",","0.999999",",","1.0",")",";","}"]}]},exports["special_skydome.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"define",NAME:"INV_PI",TOKENS:["0.318309886"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX","PROCEDURAL_SKYDOME",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"blending.glslf"},{TYPE:"txt",TOKENS:["uniform","vec4","u_sky_tex_fac",";","uniform","vec3","u_sky_tex_color",";","uniform","float","u_sky_tex_dvar",";","vec3","yZ","(","vec3","ys",",","vec3","yt",",","float","cz",",","float","yV",")","{","float","yu","=","cz","*","yV",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLENDTYPE","MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yv","(","yt",",","ys",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","ADD",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yA","(","ys",",","yt",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SUBTRACT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yB","(","ys",",","yt",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yC","(","ys",",","yt",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SCREEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yD","(","ys",",","yt",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","OVERLAY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yE","(","ys",",","yt",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIFFERENCE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yF","(","ys",",","yt",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIVIDE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yG","(","ys",",","yt",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DARKEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yH","(","ys",",","yt",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LIGHTEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yI","(","ys",",","yt",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","HUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yM","(","yt",",","ys",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SATURATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yN","(","yt",",","ys",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","VALUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yO","(","yt",",","ys",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","COLOR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yP","(","yt",",","ys",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SOFT_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yR","(","yt",",","ys",",","yu",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LINEAR_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yS","(","yt",",","ys",",","yu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","vec3","(","1.0",",","0.0",",","1.0",")",";","}","float","y_","(","float","yT",",","float","yU",",","float","cz",",","float","yV",")","{","vec3","ys","=","vec3","(","yT",")",",","yt","=","vec3","(","yU",")",";","float","yu","=","cz","*","yV",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLENDTYPE","MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yv","(","yt",",","ys",",","yu",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","ADD",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yA","(","ys",",","yt",",","yu",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SUBTRACT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yB","(","ys",",","yt",",","yu",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yW","(","yT",",","yU",",","yu",",","yV",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SCREEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yX","(","yT",",","yU",",","yu",",","yV",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","OVERLAY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yY","(","yT",",","yU",",","yu",",","yV",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIFFERENCE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yF","(","ys",",","yt",",","yu",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIVIDE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yG","(","ys",",","yt",",","yu",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DARKEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yH","(","ys",",","yt",",","yu",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LIGHTEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yI","(","ys",",","yt",",","yu",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SOFT_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yR","(","yt",",","ys",",","yu",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LINEAR_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","yS","(","yt",",","ys",",","yu",")",".","x",";"]}]}}]},{TYPE:"txt",TOKENS:["return","0.0",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"REFLECTION_PASS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";","uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","xK",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec3","za",";","vec3","xY","=","normalize","(","xK",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["za","=","GLSL_TEXTURE_CUBE","(","u_sky",",","xY",")",".","rgb",";"]}]}},{TYPE:"elif",EXPRESSION:["WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["za","=","u_horizon_color",";","be","(","za",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","zb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYPAPER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zb","=","vec3","(","bQ",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zb","=","vec3","(","xK",".","xy",",","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","zc","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYPAPER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zc","=","abs","(","bQ",".","y",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zc","=","(","bQ",".","y","+","1.0",")","*","0.5",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bf","=","acos","(","xY",".","y",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zc","=","abs","(","bf","*","INV_PI","-","0.5",")","*","2.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zc","=","1.0","-","bf","*","INV_PI",";"]}]}}]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec3","zd","=","u_horizon_color",";","vec3","ze","=","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zf","=","1.0",";","vec4","zg","=","GLSL_TEXTURE_CUBE","(","u_sky",",","xY",")",";","bd","(","zg",".","rgb",")",";","zf","=","zg",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zf","=","bk","(","zg",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_NEGATIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zg","=","vec4","(","vec3","(","1.0",")","-","zg",".","rgb",",","zg",".","a",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zf","=","1.0","-","zf",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_HORIZ","WOMAP_ZENUP","WOMAP_ZENDOWN",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zg","=","vec4","(","u_sky_tex_color",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zf","=","zg",".","a",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_HORIZ"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zd","=","yZ","(","zg",".","rgb",",","zd",",","zf",",","u_sky_tex_fac","[","1","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP","WOMAP_ZENDOWN",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zh","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","zb",",","vec3","(","0.0",",","1.0",",","0.0",")",")",">=","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zh","=","u_sky_tex_fac","[","2","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENDOWN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","zh","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zh","=","u_sky_tex_fac","[","2","]",";"]}]}},{TYPE:"elif",EXPRESSION:["WOMAP_ZENDOWN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zh","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["if","(","zh","!=","0.0",")","ze","=","yZ","(","zg",".","rgb",",","ze",",","zf",",","zh",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_BLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zf","=","dot","(","zg",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["zc","=","y_","(","u_sky_tex_dvar",",","zc",",","zf",",","u_sky_tex_fac","[","0","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["za","=","mix","(","zd",",","ze",",","zc",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["za","=","zd",";"]}]}}]},{TYPE:"txt",TOKENS:["be","(","za",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["be","(","zd",")",";","be","(","ze",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["za","=","mix","(","zd",",","ze",",","zc",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["za","=","zd",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"REFLECTION_PASS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bd","(","za",")",";","float","vp","=","WATER_LEVEL","-","u_camera_eye_frag",".","y",";","vec3","vv","=","vec3","(","0.0",")",";","vec3","vx","=","mix","(","u_underwater_fog_color_density",".","rgb",",","vv",",","min","(","-","xY",".","y",",","1.0",")",")",";","vx","*=","min","(","1.0","-","min","(","0.03","*","vp",",","0.8",")",",","1.0",")",";","float","cz","=","clamp","(","sign","(","0.01","*","vp","-","xY",".","y",")",",","0.0",",","1.0",")",";","za","=","mix","(","za",",","vx",",","cz",")",";","be","(","za",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","za",",","1.0",")",";","}"]}]},exports["special_skydome.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"txt",TOKENS:["uniform","mat4","u_sky_vp_inverse",";","GLSL_IN","vec3","a_position",";","GLSL_OUT","vec3","xK",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","bQ",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","f","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";","vec4","xY","=","u_sky_vp_inverse","*","f",";","xK","=","xY",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bQ","=","a_position",".","xy",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["special_water.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"REFL_BUMP",TOKENS:["0.001"]},{TYPE:"define",NAME:"REFR_BUMP",TOKENS:["0.0005"]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_color_intensities","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_factors","[","NUM_LFACTORS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHORE_SMOOTHING","WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_foam",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";","uniform","vec3","u_shallow_water_col",";","uniform","vec3","u_shore_water_col",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_water_norm_uv_velocity",";","uniform","vec2","u_normalmap0_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap1_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap2_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap3_scale",";"]}]}}]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_reflect_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_water_shallow_col_fac",";","uniform","float","u_water_shore_col_fac",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_foam_factor",";","uniform","vec2","u_foam_uv_freq",";","uniform","vec2","u_foam_mag",";","uniform","vec2","u_foam_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_refr_bump",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","tM","=","1.0",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","vC",";","GLSL_IN","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bJ",";","GLSL_IN","vec3","zi",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH","DYNAMIC",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","zj",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","zk",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","bL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","tL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bR",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","SHORE_SMOOTHING","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["vec3","zo","(","in","vec2","dq",",","in","vec3","l",",","in","vec3","cW",",","in","vec3","zl",",","out","float","zm",")","{","zm","=","0.0",";","vec3","cX","=","reflect","(","-","cW",",","l",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","zn","=","dq",".","xy","+","l",".","xz","*","REFL_BUMP","/","bL",";","zm","=","u_reflect_factor",";","vec3","df",";","if","(","u_cam_water_depth","<","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["df","=","u_underwater_fog_color_density",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["df","=","u_diffuse_color",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","{","df","=","GLSL_TEXTURE","(","u_plane_reflection",",","zn",")",".","rgb",";","bd","(","df",")",";","}"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zm","=","u_mirror_factor",";","vec3","df","=","zl","*","GLSL_TEXTURE_CUBE","(","u_mirrormap",",","cX",")",".","rgb",";","bd","(","df",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zm","=","u_reflect_factor",";","vec3","df","=","zl","*","vec3","(","0.3",",","0.5",",","1.0",")",";","bd","(","df",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","c_","=","normalize","(","cX","+","cW",")",";","float","da","=","1.0","-","dot","(","cW",",","c_",")",";","float","cZ","=","u_fresnel_params","[","3","]",";","float","cY","=","u_fresnel_params","[","2","]",";","float","r","=","cZ","+","(","1.0","-","cZ",")","*","pow","(","da",",","cY",")",";","zm","=","min","(","zm","*","r",",","1.0",")",";","return","df",";","}"]},{TYPE:"include",FILE:"lighting_nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","el","=","mat3","(","bJ",",","zi",",","bI",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","normalize","(","bI",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","FOAM",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","vz","=","bG",".","y","-","WATER_LEVEL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","vz","=","bG",".","y",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bv","=","vec2","(","zj",".","x",",","-","zj",".","z",")","+","0.5",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bv","=","vec2","(","bG",".","x",",","-","bG",".","z",")","+","0.5",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bv","=","bQ",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","zp","=","vec3","(","0.0",")",";","vec3","zq","=","GLSL_TEXTURE","(","u_normalmap0",",","bv","*","u_normalmap0_scale","+","vec2","(","0.3",",","0.5",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","zp","+=","zq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","zr","=","vec3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM0"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zr","+=","zq",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zq","=","GLSL_TEXTURE","(","u_normalmap0",",","bv","*","u_normalmap1_scale","+","vec2","(","-","0.3",",","0.7",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","zp","+=","zq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zr","+=","zq",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zq","=","GLSL_TEXTURE","(","u_normalmap0",",","bv","*","u_normalmap2_scale","+","vec2","(","0.0",",","1.1",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","zp","+=","zq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zr","+=","zq",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zq","=","GLSL_TEXTURE","(","u_normalmap0",",","bv","*","u_normalmap3_scale","+","vec2","(","-","0.66",",","-","0.3",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","zp","+=","zq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zr","+=","zq",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","zs","=","el","*","zr",";","if","(","!","n","(","zs",",","vec3","(","0.0",")",")",")","zs","=","normalize","(","zs",")",";","vec3","zt","=","mix","(","l",",","zs",",","0.2",")",";","zt","=","normalize","(","zt",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","mix","(","l",",","normalize","(","el","*","zp",")",",","0.3",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","mix","(","l",",","normalize","(","el","*","zp",")",",","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["l","=","normalize","(","l",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cW","=","normalize","(","vC",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dq","=","bK",".","xy","/","bK",".","z",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dp","=","dq","+","l",".","xz","*","u_refr_bump","/","bL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bf","=","u_diffuse_color",".","a",";","vec4","dv","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","bK",")",";","float","dn","=","ap","(","dv",")",";","float","wQ","=","max","(","dn","-","bL",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ds","=","dt","(","dn",",","dp",",","dq",")",";","float","zu","=","max","(","ds","-","bL",",","0.0",")",";","float","zv","=","u_view_max_depth","/","ABSORB","*","zu",";","float","zA","=","min","(","bf","*","zv",",","1.0",")",";","bf","=","min","(","15.0","*","bf","*","u_view_max_depth","*","wQ",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","wR","=","u_view_max_depth","/","ABSORB","*","wQ",";","if","(","u_cam_water_depth",">","0.0",")","bf","=","min","(","bf","*","wR",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bf","=","u_diffuse_color",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zA","=","bf",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_cam_water_depth","<","0.0",")","zA","=","0.0",";","vec3","dw","=","GLSL_TEXTURE","(","u_refractmap",",","dp",")",".","rgb",";","bd","(","dw",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zB","=","pow","(","min","(","zk",".","b","/","u_water_shallow_col_fac",",","1.0",")",",","0.3",")",";","vec3","wt","=","mix","(","u_shallow_water_col",",","u_diffuse_color",".","rgb",",","zB",")",";","zB","=","pow","(","min","(","zk",".","b","/","u_water_shore_col_fac",",","1.0",")",",","0.3",")",";","wt","=","mix","(","u_shore_water_col",",","wt",",","zB",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","wt","=","u_diffuse_color",".","rgb",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zC","=","max","(","1.0","-","u_view_max_depth","*","wQ",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zC","=","1.0","-","bf",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zD","=","max","(","vz","/","WAVES_HEIGHT","+","0.1",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","zE","=","normalize","(","vec3","(","zk",".","r",",","0.0",",","zk",".","g",")",")",";","vec3","zF","=","normalize","(","mix","(","vec3","(","0.0",",","1.0",",","0.0",")",",","zE",",","0.8",")",")",";","float","zG","=","1.25","*","max","(","dot","(","zt",",","zF",")","-","0.2",",","0.0",")",";","zG","+=","max","(","dot","(","zt",",","vec3","(","0.0",",","-","1.0",",","0.0",")",")",",","0.0",")",";","zC","+=","zG","*","(","1.0","-","zk",".","b",")",";","zD","*=","(","1.0","-","0.95","*","pow","(","zk",".","b",",","0.1",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["zC","+=","zD",";","zC","=","min","(","u_foam_factor","*","zC",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","zH","=","GLSL_TEXTURE","(","u_foam",",","u_foam_mag","*","sin","(","u_foam_uv_freq","*","u_time",")","+","bv","*","u_foam_scale",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","wG","=","u_specular_params","[","0","]",";","vec2","wH","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","wI","=","wG","*","u_specular_color",";","vec3","wC","=","u_environment_energy","*","dm","(","l",")",";","vec3","nx","=","u_ambient","*","wC",";","vec3","zl","=","nx","+","u_sun_intensity",";","float","zm",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","df","=","zo","(","dq",",","l",",","cW",",","zl",",","zm",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","df","=","zo","(","vec2","(","0.0",")",",","l",",","cW",",","zl",",","zm",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cU","=","u_diffuse_intensity","*","wt",";","vec3","m",";","vec3","wJ",";","wm","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","cU",",","wI",",","bG",",","l",",","cW",",","wH",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","m",",","wJ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zI","=","max","(","dot","(","u_sun_direction",",","-","bI",")","+","SSS_WIDTH",",","0.0",")","*","max","(","dot","(","-","cW",",","u_sun_direction",")","-","0.5",",","0.0",")","*","max","(","0.0",",","length","(","u_sun_intensity",")","-","0.1",")",";","zI","=","clamp","(","SSS_STRENGTH","*","zI",",","0.0",",","1.0",")",";","m","=","mix","(","m",",","u_shallow_water_col",",","zI",")",";","m","=","mix","(","m",",","u_shore_water_col",",","zI",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","mix","(","dw",",","m",",","zA",")",";"]}]}}]},{TYPE:"txt",TOKENS:["m","=","mix","(","m",",","df",",","zm",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zJ","=","mix","(","zH",".","g",",","zH",".","r",",","max","(","4.0","*","(","zC","-","0.75",")",",","0.0",")",")",";","zJ","=","mix","(","zH",".","b",",","zJ",",","max","(","2.0","*","zC","-","1.0",",","0.0",")",")",";","zJ","=","mix","(","0.0",",","zJ",",","zC",")",";","m","=","mix","(","m",",","zl",",","zJ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["m","+=","wJ",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zK","=","bL","*","u_view_max_depth",";","float","vr","=","1.0",";","if","(","u_cam_water_depth",">","1.0",")","vr","=","2.0",";","vA","(","m",",","zK",",","cW",",","vr",")",";"]}]}}]},{TYPE:"txt",TOKENS:["be","(","m",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bf","=","max","(","bf",",","wJ",".","r",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bf","+=","zJ",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["SHORE_SMOOTHING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bf","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bh","(","m",",","bf",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"txt",TOKENS:["vec3","tT","=","fwidth","(","tL",")",";","vec3","tU","=","smoothstep","(","vec3","(","0.0",")",",","tT","*","tM",",","tL",")",";","float","zL","=","min","(","min","(","tU",".","x",",","tU",".","y",")",",","tU",".","z",")",";","zL","=","clamp","(","zL",",","0.0",",","1.0",")",";","m","=","mix","(","u_wireframe_edge_color",",","m",",","zL",")",";","bf","=","mix","(","1.0",",","bf",",","zL",")",";"]}]}},{TYPE:"elif",EXPRESSION:["DEBUG_WIREFRAME",2,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","m_","=","sign","(","tL","-","vec3","(","0.02","*","tM",")",")",";","float","zL","=","1.0",";","if","(","m_",".","x","<","0.0","||","m_",".","y","<","0.0","||","m_",".","z","<","0.0",")","zL","=","0.0",";","m","=","mix","(","u_wireframe_edge_color",",","m",",","zL",")",";","bf","=","mix","(","1.0",",","bf",",","zL",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","bf",")",";","}"]}]},exports["special_water.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_normal",";","GLSL_IN","vec3","a_tangent",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},"NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_polyindex",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","vC",";","GLSL_OUT","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","bQ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bJ",";","GLSL_OUT","vec3","zi",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH","DYNAMIC",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","zj",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","zk",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","bL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","tL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_time",";","uniform","vec3","u_wind",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shore_dist_map",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","zQ","(","in","vec2","rT",")","{","vec2","zM","=","0.5","+","vec2","(","(","rT",".","x","-","SHORE_MAP_CENTER_X",")","/","SHORE_MAP_SIZE_X",",","-","(","rT",".","y","+","SHORE_MAP_CENTER_Y",")","/","SHORE_MAP_SIZE_Y",")",";","vec4","zN","=","GLSL_TEXTURE","(","u_shore_dist_map",",","zM",")",";","const","vec2","aj","=","vec2","(","1.0","/","255.0",",","1.0",")",";","float","zO","=","dot","(","zN",".","ba",",","aj",")",";","vec2","zP","=","normalize","(","zN",".","rg","*","2.0","-","1.0",")",";","return","vec3","(","zP",",","zO",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"define",NAME:"SMALL_WAVES_FAC",TOKENS:["0.3"]},{TYPE:"txt",TOKENS:["void","cm","(","inout","vec3","rT",",","in","float","bm",",","in","vec3","zN",")","{","float","zR","=","aX","(","DST_NOISE_SCALE_0","*","(","rT",".","xz","+","DST_NOISE_FREQ_0","*","bm",")",")","*","aX","(","DST_NOISE_SCALE_1","*","(","rT",".","zx","-","DST_NOISE_FREQ_1","*","bm",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zS","=","WAVES_LENGTH","/","MAX_SHORE_DIST","/","M_PI",";","float","zO","=","zN",".","b",";","float","zT","=","sqrt","(","zO",")",";","float","zU","=","max","(","zO",",","DIR_MIN_SHR_FAC",")","*","sin","(","zT","/","zS","+","DIR_FREQ","*","bm",")",";","float","zV","=","max","(","aX","(","DIR_NOISE_SCALE","*","(","rT",".","xz","+","DIR_NOISE_FREQ","*","bm",")",")",",","DIR_MIN_NOISE_FAC",")",";","zU","*=","zV",";","float","zW","=","WAVES_HEIGHT","*","mix","(","zU",",","zR",",","max","(","zT",",","DST_MIN_FAC",")",")",";","vec2","zP","=","zN",".","rg",";","float","zX","=","WAVES_HOR_FAC","*","zU","*","max","(","MAX_SHORE_DIST","/","35.0","*","(","0.05","-","zO",")",",","0.0",")",";","vec2","zY","=","zX","*","zP",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","zW","=","WAVES_HEIGHT","*","zR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","zZ","=","2.0","*","(","rT",".","xz","-","0.1","*","bm",")",";","vec2","z_","=","1.3","*","(","rT",".","zx","+","0.03","*","bm",")",";","float","Aa","=","aI","(","0.5","*","(","zZ","+","z_",")",")",".","x","-","0.5",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["rT",".","xz","+=","zY",";","Aa","*=","zO",";"]}]}}]},{TYPE:"txt",TOKENS:["zW","+=","SMALL_WAVES_FAC","*","Aa",";"]}]}}]},{TYPE:"txt",TOKENS:["rT",".","y","+=","zW",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat4","de","=","_","(","u_view_tsr",")",";","mat4","tD","=","_","(","u_model_tsr",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","a_polyindex","==","0.0",")","tL","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","tL","=","vec3","(","0.0",",","1.0",",","0.0",")",";","else","if","(","a_polyindex","==","2.0",")","tL","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","f","=","a_position",";","float","Ab","=","abs","(","f",".","y",")",";","vec2","Ac","=","u_camera_eye",".","xz","-","mod","(","u_camera_eye",".","xz",",","Ab",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f",".","y","=","WATER_LEVEL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f",".","y","=","0.0",";"]}]}}]},{TYPE:"txt",TOKENS:["f",".","xz","+=","Ac",";","vec3","vO","=","f",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bQ","=","a_texcoord",";"]}]}}]},{TYPE:"txt",TOKENS:["e","tJ","=","rZ","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","tD",")",";","vec3","vO","=","tJ",".","f",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zk","=","zQ","(","vO",".","xz",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Ad","=","length","(","u_wind",")",";","float","Ae","=","u_time",";","Ae","*=","Ad",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Af","=","Ab",";","vec3","Ag","=","vO","+","vec3","(","Af",",","0.0",",","0.0",")",";","vec3","Ah","=","vO","+","vec3","(","0.0",",","0.0",",","Af",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["zj","=","vO",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Ag","=","vO","+","vec3","(","0.05",",","0.0",",","0.0",")",";","vec3","Ah","=","vO","+","vec3","(","0.0",",","0.0",",","0.05",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Ai","=","zQ","(","Ag",".","xz",")",";","vec3","Aj","=","zQ","(","Ah",".","xz",")",";","cm","(","Ag",",","Ae",",","Ai",")",";","cm","(","Ah",",","Ae",",","Aj",")",";","cm","(","vO",",","Ae",",","zk",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cm","(","Ag",",","Ae",",","vec3","(","0.0",")",")",";","cm","(","Ah",",","Ae",",","vec3","(","0.0",")",")",";","cm","(","vO",",","Ae",",","vec3","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","a_position",".","y","<","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vO",".","y","=","WATER_LEVEL","-","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vO",".","y","=","-","1.0",";"]}]}}]},{TYPE:"txt",TOKENS:["Ag",".","y","=","vO",".","y",";","Ah",".","y","=","vO",".","y",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec3","Ak","=","normalize","(","Ag","-","vO",")",";","vec3","i","=","normalize","(","Ah","-","vO",")",";","bI","=","normalize","(","cross","(","i",",","Ak",")",")",";","float","Al","=","dot","(","bI",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","float","cz","=","clamp","(","0.8","-","Al",",","0.0",",","1.0",")",";","bI","=","mix","(","bI",",","vec3","(","0.0",",","1.0",",","0.0",")",",","cz",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","i","=","a_tangent",";","bI","=","a_normal",";"]}]}}]},{TYPE:"txt",TOKENS:["bJ","=","i",";","zi","=","cross","(","bI",",","bJ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bG","=","vO",";","vC","=","u_camera_eye","-","vO",";","vec4","vP","=","de","*","vec4","(","vO",",","1.0",")",";","vec4","T","=","u_proj_matrix","*","vP",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","U","=","T",".","x",";","float","V","=","T",".","y",";","float","W","=","T",".","w",";","bK",".","x","=","(","U","+","W",")","/","2.0",";","bK",".","y","=","(","V","+","W",")","/","2.0",";","bK",".","z","=","W",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bL","=","-","vP",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","T",";","}"]}]},exports["postprocessing/antialiasing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"define",NAME:"AA_METHOD_FXAA_LIGHT",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_FXAA_QUALITY",TOKENS:["2"]},{TYPE:"define",NAME:"AA_QUALITY_LOW",TOKENS:["0"]},{TYPE:"define",NAME:"AA_QUALITY_MEDIUM",TOKENS:["1"]},{TYPE:"define",NAME:"AA_QUALITY_HIGH",TOKENS:["2"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_REDUCE_MIN",TOKENS:["(","1.0","/","128.0",")"]},{TYPE:"define",NAME:"FXAA_REDUCE_MUL",TOKENS:["(","1.0","/","8.0",")"]},{TYPE:"define",NAME:"FXAA_SPAN_MAX",TOKENS:["8.0"]},{TYPE:"txt",TOKENS:["vec4","Am","(","float","x",",","float","y",")","{","vec2","aY","=","bQ","+","vec2","(","x",",","y",")","*","u_texel_size",";","return","GLSL_TEXTURE","(","u_color",",","aY",")",";","}","vec4","AE","(",")","{","vec4","An","=","Am","(","-","1.0",",","-","1.0",")",";","vec4","Ao","=","Am","(","1.0",",","-","1.0",")",";","vec4","Ap","=","Am","(","-","1.0",",","1.0",")",";","vec4","Aq","=","Am","(","1.0",",","1.0",")",";","vec4","Ar","=","Am","(","0.0",",","0.0",")",";","float","As","=","bk","(","Ar",")",";","float","At","=","bk","(","An",")",";","float","Au","=","bk","(","Ao",")",";","float","Av","=","bk","(","Ap",")",";","float","Aw","=","bk","(","Aq",")",";","float","Ax","=","min","(","As",",","min","(","min","(","At",",","Au",")",",","min","(","Av",",","Aw",")",")",")",";","float","Ay","=","max","(","As",",","max","(","max","(","At",",","Au",")",",","max","(","Av",",","Aw",")",")",")",";","vec2","H",";","H",".","x","=","-","(","(","At","+","Au",")","-","(","Av","+","Aw",")",")",";","H",".","y","=","(","(","At","+","Av",")","-","(","Au","+","Aw",")",")",";","float","Az","=","max","(","(","At","+","Au","+","Av","+","Aw",")","*","(","0.25","*","FXAA_REDUCE_MUL",")",",","FXAA_REDUCE_MIN",")",";","float","AA","=","1.0","/","(","min","(","abs","(","H",".","x",")",",","abs","(","H",".","y",")",")","+","Az",")",";","H","=","min","(","vec2","(","FXAA_SPAN_MAX",",","FXAA_SPAN_MAX",")",",","max","(","vec2","(","-","FXAA_SPAN_MAX",",","-","FXAA_SPAN_MAX",")",",","H","*","AA",")",")","*","u_texel_size",";","vec4","AB","=","0.5","*","(","GLSL_TEXTURE","(","u_color",",","bQ","+","H","*","(","1.0","/","3.0","-","0.5",")",")","+","GLSL_TEXTURE","(","u_color",",","bQ","+","H","*","(","2.0","/","3.0","-","0.5",")",")",")",";","vec4","AC","=","AB","*","0.5","+","0.25","*","(","GLSL_TEXTURE","(","u_color",",","bQ","+","H","*","-","0.5",")","+","GLSL_TEXTURE","(","u_color",",","bQ","+","H","*","0.5",")",")",";","float","AD","=","bk","(","AC",")",";","if","(","(","AD","<","Ax",")","||","(","AD",">","Ay",")",")","return","AB",";","else","return","AC",";","}"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GREEN_AS_LUMA",TOKENS:["1"]},{TYPE:"define",NAME:"FXAA_BLEND4WEB",TOKENS:["1"]},{TYPE:"include",FILE:"fxaa.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_QUALITY","AA_QUALITY_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["39"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["1.00"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.063"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0312"]}]}},{TYPE:"elif",EXPRESSION:["AA_QUALITY","AA_QUALITY_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["20"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["0.65"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.166"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0625"]}]}},{TYPE:"elif",EXPRESSION:["AA_QUALITY","AA_QUALITY_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["0.50"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.166"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0833"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","AE","(",")",";"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","Cm","=","u_texel_size",";","GLSL_OUT_FRAG_COLOR","=","Cl","(","bQ",",","u_color",",","Cm",",","FXAA_QUALITY_SUBPIX",",","FXAA_QUALITY_EDGE_THRESHOLD",",","FXAA_QUALITY_EDGE_THRESHOLD_MIN",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/bloom_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec2","cm","=","vec2","(","0.0",",","0.0",")",";","vec2","wQ","=","u_texel_size",";","vec4","Cn","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";","GLSL_OUT_FRAG_COLOR","=","Cn","*","0.0875447373698",";","cm","+=","wQ",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")","*","0.0858112354248",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")","*","0.0858112354248",";","cm","+=","wQ",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")","*","0.0808139781061",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")","*","0.0808139781061",";","cm","+=","wQ",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")","*","0.0731235112908",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")","*","0.0731235112908",";","cm","+=","wQ",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")","*","0.0635705267419",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")","*","0.0635705267419",";","cm","+=","wQ",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")","*","0.0530985673112",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")","*","0.0530985673112",";","cm","+=","wQ",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")","*","0.0426125984122",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")","*","0.0426125984122",";","cm","+=","wQ",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")","*","0.0328565115809",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")","*","0.0328565115809",";","cm","+=","wQ",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")","*","0.0243407024472",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")","*","0.0243407024472",";","GLSL_OUT_FRAG_COLOR","=","max","(","0.7","*","Cn",",","GLSL_OUT_FRAG_COLOR",")",";","}"]}]},exports["postprocessing/bloom_combine.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_bloom",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","Co","=","GLSL_TEXTURE","(","u_main",",","bQ",")",";","vec4","Cp","=","GLSL_TEXTURE","(","u_bloom",",","bQ",")",";","GLSL_OUT_FRAG_COLOR","=","Co","+","Cp",";","}"]}]},exports["postprocessing/coc.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_coc_fg",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front_start",";","uniform","float","u_dof_front_end",";","uniform","float","u_dof_rear_start",";","uniform","float","u_dof_rear_end",";","uniform","vec2","u_camera_range",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","m","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";","if","(","u_dof_dist",">","0.0",")","{","float","ao","=","Cu","(","u_depth",",","bQ",",","u_camera_range",")",";","ao","*=","u_view_max_depth",";","float","Cv","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Cw","=","GLSL_TEXTURE","(","u_coc_fg",",","bQ",")",";","float","Cx","=","Cw",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","ao","<","u_dof_dist",")","Cv","=","(","u_dof_dist","-","ao","-","u_dof_front_start",")","/","(","u_dof_front_end","-","u_dof_front_start",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_FOREGROUND",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","Cv","=","(","ao","-","u_dof_dist","-","u_dof_rear_start",")","/","(","u_dof_rear_end","-","u_dof_rear_start",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Cv","=","clamp","(","Cv",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Cv","=","max","(","Cv",",","Cx",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_FOREGROUND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","Cv",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","m",".","xyz","*","Cv",",","Cv",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","GLSL_OUT_FRAG_COLOR","=","vec4","(","m",".","xyz",",","0.0",")",";","}"]}]},exports["postprocessing/compositing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"define",NAME:"PI_4",TOKENS:["0.785398163"]},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","float","u_brightness",";","uniform","float","u_contrast",";","uniform","float","u_exposure",";","uniform","float","u_saturation",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","Cy","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";","vec3","m","=","Cy",".","rgb",";","if","(","u_brightness","<","0.0",")","m","=","m","*","(","1.0","+","u_brightness",")",";","else","m","=","m","+","(","(","1.0","-","m",")","*","u_brightness",")",";","m","=","(","m","-","0.5",")","*","(","tan","(","(","u_contrast","+","1.0",")","*","PI_4",")",")","+","0.5",";","m","*=","u_exposure",";","float","xM","=","bk","(","vec4","(","m",",","0.0",")",")",";","m","=","mix","(","vec3","(","xM",")",",","m",",","u_saturation",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","Cy",".","a",")",";","}"]}]},exports["postprocessing/depth_pack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","am","(","clamp","(","Cu","(","u_depth",",","bQ",",","u_camera_range",")",",","0.0",",","0.999999",")",")",";","}"]}]},exports["postprocessing/dof.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std_enums.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOF_TYPE","DOF_BOKEH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","highp","sampler2D","u_sharp",";","uniform","highp","sampler2D","u_blurred1",";","uniform","highp","sampler2D","u_blurred2",";","uniform","float","u_dof_dist",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sharp",";","uniform","sampler2D","u_blurred",";","uniform","sampler2D","u_depth",";","uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front_end",";","uniform","float","u_dof_rear_end",";","uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","Cz","=","GLSL_TEXTURE","(","u_sharp",",","bQ",")",";","if","(","u_dof_dist",">","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOF_TYPE","DOF_BOKEH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Cv",";","vec4","CA","=","GLSL_TEXTURE","(","u_blurred1",",","bQ",")",";","vec4","CB","=","GLSL_TEXTURE","(","u_blurred2",",","bQ",")",";","vec4","CC","=","min","(","CA",".","rgba",",","CB",".","rgba",")",";","Cv","=","CC",".","a",";","if","(","Cv",">","0.0",")","{","CC","=","vec4","(","CC",".","rgb","/","Cv",",","Cz",".","a",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","Cz",",","CC",",","min","(","Cv","*","5.0",",","1.0",")",")",";","}","else","GLSL_OUT_FRAG_COLOR","=","Cz",";"]}]}},{TYPE:"elif",EXPRESSION:["DOF_TYPE","DOF_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ao","=","Cu","(","u_depth",",","bQ",",","u_camera_range",")",";","ao","*=","u_view_max_depth",";","float","CD",";","if","(","ao","<","u_dof_dist",")","CD","=","(","u_dof_dist","-","ao",")","/","u_dof_front_end",";","else","CD","=","(","ao","-","u_dof_dist",")","/","u_dof_rear_end",";","CD","=","clamp","(","CD",",","0.0",",","1.0",")",";","vec4","CE","=","GLSL_TEXTURE","(","u_blurred",",","bQ",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","Cz",",","CE",",","CD",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","Cz",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","GLSL_OUT_FRAG_COLOR","=","Cz",";","}"]}]},exports["postprocessing/glow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_src_color",";","uniform","sampler2D","u_glow_mask_small",";","uniform","sampler2D","u_glow_mask_large",";","uniform","float","u_glow_mask_small_coeff",";","uniform","float","u_glow_mask_large_coeff",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","CF","=","GLSL_TEXTURE","(","u_src_color",",","bQ",")",";","vec4","CG","=","GLSL_TEXTURE","(","u_glow_mask_small",",","bQ",")",";","vec4","CH","=","GLSL_TEXTURE","(","u_glow_mask_large",",","bQ",")",";","GLSL_OUT_FRAG_COLOR","=","CF",";","if","(","CH",".","a","!=","0.0",")","{","float","CI","=","u_glow_mask_large_coeff","*","CH",".","a",";","CI","=","clamp","(","CI",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","mix","(","GLSL_OUT_FRAG_COLOR",".","rgb",",","CH",".","rgb","/","CH",".","a",",","CI",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","mix","(","GLSL_OUT_FRAG_COLOR",".","a",",","1.0",",","CI",")",";","}","if","(","CG",".","a","!=","0.0",")","{","float","CJ","=","u_glow_mask_small_coeff","*","CG",".","a",";","CJ","=","clamp","(","CJ",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","mix","(","GLSL_OUT_FRAG_COLOR",".","rgb",",","CG",".","rgb","/","CG",".","a",",","CJ",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","mix","(","GLSL_OUT_FRAG_COLOR",".","a",",","1.0",",","CJ",")",";","}","}"]}]},exports["postprocessing/god_rays.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_radial_blur_step",";","uniform","sampler2D","u_input",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","CK",";","GLSL_IN","vec2","CL",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";","GLSL_IN","vec4","CM",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec2","wQ","=","(","CM",".","xy","-","bQ",")",";","float","m_","=","length","(","wQ",")",";","vec2","CN","=","u_radial_blur_step","*","wQ","/","m_",";","float","CO","=","m_","/","u_radial_blur_step",";","CN","*=","min","(","CO",",","STEPS_PER_PASS",")","/","STEPS_PER_PASS",";","CO","=","max","(","CO",",","STEPS_PER_PASS",")",";","vec2","dI","=","bQ",";","float","CP","=","0.0",";","const","int","CQ","=","int","(","STEPS_PER_PASS",")",";","int","CR","=","int","(","CO","+","0.5",")",";","for","(","int","aQ","=","0",";","aQ","<","CQ",";","aQ","+=","1",")","{","if","(","aQ","<=","CR",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ao","=","Cu","(","u_input",",","dI",",","u_camera_range",")",";","CP","+=","max","(","(","1.0","-","pow","(","m_",",","0.3",")",")","*","step","(","0.9",",","ao",")",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","CS","=","GLSL_TEXTURE","(","u_input",",","dI",")",";","CP","+=","ap","(","CS",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","dI","+=","CN",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bv","=","bQ","+","CL",";","float","CT","=","aI","(","vec2","(","2.5","*","(","bv",".","x",")",",","2.5","*","(","bv",".","y",")","+","1.0","*","u_time",")",")",".","x","+","0.75","*","aI","(","vec2","(","5.0","*","(","bv",".","x",")","-","0.66","*","u_time",",","5.0","*","(","bv",".","y",")","+","0.66","*","u_time",")",")",".","x","+","0.5","*","aX","(","vec2","(","7.5","*","(","bv",".","x",")","+","0.33","*","u_time",",","7.5","*","(","bv",".","y",")","-","0.33","*","u_time",")",")",";","CT","*=","clamp","(","1.2","-","sqrt","(","0.2","*","m_",")",",","0.0",",","1.0",")","*","CK",";","CP","=","max","(","CT",",","CP",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","am","(","CP","/","STEPS_PER_PASS",")",";","}"]}]},exports["postprocessing/god_rays.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","mat4","u_view_proj_matrix",";","uniform","vec3","u_sun_direction",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_camera_quat",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_bb_vertex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","CK",";","GLSL_OUT","vec2","CL",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","bQ",";","GLSL_OUT","vec4","CM",";","void","main","(",")","{","bQ","=","a_bb_vertex","+","0.5",";","vec3","H","=","normalize","(","u_sun_direction",")",";","CM","=","u_view_proj_matrix","*","vec4","(","H",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_cam_water_depth","<","0.0",")","{","CK","=","1.0",";","vec3","CU","=","vec3","(","0.0",",","1.0",",","0.0",")",";","vec3","CV","=","u","(","u_camera_quat",",","CU",")",";","CV","=","normalize","(","CV",")",";","float","CW","=","dot","(","CV",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","float","CX","=","atan","(","CV",".","x",",","CV",".","z",")",";","CL","=","vec2","(","-","CX",",","acos","(","CW",")",")",";","}","else","{","CK","=","0.0",";","}"]}]}}]},{TYPE:"txt",TOKENS:["CM",".","xy","=","0.5","*","(","CM",".","xy","/","CM",".","w","+","1.0",")",";","CM","+=","99999.0","*","step","(","CM",".","z",",","0.0",")",";","gl_Position","=","vec4","(","2.0","*","a_bb_vertex",".","xy",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/god_rays_combine.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_god_rays",";","uniform","float","u_god_rays_intensity",";","uniform","vec3","u_sun_intensity",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","CY","=","GLSL_TEXTURE","(","u_main",",","bQ",")",";","vec3","CZ","=","clamp","(","u_sun_intensity",",","0.4",",","0.8",")",";","bd","(","CY",".","rgb",")",";","float","C_","=","ap","(","GLSL_TEXTURE","(","u_god_rays",",","bQ",")",")",";","vec3","Da","=","CY",".","rgb","+","u_god_rays_intensity","*","vec3","(","C_",")","*","CZ",";","be","(","Da",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SAFARI_CANVAS_ALPHA_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","Da",",","max","(","0.01",",","CY",".","a",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","Da",",","CY",".","a",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/luminance.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_input",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","Co","=","GLSL_TEXTURE","(","u_input",",","bQ",")",";","float","Db","=","dot","(","Co",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","vec3","(","Db",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_av.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_input",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","Db",";","float","Dc","=","0.0",";","float","w","=","0.025",";","float","aV","=","0.025",";","for","(","int","aQ","=","0",";","aQ","<","20",";","aQ","+=","1",")","{","aV","=","0.025",";","for","(","int","Dd","=","0",";","Dd","<","20",";","Dd","+=","1",")","{","Db","=","max","(","GLSL_TEXTURE","(","u_input",",","vec2","(","w",",","aV",")",")",".","r",",","0.01",")",";","Dc","+=","log","(","Db",")",";","aV","+=","0.05",";","}","w","+=","0.05",";","}","float","De","=","exp","(","Dc","/","400.0",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","vec3","(","De",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_trunced.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_luminance",";","uniform","sampler2D","u_average_lum",";","uniform","float","u_bloom_edge_lum",";","GLSL_IN","vec2","bQ",";","GLSL_IN","float","Df",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","De","=","GLSL_TEXTURE","(","u_average_lum",",","vec2","(","0.5",")",")",".","r",";","float","Dg","=","GLSL_TEXTURE","(","u_luminance",",","bQ",")",".","r",";","vec4","m","=","GLSL_TEXTURE","(","u_main",",","bQ",")",";","float","Dh","=","Dg","/","De",";","float","Di","=","u_bloom_edge_lum",";","GLSL_OUT_FRAG_COLOR","=","m","*","max","(","Dh","-","Di",",","0.0",")","*","Df",";","}"]}]},exports["postprocessing/luminance_trunced.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"txt",TOKENS:["uniform","vec4","u_camera_quat",";","uniform","vec3","u_sun_direction",";","uniform","float","u_bloom_key",";","const","vec3","CU","=","vec3","(","0.0",",","1.0",",","0.0",")",";","GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","bQ",";","GLSL_OUT","float","Df",";","void","Dn","(","in","vec4","v",",","in","vec3","C",",","out","vec3","D",")","{","float","Dj","=","v",".","w","*","C",".","x","+","v",".","y","*","C",".","z","-","v",".","z","*","C",".","y",";","float","Dk","=","v",".","w","*","C",".","y","+","v",".","z","*","C",".","x","-","v",".","x","*","C",".","z",";","float","Dl","=","v",".","w","*","C",".","z","+","v",".","x","*","C",".","y","-","v",".","y","*","C",".","x",";","float","Dm","=","-","v",".","x","*","C",".","x","-","v",".","y","*","C",".","y","-","v",".","z","*","C",".","z",";","D",".","x","=","Dj","*","v",".","w","-","Dm","*","v",".","x","-","Dk","*","v",".","z","+","Dl","*","v",".","y",";","D",".","y","=","Dk","*","v",".","w","-","Dm","*","v",".","y","-","Dl","*","v",".","x","+","Dj","*","v",".","z",";","D",".","z","=","Dl","*","v",".","w","-","Dm","*","v",".","z","-","Dj","*","v",".","y","+","Dk","*","v",".","x",";","}","void","main","(",")","{","bQ","=","2.0","*","a_position",";","vec3","CV",";","Dn","(","u_camera_quat",",","CU",",","CV",")",";","Df","=","dot","(","-","CV",",","u_sun_direction",")","*","u_bloom_key",";","Df","*=","max","(","sign","(","u_sun_direction",".","y",")",",","0.0",")",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/motion_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_mb_tex_curr",";","uniform","sampler2D","u_mb_tex_accum",";","uniform","float","u_motion_blur_exp",";","uniform","float","u_motion_blur_decay_threshold",";","float","Do","=","0.0042",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","Dp","=","GLSL_TEXTURE","(","u_mb_tex_curr",",","bQ",")",";","vec4","Dq","=","GLSL_TEXTURE","(","u_mb_tex_accum",",","bQ",")",";","if","(","length","(","Dp","-","Dq",")",">","u_motion_blur_decay_threshold",")","{","vec4","Dr","=","(","1.0","-","u_motion_blur_exp",")","*","Dp","+","u_motion_blur_exp","*","Dq",";","vec4","Ds","=","Dr","-","Dq",";","vec4","Dt","=","Dp","-","Dq",";","vec4","wQ","=","min","(","max","(","abs","(","Ds",")",",","vec4","(","Do",")",")",",","abs","(","Dt",")",")","*","sign","(","Ds",")",";","GLSL_OUT_FRAG_COLOR","=","Dq","+","wQ",";","}","else","{","GLSL_OUT_FRAG_COLOR","=","Dp",";","}","}"]}]},exports["postprocessing/outline.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_outline_src",";","uniform","sampler2D","u_outline_mask",";","uniform","sampler2D","u_outline_mask_blurred",";","uniform","vec3","u_outline_color",";","uniform","float","u_draw_outline",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","Du","=","GLSL_TEXTURE","(","u_outline_src",",","bQ",")",";","GLSL_OUT_FRAG_COLOR","=","Du",";","if","(","u_draw_outline","!=","0.0",")","{","vec4","Dv","=","GLSL_TEXTURE","(","u_outline_mask",",","bQ",")",";","vec4","Dw","=","GLSL_TEXTURE","(","u_outline_mask_blurred",",","bQ",")",";","float","rO","=","Dw",".","a","-","Dv",".","a",";","if","(","rO","!=","0.0",")","{","float","Dx","=","smoothstep","(","0.0",",","1.0",",","Dw",".","a",")",";","if","(","Dv",".","a","==","0.0",")","{","vec3","Dy","=","u_outline_color",";","be","(","Dy",")",";","vec4","Dz","=","vec4","(","clamp","(","Dy",",","0.0",",","1.0",")",",","1.0",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","Du",",","Dz",",","Dx",")",";","}","}","}","}"]}]},exports["postprocessing/performance.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","m","=","vec4","(","0.0",")",";","for","(","int","aQ","=","0",";","aQ","<","100",";","aQ","++",")","m","+=","0.001","*","GLSL_TEXTURE","(","u_color",",","bQ","+","vec2","(","0.001","*","vec2","(","aQ",")",")",")",";","GLSL_OUT_FRAG_COLOR","=","m",";","}"]}]},exports["postprocessing/postprocessing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"define",NAME:"POST_EFFECT_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"POST_EFFECT_GRAYSCALE",TOKENS:["2"]},{TYPE:"define",NAME:"POST_EFFECT_X_BLUR",TOKENS:["3"]},{TYPE:"define",NAME:"POST_EFFECT_Y_BLUR",TOKENS:["4"]},{TYPE:"define",NAME:"POST_EFFECT_X_GLOW_BLUR",TOKENS:["5"]},{TYPE:"define",NAME:"POST_EFFECT_Y_GLOW_BLUR",TOKENS:["6"]},{TYPE:"define",NAME:"POST_EFFECT_X_DOF_BLUR",TOKENS:["7"]},{TYPE:"define",NAME:"POST_EFFECT_Y_DOF_BLUR",TOKENS:["8"]},{TYPE:"define",NAME:"POST_EFFECT_X_ALPHA_BLUR",TOKENS:["9"]},{TYPE:"define",NAME:"POST_EFFECT_Y_ALPHA_BLUR",TOKENS:["10"]},{TYPE:"define",NAME:"POST_EFFECT_X_EXTEND",TOKENS:["11"]},{TYPE:"define",NAME:"POST_EFFECT_Y_EXTEND",TOKENS:["12"]},{TYPE:"define",NAME:"FLIP_CUBEMAP_COORDS",TOKENS:["13"]},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_tex_number",";","uniform","vec2","u_delta",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","POST_EFFECT_X_DOF_BLUR",{TYPE:"equal_expr",PLACES:2},"POST_EFFECT","POST_EFFECT_Y_DOF_BLUR",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_dof_bokeh_intensity",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","POST_EFFECT_NONE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_GRAYSCALE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ov","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","vec3","(","(","ov",".","r","+","ov",".","g","+","ov",".","b",")","/","3.0",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","1.0",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_X_BLUR",{TYPE:"equal_expr",PLACES:2},"POST_EFFECT","POST_EFFECT_Y_BLUR",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cm","=","vec2","(","0.0",",","0.0",")",";","vec2","wQ","=","u_texel_size",";","vec4","m",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";","GLSL_OUT_FRAG_COLOR","=","m","*","0.2270270270",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","0.1945945946",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","0.1945945946",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","0.1216216216",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","0.1216216216",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","0.0540540541",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","0.0540540541",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","0.0162162162",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","0.0162162162",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_X_GLOW_BLUR",{TYPE:"equal_expr",PLACES:2},"POST_EFFECT","POST_EFFECT_Y_GLOW_BLUR",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cm","=","vec2","(","0.0",",","0.0",")",";","vec2","wQ","=","u_texel_size",";","vec4","m",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";","GLSL_OUT_FRAG_COLOR","=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.152507",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.141763",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.141763",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.113861",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.113861",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.079019",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.079019",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.047383",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.047383",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.024549",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.024549",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.01099",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.01099",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.00425",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.00425",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.00142",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","GLSL_OUT_FRAG_COLOR","+=","m","*","(","1.0","-","step","(","0.0",",","-","m",".","a",")",")","*","0.00142",";","GLSL_OUT_FRAG_COLOR","=","clamp","(","GLSL_OUT_FRAG_COLOR",",","0.0",",","1.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_X_DOF_BLUR",{TYPE:"equal_expr",PLACES:2},"POST_EFFECT","POST_EFFECT_Y_DOF_BLUR",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cm","=","vec2","(","0.0",",","0.0",")",";","vec2","wQ","=","u_texel_size",";","vec4","m",";","vec4","DA",";","vec4","DB",";","float","Cv",";","float","DC","=","u_dof_bokeh_intensity",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";","DA","=","m",";","DB","=","m",";","Cv","=","m",".","a",";","wQ","=","Cv","*","wQ",";","for","(","int","aQ","=","0",";","aQ","<","12",";","aQ","+=","2",")","{","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","DA","+=","m",";","DB","=","max","(","DB",",","m",")",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","DA","+=","m",";","DB","=","max","(","DB",",","m",")",";","}","DA","/=","13.0",";","GLSL_OUT_FRAG_COLOR","=","mix","(","DA",",","DB",",","DC",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_X_ALPHA_BLUR",{TYPE:"equal_expr",PLACES:2},"POST_EFFECT","POST_EFFECT_Y_ALPHA_BLUR",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cm","=","vec2","(","0.0",",","0.0",")",";","vec2","wQ","=","u_texel_size",";","vec4","m",";","vec4","DA",";","vec4","DB",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";","DB","=","max","(","DB",",","m",")",";","DA","=","m",";","DA",".","a","=","m",".","a","*","0.2270270270",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","DB",".","a","=","max","(","DB",".","a",",","m",".","a",")",";","DA",".","a","+=","m",".","a","*","0.1945945946",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","DB",".","a","=","max","(","DB",".","a",",","m",".","a",")",";","DA",".","a","+=","m",".","a","*","0.1945945946",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","DB",".","a","=","max","(","DB",".","a",",","m",".","a",")",";","DA",".","a","+=","m",".","a","*","0.1216216216",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","DB",".","a","=","max","(","DB",".","a",",","m",".","a",")",";","DA",".","a","+=","m",".","a","*","0.1216216216",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","DB",".","a","=","max","(","DB",".","a",",","m",".","a",")",";","DA",".","a","+=","m",".","a","*","0.0540540541",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","DB",".","a","=","max","(","DB",".","a",",","m",".","a",")",";","DA",".","a","+=","m",".","a","*","0.0540540541",";","cm","+=","wQ",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","cm",")",";","DB",".","a","=","max","(","DB",".","a",",","m",".","a",")",";","DA",".","a","+=","m",".","a","*","0.0162162162",";","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","cm",")",";","DB",".","a","=","max","(","DB",".","a",",","m",".","a",")",";","DA",".","a","+=","m",".","a","*","0.0162162162",";","GLSL_OUT_FRAG_COLOR","=","mix","(","DA",",","DB",",","0.5",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_X_EXTEND",{TYPE:"equal_expr",PLACES:2},"POST_EFFECT","POST_EFFECT_Y_EXTEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","wQ","=","u_texel_size",";","vec4","m","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";","GLSL_OUT_FRAG_COLOR","=","m",";","if","(","m",".","a","==","0.0",")","{","m","=","GLSL_TEXTURE","(","u_color",",","bQ","+","wQ",")",";","if","(","m",".","a",">","0.0",")","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","m",".","a",")",";","else","{","m","=","GLSL_TEXTURE","(","u_color",",","bQ","-","wQ",")",";","if","(","m",".","a",">","0.0",")","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","m",".","a",")",";","}","}"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","DD","=","u_delta","[","0","]",";","float","DE","=","u_delta","[","1","]",";","float","DF","=","1.0","/","3.0",";","float","DG","=","0.5",";","vec2","bA","=","vec2","(","DF",",","DG",")",";","if","(","u_tex_number","==","0",")","{","vec2","bv","=","bQ","*","bA","+","vec2","(","2.0","*","DF",",","0.0",")",";","bv","[","0","]","=","min","(","bv","[","0","]",",","1.0","-","DD",")",";","bv","[","1","]","=","min","(","bv","[","1","]",",","0.5","-","DE",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","5.0","*","DF","-","bv","[","0","]",",","bv","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","1",")","{","vec2","bv","=","bQ","*","bA",";","bv","[","0","]","=","max","(","bv","[","0","]",",","DD",")",";","bv","[","1","]","=","min","(","bv","[","1","]",",","0.5","-","DE",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","DF","-","bv","[","0","]",",","bv","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","2",")","{","vec2","bv","=","bQ","*","bA","+","vec2","(","DF",",","DG",")",";","bv","[","0","]","=","max","(","bv","[","0","]",",","DF","+","DD",")",";","bv","[","0","]","=","min","(","bv","[","0","]",",","2.0","*","DF","-","DD",")",";","bv","[","1","]","=","min","(","bv","[","1","]",",","1.0","-","DE",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bv","[","0","]",",","3.0","*","DG","-","bv","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","3",")","{","vec2","bv","=","bQ","*","bA","+","vec2","(","0.0",",","DG",")",";","bv","[","0","]","=","min","(","bv","[","0","]",",","DF","-","DD",")",";","bv","[","1","]","=","min","(","bv","[","1","]",",","1.0","-","DE",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bv","[","0","]",",","3.0","*","DG","-","bv","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","4",")","{","vec2","bv","=","bQ","*","bA","+","vec2","(","DF",",","0.0",")",";","bv","[","0","]","=","max","(","bv","[","0","]",",","DF","+","DD",")",";","bv","[","0","]","=","min","(","bv","[","0","]",",","2.0","*","DF","-","DD",")",";","bv","[","1","]","=","min","(","bv","[","1","]",",","0.5","-","DE",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","1.0","-","bv","[","0","]",",","bv","[","1","]",")",")",";","}","else","{","vec2","bv","=","bQ","*","bA","+","vec2","(","2.0","*","DF",",","DG",")",";","bv","[","0","]","=","min","(","bv","[","0","]",",","1.0","-","DD",")",";","bv","[","1","]","=","max","(","bv","[","1","]",",","0.5","+","DE",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","5.0","*","DF","-","bv","[","0","]",",","bv","[","1","]",")",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/postprocessing.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","bQ",";","void","main","(",")","{","bQ","=","2.0","*","a_position",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/smaa.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"define",NAME:"SMAA_RESOLVE",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_EDGE_DETECTION",TOKENS:["2"]},{TYPE:"define",NAME:"SMAA_BLENDING_WEIGHT_CALCULATION",TOKENS:["3"]},{TYPE:"define",NAME:"SMAA_NEIGHBORHOOD_BLENDING",TOKENS:["4"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_LOW",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_MEDIUM",TOKENS:["2"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_HIGH",TOKENS:["3"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_ULTRA",TOKENS:["4"]},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color_prev",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_blend",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_velocity_tex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2},"SMAA_PREDICATION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_predication_tex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_search_tex",";","uniform","sampler2D","u_area_tex",";","uniform","vec4","u_subsample_indices",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","GLSL_IN","vec2","bQ",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","DH",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","DI",";","GLSL_IN","vec4","DJ",";","GLSL_IN","vec4","DK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","DL",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.15"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["1"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["1"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["0"]},{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["8"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.05"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["0"]},{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["16"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_DEPTH_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_DEPTH_THRESHOLD",TOKENS:["(","0.1","*","SMAA_THRESHOLD",")"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["8"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_CORNER_ROUNDING",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",TOKENS:["2.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_THRESHOLD",TOKENS:["0.01"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_SCALE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_SCALE",TOKENS:["2.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_STRENGTH",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_STRENGTH",TOKENS:["0.4"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_REPROJECTION",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_REPROJECTION",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_REPROJECTION_WEIGHT_SCALE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_REPROJECTION_WEIGHT_SCALE",TOKENS:["30.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}}]},{TYPE:"define",NAME:"SMAA_AREATEX_MAX_DISTANCE",TOKENS:["16"]},{TYPE:"define",NAME:"SMAA_AREATEX_MAX_DISTANCE_DIAG",TOKENS:["20"]},{TYPE:"define",NAME:"SMAA_AREATEX_PIXEL_SIZE",TOKENS:["(","1.0","/","vec2","(","160.0",",","560.0",")",")"]},{TYPE:"define",NAME:"SMAA_AREATEX_SUBTEX_SIZE",TOKENS:["(","1.0","/","7.0",")"]},{TYPE:"define",NAME:"SMAA_SEARCHTEX_SIZE",TOKENS:["vec2","(","66.0",",","33.0",")"]},{TYPE:"define",NAME:"SMAA_SEARCHTEX_PACKED_SIZE",TOKENS:["vec2","(","64.0",",","16.0",")"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING_NORM",TOKENS:["(","float","(","SMAA_CORNER_ROUNDING",")","/","100.0",")"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","DO","(","vec2","bv",",","sampler2D","AJ",")","{","float","p","=","GLSL_TEXTURE","(","AJ",",","bv",")",".","r",";","float","DM","=","GLSL_TEXTURE","(","AJ",",","DI",".","xy",")",".","r",";","float","DN","=","GLSL_TEXTURE","(","AJ",",","DI",".","zw",")",".","r",";","return","vec3","(","p",",","DM",",","DN",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","DS","(","vec2","bv",",","sampler2D","DP",")","{","vec3","DQ","=","DO","(","bv",",","DP",")",";","vec2","wQ","=","abs","(","DQ",".","xx","-","DQ",".","yz",")",";","vec2","DR","=","step","(","SMAA_PREDICATION_THRESHOLD",",","wQ",")",";","return","SMAA_PREDICATION_SCALE","*","SMAA_THRESHOLD","*","(","1.0","-","SMAA_PREDICATION_STRENGTH","*","DR",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","DV","(","bvec2","DT",",","inout","vec2","DU",",","vec2","ai",")","{","if","(","DT",".","x",")","DU",".","x","=","ai",".","x",";","if","(","DT",".","y",")","DU",".","y","=","ai",".","y",";","}","void","DV","(","bvec4","DT",",","inout","vec4","DU",",","vec4","ai",")","{","DV","(","DT",".","xy",",","DU",".","xy",",","ai",".","xy",")",";","DV","(","DT",".","zw",",","DU",".","zw",",","ai",".","zw",")",";","}","vec2","DW","(","vec2","x",")","{","return","sign","(","x",")","*","floor","(","abs","(","x",")","+",".5",")",";","}","vec4","DW","(","vec4","x",")","{","return","sign","(","x",")","*","floor","(","abs","(","x",")","+",".5",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","Ei","(","vec2","bv",",","sampler2D","DX"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","DP"]}]}}]},{TYPE:"txt",TOKENS:[")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","DY","=","DS","(","bv",",","DP",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","DY","=","vec2","(","SMAA_THRESHOLD",",","SMAA_THRESHOLD",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","DZ","=","vec3","(","0.2126",",","0.7152",",","0.0722",")",";","float","D_","=","dot","(","GLSL_TEXTURE","(","DX",",","bv",")",".","rgb",",","DZ",")",";","float","Ea","=","dot","(","GLSL_TEXTURE","(","DX",",","DI",".","xy",")",".","rgb",",","DZ",")",";","float","Eb","=","dot","(","GLSL_TEXTURE","(","DX",",","DI",".","zw",")",".","rgb",",","DZ",")",";","vec4","wQ",";","wQ",".","xy","=","abs","(","D_","-","vec2","(","Ea",",","Eb",")",")",";","vec2","DR","=","step","(","DY",",","wQ",".","xy",")",";","if","(","dot","(","DR",",","vec2","(","1.0",",","1.0",")",")","==","0.0",")","discard",";","float","Ec","=","dot","(","GLSL_TEXTURE","(","DX",",","DJ",".","xy",")",".","rgb",",","DZ",")",";","float","Ed","=","dot","(","GLSL_TEXTURE","(","DX",",","DJ",".","zw",")",".","rgb",",","DZ",")",";","wQ",".","zw","=","abs","(","D_","-","vec2","(","Ec",",","Ed",")",")",";","vec2","Ee","=","max","(","wQ",".","xy",",","wQ",".","zw",")",";","float","Ef","=","dot","(","GLSL_TEXTURE","(","DX",",","DK",".","xy",")",".","rgb",",","DZ",")",";","float","Eg","=","dot","(","GLSL_TEXTURE","(","DX",",","DK",".","zw",")",".","rgb",",","DZ",")",";","wQ",".","zw","=","abs","(","vec2","(","Ea",",","Eb",")","-","vec2","(","Ef",",","Eg",")",")",";","Ee","=","max","(","Ee",".","xy",",","wQ",".","zw",")",";","float","Eh","=","max","(","Ee",".","x",",","Ee",".","y",")",";","DR",".","xy","*=","step","(","Eh",",","SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR","*","wQ",".","xy",")",";","return","DR",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","Ej","(","vec2","dE",")","{","dE",".","r","=","dE",".","r","*","abs","(","5.0","*","dE",".","r","-","5.0","*","0.75",")",";","return","DW","(","dE",")",";","}","vec4","Ej","(","vec4","dE",")","{","dE",".","rb","=","dE",".","rb","*","abs","(","5.0","*","dE",".","rb","-","5.0","*","0.75",")",";","return","DW","(","dE",")",";","}","vec2","El","(","sampler2D","Ek",",","vec2","bv",",","vec2","H",",","out","vec2","dE",")","{","vec4","aY","=","vec4","(","bv",",","-","1.0",",","1.0",")",";","vec3","t","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","aQ","=","0",";","aQ","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","aQ","++",")","{","if","(","aY",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","aY",".","w",">","0.9",")","{","aY",".","xyz","+=","t","*","vec3","(","H",",","1.0",")",";","dE","=","GLSL_TEXTURE","(","Ek",",","aY",".","xy",",","0.0",")",".","rg",";","aY",".","w","=","dot","(","dE",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","aY",".","zw",";","}","vec2","Em","(","sampler2D","Ek",",","vec2","bv",",","vec2","H",",","out","vec2","dE",")","{","vec4","aY","=","vec4","(","bv",",","-","1.0",",","1.0",")",";","aY",".","x","+=","0.25","*","u_texel_size",".","x",";","vec3","t","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","aQ","=","0",";","aQ","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","aQ","++",")","{","if","(","aY",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","aY",".","w",">","0.9",")","{","aY",".","xyz","=","t","*","vec3","(","H",",","1.0",")","+","aY",".","xyz",";","dE","=","GLSL_TEXTURE","(","Ek",",","aY",".","xy",",","0.0",")",".","rg",";","dE","=","Ej","(","dE",")",";","aY",".","w","=","dot","(","dE",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","aY",".","zw",";","}","vec2","Eo","(","sampler2D","En",",","vec2","m_",",","vec2","dE",",","float","cm",")","{","vec2","bv","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE_DIAG",",","SMAA_AREATEX_MAX_DISTANCE_DIAG",")","*","dE","+","m_",";","bv","=","SMAA_AREATEX_PIXEL_SIZE","*","bv","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","bv",".","x","+=","0.5",";","bv",".","y","+=","SMAA_AREATEX_SUBTEX_SIZE","*","cm",";","return","GLSL_TEXTURE","(","En",",","bv",",","0.0",")",".","rg",";","}","vec2","Es","(","sampler2D","Ek",",","sampler2D","En",",","vec2","bv",",","vec2","dE",",","vec4","Ep",")","{","vec2","DZ","=","vec2","(","0.0",",","0.0",")",";","vec4","aH",";","vec2","Eq",";","if","(","dE",".","r",">","0.0",")","{","aH",".","xz","=","El","(","Ek",",","bv",",","vec2","(","-","1.0",",","1.0",")",",","Eq",")",";","aH",".","x","+=","float","(","Eq",".","y",">","0.9",")",";","}","else","aH",".","xz","=","vec2","(","0.0",",","0.0",")",";","aH",".","yw","=","El","(","Ek",",","bv",",","vec2","(","1.0",",","-","1.0",")",",","Eq",")",";","if","(","aH",".","x","+","aH",".","y",">","2.0",")","{","vec4","cd","=","vec4","(","-","aH",".","x","+","0.25",",","aH",".","x",",","aH",".","y",",","-","aH",".","y","-","0.25",")","*","u_texel_size",".","xyxy","+","bv",".","xyxy",";","vec4","ov",";","ov",".","xy","=","GLSL_TEXTURE","(","Ek",",","cd",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","rg",";","ov",".","zw","=","GLSL_TEXTURE","(","Ek",",","cd",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","rg",";","ov",".","yxwz","=","Ej","(","ov",".","xyzw",")",";","vec2","Er","=","vec2","(","2.0",",","2.0",")","*","ov",".","xz","+","ov",".","yw",";","DV","(","bvec2","(","step","(","0.9",",","aH",".","zw",")",")",",","Er",",","vec2","(","0.0",",","0.0",")",")",";","DZ","+=","Eo","(","En",",","aH",".","xy",",","Er",",","Ep",".","z",")",";","}","aH",".","xz","=","Em","(","Ek",",","bv",",","vec2","(","-","1",",","-","1",")",",","Eq",")",";","if","(","GLSL_TEXTURE","(","Ek",",","bv","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",">","0.0",")","{","aH",".","yw","=","Em","(","Ek",",","bv",",","vec2","(","1",",","1",")",",","Eq",")",";","aH",".","y","+=","float","(","Eq",".","y",">","0.9",")",";","}","else","aH",".","yw","=","vec2","(","0.0",",","0.0",")",";","if","(","aH",".","x","+","aH",".","y",">","2.0",")","{","vec4","cd","=","vec4","(","-","aH",".","x",",","-","aH",".","x",",","aH",".","y",",","aH",".","y",")","*","u_texel_size",".","xyxy","+","bv",".","xyxy",";","vec4","ov",";","ov",".","x","=","GLSL_TEXTURE","(","Ek",",","cd",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","g",";","ov",".","y","=","GLSL_TEXTURE","(","Ek",",","cd",".","xy","+","u_texel_size","*","vec2","(","0",",","-","1",")",",","0.0",")",".","r",";","ov",".","zw","=","GLSL_TEXTURE","(","Ek",",","cd",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","gr",";","vec2","Er","=","vec2","(","2.0",",","2.0",")","*","ov",".","xz","+","ov",".","yw",";","DV","(","bvec2","(","step","(","0.9",",","aH",".","zw",")",")",",","Er",",","vec2","(","0",",","0",")",")",";","DZ","+=","Eo","(","En",",","aH",".","xy",",","Er",",","Ep",".","w",")",".","gr",";","}","return","DZ",";","}"]}]}}]},{TYPE:"txt",TOKENS:["float","Ev","(","sampler2D","Et",",","vec2","dE",",","float","cm",")","{","vec2","bA","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","0.5",",","-","1.0",")",";","vec2","Eu","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","cm",",","1.0",")",";","bA","+=","vec2","(","-","1.0",",","1.0",")",";","Eu","+=","vec2","(","0.5",",","-","0.5",")",";","bA","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","Eu","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","return","GLSL_TEXTURE","(","Et",",","bA","*","dE","+","Eu",",","0.0",")",".","r",";","}","float","Ew","(","sampler2D","Ek",",","sampler2D","Et",",","vec2","bv",",","float","Eq",")","{","vec2","dE","=","vec2","(","0.0",",","1.0",")",";","for","(","int","aQ","=","0",";","aQ","<","SMAA_MAX_SEARCH_STEPS",";","aQ","++",")","{","if","(","bv",".","x",">","Eq","&&","dE",".","g",">","0.8281","&&","dE",".","r","==","0.0",")","{","dE","=","GLSL_TEXTURE","(","Ek",",","bv",",","0.0",")",".","rg",";","bv","=","-","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","bv",";","}","}","float","cm","=","-","(","255.0","/","127.0",")","*","Ev","(","Et",",","dE",",","0.0",")","+","3.25",";","return","u_texel_size",".","x","*","cm","+","bv",".","x",";","}","float","Ex","(","sampler2D","Ek",",","sampler2D","Et",",","vec2","bv",",","float","Eq",")","{","vec2","dE","=","vec2","(","0.0",",","1.0",")",";","for","(","int","aQ","=","0",";","aQ","<","SMAA_MAX_SEARCH_STEPS",";","aQ","++",")","{","if","(","bv",".","x","<","Eq","&&","dE",".","g",">","0.8281","&&","dE",".","r","==","0.0",")","{","dE","=","GLSL_TEXTURE","(","Ek",",","bv",",","0.0",")",".","rg",";","bv","=","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","bv",";","}","}","float","cm","=","-","(","255.0","/","127.0",")","*","Ev","(","Et",",","dE",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","x","*","cm","+","bv",".","x",";","}","float","Ey","(","sampler2D","Ek",",","sampler2D","Et",",","vec2","bv",",","float","Eq",")","{","vec2","dE","=","vec2","(","1.0",",","0.0",")",";","for","(","int","aQ","=","0",";","aQ","<","SMAA_MAX_SEARCH_STEPS",";","aQ","++",")","{","if","(","bv",".","y",">","Eq","&&","dE",".","r",">","0.8281","&&","dE",".","g","==","0.0",")","{","dE","=","GLSL_TEXTURE","(","Ek",",","bv",",","0.0",")",".","rg",";","bv","=","-","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","bv",";","}","}","float","cm","=","-","(","255.0","/","127.0",")","*","Ev","(","Et",",","dE",".","gr",",","0.0",")","+","3.25",";","return","u_texel_size",".","y","*","cm","+","bv",".","y",";","}","float","Ez","(","sampler2D","Ek",",","sampler2D","Et",",","vec2","bv",",","float","Eq",")","{","vec2","dE","=","vec2","(","1.0",",","0.0",")",";","for","(","int","aQ","=","0",";","aQ","<","SMAA_MAX_SEARCH_STEPS",";","aQ","++",")","{","if","(","bv",".","y","<","Eq","&&","dE",".","r",">","0.8281","&&","dE",".","g","==","0.0",")","{","dE","=","GLSL_TEXTURE","(","Ek",",","bv",",","0.0",")",".","rg",";","bv","=","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","bv",";","}","}","float","cm","=","-","(","255.0","/","127.0",")","*","Ev","(","Et",",","dE",".","gr",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","y","*","cm","+","bv",".","y",";","}","vec2","EC","(","sampler2D","En",",","vec2","m_",",","float","EA",",","float","EB",",","float","cm",")","{","vec2","bv","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE",",","SMAA_AREATEX_MAX_DISTANCE",")","*","DW","(","4.0","*","vec2","(","EA",",","EB",")",")","+","m_",";","bv","=","SMAA_AREATEX_PIXEL_SIZE","*","bv","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","bv",".","y","=","SMAA_AREATEX_SUBTEX_SIZE","*","cm","+","bv",".","y",";","return","GLSL_TEXTURE","(","En",",","bv",",","0.0",")",".","rg",";","}","void","EF","(","sampler2D","Ek",",","inout","vec2","DZ",",","vec4","bv",",","vec2","aH",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_CORNER_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ED","=","step","(","aH",".","xy",",","aH",".","yx",")",";","vec2","EE","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","ED",";","EE","/=","ED",".","x","+","ED",".","y",";","vec2","cz","=","vec2","(","1.0",",","1.0",")",";","cz",".","x","-=","EE",".","x","*","GLSL_TEXTURE","(","Ek",",","bv",".","xy","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","r",";","cz",".","x","-=","EE",".","y","*","GLSL_TEXTURE","(","Ek",",","bv",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","r",";","cz",".","y","-=","EE",".","x","*","GLSL_TEXTURE","(","Ek",",","bv",".","xy","+","u_texel_size","*","vec2","(","0",",","-","2",")",",","0.0",")",".","r",";","cz",".","y","-=","EE",".","y","*","GLSL_TEXTURE","(","Ek",",","bv",".","zw","+","u_texel_size","*","vec2","(","1",",","-","2",")",",","0.0",")",".","r",";","DZ","*=","clamp","(","cz",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","EG","(","sampler2D","Ek",",","inout","vec2","DZ",",","vec4","bv",",","vec2","aH",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_CORNER_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ED","=","step","(","aH",".","xy",",","aH",".","yx",")",";","vec2","EE","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","ED",";","EE","/=","ED",".","x","+","ED",".","y",";","vec2","cz","=","vec2","(","1.0",",","1.0",")",";","cz",".","x","-=","EE",".","x","*","GLSL_TEXTURE","(","Ek",",","bv",".","xy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","g",";","cz",".","x","-=","EE",".","y","*","GLSL_TEXTURE","(","Ek",",","bv",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","g",";","cz",".","y","-=","EE",".","x","*","GLSL_TEXTURE","(","Ek",",","bv",".","xy","+","u_texel_size","*","vec2","(","-","2",",","0",")",",","0.0",")",".","g",";","cz",".","y","-=","EE",".","y","*","GLSL_TEXTURE","(","Ek",",","bv",".","zw","+","u_texel_size","*","vec2","(","-","2",",","1",")",",","0.0",")",".","g",";","DZ","*=","clamp","(","cz",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","EJ","(","vec2","bv",",","vec2","EH",",","sampler2D","Ek",",","sampler2D","En",",","sampler2D","Et",",","vec4","Ep",")","{","vec4","DZ","=","vec4","(","0.0",",","0.0",",","0.0",",","0.0",")",";","vec2","dE","=","GLSL_TEXTURE","(","Ek",",","bv",")",".","rg",";","if","(","dE",".","g",">","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["DZ",".","rg","=","Es","(","Ek",",","En",",","bv",",","dE",",","Ep",")",";","if","(","DZ",".","r","==","-","DZ",".","g",")","{"]}]}}]},{TYPE:"txt",TOKENS:["vec2","aH",";","vec3","cd",";","cd",".","x","=","Ew","(","Ek",",","Et",",","DI",".","xy",",","DK",".","x",")",";","cd",".","y","=","DJ",".","y",";","aH",".","x","=","cd",".","x",";","float","EA","=","GLSL_TEXTURE","(","Ek",",","cd",".","xy",",","0.0",")",".","r",";","cd",".","z","=","Ex","(","Ek",",","Et",",","DI",".","zw",",","DK",".","y",")",";","aH",".","y","=","cd",".","z",";","aH","=","abs","(","DW","(","aH","/","u_texel_size",".","xx","-","EH",".","xx",")",")",";","vec2","EI","=","sqrt","(","aH",")",";","float","EB","=","GLSL_TEXTURE","(","Ek",",","cd",".","zy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",";","DZ",".","rg","=","EC","(","En",",","EI",",","EA",",","EB",",","Ep",".","y",")",";","cd",".","y","=","bv",".","y",";","EF","(","Ek",",","DZ",".","rg",",","cd",".","xyzy",",","aH",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["}","else","dE",".","r","=","0.0",";"]}]}}]},{TYPE:"txt",TOKENS:["}","if","(","dE",".","r",">","0.0",")","{","vec2","aH",";","vec3","cd",";","cd",".","y","=","Ey","(","Ek",",","Et",",","DJ",".","xy",",","DK",".","z",")",";","cd",".","x","=","DI",".","x",";","aH",".","x","=","cd",".","y",";","float","EA","=","GLSL_TEXTURE","(","Ek",",","cd",".","xy",",","0.0",")",".","g",";","cd",".","z","=","Ez","(","Ek",",","Et",",","DJ",".","zw",",","DK",".","w",")",";","aH",".","y","=","cd",".","z",";","aH","=","abs","(","DW","(","aH","/","u_texel_size",".","yy","-","EH",".","yy",")",")",";","vec2","EI","=","sqrt","(","aH",")",";","float","EB","=","GLSL_TEXTURE","(","Ek",",","cd",".","xz","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","g",";","DZ",".","ba","=","EC","(","En",",","EI",",","EA",",","EB",",","Ep",".","x",")",";","cd",".","x","=","bv",".","x",";","EG","(","Ek",",","DZ",".","ba",",","cd",".","xyxz",",","aH",")",";","}","return","DZ",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ER","(","vec2","bv",",","sampler2D","DX",",","sampler2D","EK"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","EL"]}]}}]},{TYPE:"txt",TOKENS:[")","{","vec4","a",";","a",".","x","=","GLSL_TEXTURE","(","EK",",","DH",".","xy",")",".","a",";","a",".","y","=","GLSL_TEXTURE","(","EK",",","DH",".","zw",")",".","g",";","a",".","wz","=","GLSL_TEXTURE","(","EK",",","bv",")",".","xz",";","if","(","dot","(","a",",","vec4","(","1.0",",","1.0",",","1.0",",","1.0",")",")","<","1e-5",")","{","vec4","m","=","GLSL_TEXTURE","(","DX",",","bv",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","EM","=","GLSL_TEXTURE","(","EL",",","bQ",")",";","vec2","wV","=","2.0","*","as","(","EM",")","-","1.0",";","m",".","a","=","sqrt","(","2.0","*","length","(","wV",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","m",";","}","else","{","bool","aV","=","max","(","a",".","x",",","a",".","z",")",">","max","(","a",".","y",",","a",".","w",")",";","vec4","EN","=","vec4","(","0.0",",","a",".","y",",","0.0",",","a",".","w",")",";","vec2","EO","=","a",".","yw",";","DV","(","bvec4","(","aV",",","aV",",","aV",",","aV",")",",","EN",",","vec4","(","a",".","x",",","0.0",",","a",".","z",",","0.0",")",")",";","DV","(","bvec2","(","aV",",","aV",")",",","EO",",","a",".","xz",")",";","EO","/=","dot","(","EO",",","vec2","(","1.0",",","1.0",")",")",";","vec4","EP","=","EN","*","vec4","(","u_texel_size",",","-","u_texel_size",")","+","bv",".","xyxy",";","vec4","m","=","EO",".","x","*","GLSL_TEXTURE","(","DX",",","EP",".","xy",",","0.0",")",";","m","+=","EO",".","y","*","GLSL_TEXTURE","(","DX",",","EP",".","zw",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","EM","=","GLSL_TEXTURE","(","EL",",","EP",".","xy",")",";","vec2","EQ","=","2.0","*","as","(","EM",")","-","1.0",";","vec2","wV","=","EO",".","x","*","EQ",";","EM","=","GLSL_TEXTURE","(","EL",",","EP",".","zw",")",";","EQ","=","2.0","*","as","(","EM",")","-","1.0",";","wV","+=","EO",".","y","*","EQ",";","m",".","a","=","sqrt","(","2.0","*","length","(","wV",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","m",";","}","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","EW","(","vec2","bv",",","sampler2D","ES",",","sampler2D","ET"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","EL"]}]}}]},{TYPE:"txt",TOKENS:[")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","EM","=","GLSL_TEXTURE","(","EL",",","bQ",")",";","vec2","wV",";","wV","=","2.0","*","as","(","EM",")","-","1.0",";","vec4","EU","=","GLSL_TEXTURE","(","ES",",","bv",")",";","vec4","EV","=","GLSL_TEXTURE","(","ET",",","bv","-","wV",")",";","float","wQ","=","abs","(","EU",".","a","*","EU",".","a","-","EV",".","a","*","EV",".","a",")","/","2.0",";","float","qR","=","0.5","*","clamp","(","1.0","-","sqrt","(","wQ",")","*","SMAA_REPROJECTION_WEIGHT_SCALE",",","0.0",",","1.0",")",";","vec4","m","=","mix","(","EU",",","EV",",","qR",")",";","m",".","a","=","1.0",";","return","m",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","EU","=","GLSL_TEXTURE","(","ES",",","bv",")",";","vec4","EV","=","GLSL_TEXTURE","(","ET",",","bv",")",";","return","mix","(","EU",",","EV",",","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","m","=","vec4","(","Ei","(","bQ",",","u_color"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_predication_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",",","0.0",",","0.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","m","=","EJ","(","bQ",",","DL",",","u_color",",","u_area_tex",",","u_search_tex",",","u_subsample_indices",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","m","=","ER","(","bQ",",","u_color",",","u_blend"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_velocity_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","m","=","vec4","(","EW","(","bQ",",","u_color",",","u_color_prev"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_velocity_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","m","=","GLSL_TEXTURE","(","u_color",",","bQ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","m",";","}"]}]},exports["postprocessing/smaa.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"define",NAME:"SMAA_EDGE_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_BLENDING_WEIGHT_CALCULATION",TOKENS:["2"]},{TYPE:"define",NAME:"SMAA_NEIGHBORHOOD_BLENDING",TOKENS:["3"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_LOW",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_MEDIUM",TOKENS:["2"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_HIGH",TOKENS:["3"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_ULTRA",TOKENS:["4"]},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","bQ",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","DH",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","DI",";","GLSL_OUT","vec4","DJ",";","GLSL_OUT","vec4","DK",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","DL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["4"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["8"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["32"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","EX","(","vec2","bv",")","{","DI","=","u_texel_size",".","xyxy","*","vec4","(","-","1.0",",","0.0",",","0.0",",","-","1.0",")","+","bv",".","xyxy",";","DJ","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","bv",".","xyxy",";","DK","=","u_texel_size",".","xyxy","*","vec4","(","-","2.0",",","0.0",",","0.0",",","-","2.0",")","+","bv",".","xyxy",";","}"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","EY","(","vec2","bv",",","out","vec2","EH",")","{","EH","=","bv","/","u_texel_size",";","DI","=","u_texel_size",".","xyxy","*","vec4","(","-","0.25",",","-","0.125",",","1.25",",","-","0.125",")","+","bv",".","xyxy",";","DJ","=","u_texel_size",".","xyxy","*","vec4","(","-","0.125",",","-","0.25",",","-","0.125",",","1.25",")","+","bv",".","xyxy",";","DK","=","u_texel_size",".","xxyy","*","vec4","(","-","2.0",",","2.0",",","-","2.0",",","2.0",")","*","float","(","SMAA_MAX_SEARCH_STEPS",")","+","vec4","(","DI",".","xz",",","DJ",".","yw",")",";","}"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","EZ","(","vec2","bv",")","{","DH","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","bv",".","xyxy",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","bQ","=","2.0","*","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EX","(","bQ",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EY","(","bQ",",","DL",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["EZ","(","bQ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/ssao.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"define",NAME:"SSAO_QUALITY_8",TOKENS:["1"]},{TYPE:"define",NAME:"SSAO_QUALITY_16",TOKENS:["2"]},{TYPE:"define",NAME:"SSAO_QUALITY_24",TOKENS:["3"]},{TYPE:"define",NAME:"SSAO_QUALITY_32",TOKENS:["4"]},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";","uniform","sampler2D","u_ssao_special_tex",";","uniform","vec2","u_camera_range",";","uniform","vec2","u_texel_size",";","uniform","float","u_ssao_radius_increase",";","uniform","float","u_ssao_influence",";","uniform","float","u_ssao_dist_factor",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","float","E_","(","in","vec2","aY",")","{","return","Cu","(","u_depth",",","aY",",","u_camera_range",")",";","}","void","main","(",")","{","vec3","Cy","=","GLSL_TEXTURE","(","u_color",",","bQ",")",".","rgb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_WHITE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","Cy",",","1.0",")",";","return",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","Fa","=","normalize","(","2.0","*","GLSL_TEXTURE","(","u_ssao_special_tex",",","bQ","*","0.25","/","u_texel_size",")",".","rgb","-","1.0",")",";","float","ao","=","E_","(","bQ",")",";","float","Fb","=","ao","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_8",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","Fc","=","8.0",";","const","int","Fd","=","1",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_16",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","Fc","=","16.0",";","const","int","Fd","=","2",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_24",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","Fc","=","24.0",";","const","int","Fd","=","3",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_32",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","Fc","=","32.0",";","const","int","Fd","=","4",";"]}]}}]},{TYPE:"txt",TOKENS:["float","Fe","=","u_ssao_radius_increase","*","0.001",";","const","float","Ff","=","1.0","+","2.4","/","Fc",";","float","al","=","0.0",";","for","(","int","aQ","=","0",";","aQ","<","Fd",";","aQ","++",")","for","(","int","x","=","-","1",";","x","<=","1",";","x","+=","2",")","for","(","int","y","=","-","1",";","y","<=","1",";","y","+=","2",")","for","(","int","z","=","-","1",";","z","<=","1",";","z","+=","2",")","{","vec3","Fg","=","reflect","(","normalize","(","vec3","(","x",",","y",",","z",")",")",",","Fa",")","*","(","Fe","*=","Ff",")",";","vec3","sI","=","vec3","(","bQ",",","Fb",")",";","sI","+=","vec3","(","Fg",".","xy",",","Fg",".","z","*","Fb","*","2.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sI",".","z","-=","1.4","*","(","sI",".","z","-","Fb",")","*","step","(","Fb",",","sI",".","z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","Fh","=","E_","(","sI",".","xy",")","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";","float","Fi","=","clamp","(","(","Fb","-","Fh",")","/","Fh",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["al","+=","mix","(","1.0",",","Fi",",","step","(","Fh",",","sI",".","z",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["al","+=","mix","(","step","(","sI",".","z",",","Fh",")",",","0.5",",","Fi",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","al","=","al","/","Fc",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["al","=","clamp","(","al","*","al","+","0.6","*","al",",","0.0",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["al","=","clamp","(","al","*","al","+","al",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","Fj","=","u_ssao_influence","*","(","1.0","-","u_ssao_dist_factor","*","ao",")",";","al","=","mix","(","1.0",",","al",",","Fj",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","Cy",",","al",")",";","}"]}]},exports["postprocessing/ssao_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_ssao_mask",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","uniform","float","u_ssao_blur_discard_value",";","float","E_","(","in","vec2","aY",")","{","return","Cu","(","u_depth",",","aY",",","u_camera_range",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","float","Fk","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Fl","=","E_","(","bQ",")",";","float","qR","=","0.0",";","float","Fm","=","u_ssao_blur_discard_value","*","100.0",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","Fn","=","vec2","(","-","2.0",")",";","for","(","int","aQ","=","0",";","aQ","<","4",";","++","aQ",")","{","for","(","int","Dd","=","0",";","Dd","<","4",";","++","Dd",")","{","vec2","cm","=","(","Fn","+","vec2","(","float","(","aQ",")",",","float","(","Dd",")",")",")","*","u_texel_size",";","float","Fo","=","GLSL_TEXTURE","(","u_ssao_mask",",","bQ","+","cm",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Fp","=","E_","(","bQ","+","cm",")",";","float","Fq","=","1.0","-","clamp","(","abs","(","Fp","-","Fl",")","*","Fm",",","0.0",",","1.0",")",";","Fk","+=","Fo","*","Fq",";","qR","+=","Fq",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Fk","+=","Fo",";"]}]}}]},{TYPE:"txt",TOKENS:["}","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","GLSL_TEXTURE","(","u_ssao_mask",",","bQ",")",".","rgb",",","Fk","/","qR",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","GLSL_TEXTURE","(","u_ssao_mask",",","bQ",")",".","rgb",",","Fk","/","16.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/stereo.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler_left",";","uniform","sampler2D","u_sampler_right",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ANAGLYPH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_enable_hmd_stereo",";","uniform","vec4","u_distortion_params",";","uniform","vec4","u_chromatic_aberration_coefs",";","void","FA","(","vec2","bv",",","vec2","h",",","float","wU",",","sampler2D","Fr",")","{","vec2","Fs","=","(","bv","-","h",")","*","2.0",";","Fs","/=","wU",";","float","Ft","=","Fs",".","x","*","Fs",".","x","+","Fs",".","y","*","Fs",".","y",";","vec2","Fu","=","Fs","*","(","1.0","+","u_distortion_params","[","0","]","*","Ft","+","u_distortion_params","[","1","]","*","Ft","*","Ft",")",";","vec2","Fv","=","Fu","*","0.5","/","(","1.0","+","u_distortion_params","[","0","]","+","u_distortion_params","[","1","]",")",";","if","(","length","(","u_chromatic_aberration_coefs",")",">","0.0",")","{","vec2","Fw","=","Fv","*","(","1.0","+","u_chromatic_aberration_coefs","[","0","]","+","Ft","*","u_chromatic_aberration_coefs","[","1","]",")","+","h",";","vec2","Fx","=","Fv","+","h",";","vec2","Fy","=","Fv","*","(","1.0","+","u_chromatic_aberration_coefs","[","2","]","+","Ft","*","u_chromatic_aberration_coefs","[","3","]",")","+","h",";","if","(","clamp","(","Fy",",","0.0",",","1.0",")","!=","Fy",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","0.0",")",";","}","else","{","vec4","Fz","=","GLSL_TEXTURE","(","Fr",",","Fx",")",";","GLSL_OUT_FRAG_COLOR","[","0","]","=","GLSL_TEXTURE","(","Fr",",","Fw",")",".","x",";","GLSL_OUT_FRAG_COLOR","[","1","]","=","Fz",".","y",";","GLSL_OUT_FRAG_COLOR","[","2","]","=","GLSL_TEXTURE","(","Fr",",","Fy",")",".","z",";","GLSL_OUT_FRAG_COLOR","[","3","]","=","Fz",".","w",";","}","}","else","{","Fv","=","Fv","*","wU","+","h",";","if","(","clamp","(","Fv",",","0.0",",","1.0",")","!=","Fv",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","0.0",")",";","}","else","{","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","Fr",",","Fv",")",";","}","}","}"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ANAGLYPH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","FB","=","GLSL_TEXTURE","(","u_sampler_left",",","bQ",")",";","vec4","FC","=","GLSL_TEXTURE","(","u_sampler_right",",","bQ",")",";","vec3","FD","=","vec3","(","FB","[","0","]",",","FB","[","1","]",",","FB","[","2","]",")",";","bd","(","FD",")",";","vec3","FE","=","vec3","(","FC","[","0","]",",","FC","[","1","]",",","FC","[","2","]",")",";","bd","(","FE",")",";","mat3","wZ","=","mat3","(","0.437",",","-","0.062",",","-","0.048",",","0.449",",","-","0.062",",","-","0.050",",","0.164",",","-","0.024",",","-","0.017",")",";","mat3","w_","=","mat3","(","-","0.011",",","0.377",",","-","0.026",",","-","0.032",",","0.761",",","-","0.093",",","-","0.007",",","0.009",",","1.234",")",";","vec3","m","=","clamp","(","wZ","*","FD",",","0.0",",","1.0",")","+","clamp","(","w_","*","FE",",","0.0",",","1.0",")",";","be","(","m",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","m",",","FB","[","3","]","+","FC","[","3","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_enable_hmd_stereo","!=","0",")","{","if","(","bQ","[","0","]","<","0.5",")","{","vec2","bv","=","vec2","(","2.0","*","bQ","[","0","]",",","bQ","[","1","]",")",";","vec2","h","=","vec2","(","0.5","-","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","float","wU","=","2.0","*","u_distortion_params","[","3","]",";","FA","(","bv",",","h",",","wU",",","u_sampler_left",")",";","}","else","{","vec2","bv","=","vec2","(","2.0","*","(","bQ","[","0","]","-","0.5",")",",","bQ","[","1","]",")",";","vec2","h","=","vec2","(","0.5","+","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","float","wU","=","2.0","*","u_distortion_params","[","3","]",";","FA","(","bv",",","h",",","wU",",","u_sampler_right",")",";","}","}","else","{","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_sampler_left",",","bQ",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/velocity.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","mat4","u_view_proj_inverse",";","uniform","mat4","u_view_proj_prev",";","GLSL_IN","vec2","bQ",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","ao","=","GLSL_TEXTURE","(","u_depth",",","bQ",")",".","x",";","vec4","FF","=","vec4","(","bQ","*","2.0","-","1.0",",","2.0","*","ao","-","1.0",",","1.0",")",";","vec4","cU","=","u_view_proj_inverse","*","FF",";","vec4","FG","=","cU","/","cU",".","w",";","vec4","FH","=","u_view_proj_prev","*","FG",";","FH","/=","FH",".","w",";","vec2","wV","=","(","FF",".","xy","-","FH",".","xy",")","/","4.0","+","0.5",";","wV","=","clamp","(","wV",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR","=","am","(","wV",")",";","}"]}]},exports["include/precision_statement.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["precision","PRECISION","float",";"]}]},exports["include/math.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","c","=","0.0",";","float","d","=","1.0",";","struct","e","{","vec3","f",";","vec3","h",";","vec3","i",";","vec3","j",";","vec3","k",";","vec3","l",";","vec3","m",";","}",";","bool","n","(","vec3","a",",","vec3","b",")","{","return","any","(","lessThan","(","abs","(","a","-","b",")",",","vec3","(","EPSILON",")",")",")",";","}","vec3","u","(","in","vec4","q",",","in","vec3","o",")","{","return","o","+","2.0","*","cross","(","q",".","xyz",",","cross","(","q",".","xyz",",","o",")","+","q",".","w","*","o",")",";","}","vec4","A","(","in","vec4","v",")","{","return","vec4","(","-","v",".","xyz",",","v",".","w",")",";","}","vec3","E","(","vec4","B",",","vec4","v",",","vec3","C",")","{","vec3","D","=","C","*","B",".","w",";","D","=","u","(","v",",","D",")",";","D","+=","B",".","xyz",";","return","D",";","}","vec3","G","(","mat3","F",",","vec3","C",")","{","vec3","D","=","C","*","F","[","1","]","[","0","]",";","vec4","v","=","vec4","(","F","[","1","]","[","1","]",",","F","[","1","]","[","2","]",",","F","[","2","]","[","0","]",",","F","[","2","]","[","1","]",")",";","D","=","u","(","v",",","D",")",";","D","+=","F","[","0","]",";","return","D",";","}","vec3","I","(","vec4","B",",","vec4","v",",","vec3","H",")","{","vec3","D","=","H","*","B",".","w",";","D","=","u","(","v",",","D",")",";","return","D",";","}","vec3","J","(","mat3","F",",","vec3","H",")","{","vec3","D","=","H","*","F","[","1","]","[","0","]",";","vec4","v","=","vec4","(","F","[","1","]","[","1","]",",","F","[","1","]","[","2","]",",","F","[","2","]","[","0","]",",","F","[","2","]","[","1","]",")",";","D","=","u","(","v",",","D",")",";","return","D",";","}","vec3","L","(","vec4","B",",","vec4","v",",","vec3","C",")","{","vec3","D","=","C","-","B",".","xyz",";","D","=","u","(","A","(","v",")",",","D",")",";","D","/=","B",".","w",";","return","D",";","}","vec3","M","(","vec4","B",",","vec4","v",",","vec3","H",")","{","return","u","(","A","(","v",")",",","H",")","/","B",".","w",";","}","mat4","N","(",")","{","return","mat4","(","d",",","c",",","c",",","c",",","c",",","d",",","c",",","c",",","c",",","c",",","d",",","c",",","c",",","c",",","c",",","d",")",";","}","mat4","P","(","float","O",")","{","return","mat4","(","d",",","c",",","c",",","c",",","c",",","cos","(","O",")",",","sin","(","O",")",",","c",",","c",",","-","sin","(","O",")",",","cos","(","O",")",",","c",",","c",",","c",",","c",",","d",")",";","}","mat4","Q","(","float","O",")","{","return","mat4","(","cos","(","O",")",",","c",",","-","sin","(","O",")",",","c",",","c",",","d",",","c",",","c",",","sin","(","O",")",",","c",",","cos","(","O",")",",","c",",","c",",","c",",","c",",","d",")",";","}","mat4","R","(","float","O",")","{","return","mat4","(","cos","(","O",")",",","sin","(","O",")",",","c",",","c",",","-","sin","(","O",")",",","cos","(","O",")",",","c",",","c",",","c",",","c",",","d",",","c",",","c",",","c",",","c",",","d",")",";","}","e","S","(","in","e","o",")","{","return","e","(","o",".","f",",","o",".","h",",","normalize","(","o",".","i",")",",","normalize","(","o",".","j",")",",","normalize","(","o",".","k",")",",","normalize","(","o",".","l",")",",","o",".","m",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Y","(","vec4","T",")","{","float","U","=","T",".","x",";","float","V","=","T",".","y",";","float","W","=","T",".","w",";","vec3","X",";","X",".","x","=","(","U","+","W",")","/","2.0",";","X",".","y","=","(","V","+","W",")","/","2.0",";","X",".","z","=","W",";","return","X",";","}"]}]}}]},{TYPE:"txt",TOKENS:["mat4","_","(","mat3","t",")","{","mat4","Z",";","Z","[","0","]","[","0","]","=","(","d","-","(","t","[","1","]","[","2","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","+","t","[","2","]","[","0","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")",")","*","t","[","1","]","[","0","]",";","Z","[","0","]","[","1","]","=","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","+","t","[","2","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")","*","t","[","1","]","[","0","]",";","Z","[","0","]","[","2","]","=","(","t","[","1","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","-","t","[","2","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")","*","t","[","1","]","[","0","]",";","Z","[","0","]","[","3","]","=","c",";","Z","[","1","]","[","0","]","=","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","-","t","[","2","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")","*","t","[","1","]","[","0","]",";","Z","[","1","]","[","1","]","=","(","d","-","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")","+","t","[","2","]","[","0","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")",")","*","t","[","1","]","[","0","]",";","Z","[","1","]","[","2","]","=","(","t","[","1","]","[","2","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","+","t","[","2","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")",")","*","t","[","1","]","[","0","]",";","Z","[","1","]","[","3","]","=","c",";","Z","[","2","]","[","0","]","=","(","t","[","1","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","+","t","[","2","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")","*","t","[","1","]","[","0","]",";","Z","[","2","]","[","1","]","=","(","t","[","1","]","[","2","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","-","t","[","2","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")",")","*","t","[","1","]","[","0","]",";","Z","[","2","]","[","2","]","=","(","d","-","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")","+","t","[","1","]","[","2","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")",")","*","t","[","1","]","[","0","]",";","Z","[","2","]","[","3","]","=","c",";","Z","[","3","]","[","0","]","=","t","[","0","]","[","0","]",";","Z","[","3","]","[","1","]","=","t","[","0","]","[","1","]",";","Z","[","3","]","[","2","]","=","t","[","0","]","[","2","]",";","Z","[","3","]","[","3","]","=","1.0",";","return","Z",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","ad","(","mat3","F",",","mat3","ac",")","{","mat3","D",";","vec3","C","=","ac","[","0","]",";","vec4","B","=","vec4","(","F","[","0","]",",","F","[","1","]","[","0","]",")",";","vec4","v","=","vec4","(","F","[","1","]","[","1","]",",","F","[","1","]","[","2","]",",","F","[","2","]","[","0","]",",","F","[","2","]","[","1","]",")",";","D","[","0","]","=","E","(","B",",","v",",","C",")",";","D","[","1","]","[","0","]","=","F","[","1","]","[","0","]","*","ac","[","1","]","[","0","]",";","D","[","1","]","[","1","]","=","F","[","1","]","[","1","]","*","ac","[","2","]","[","1","]","+","F","[","2","]","[","1","]","*","ac","[","1","]","[","1","]","+","F","[","1","]","[","2","]","*","ac","[","2","]","[","0","]","-","F","[","2","]","[","0","]","*","ac","[","1","]","[","2","]",";","D","[","1","]","[","2","]","=","F","[","1","]","[","2","]","*","ac","[","2","]","[","1","]","+","F","[","2","]","[","1","]","*","ac","[","1","]","[","2","]","+","F","[","2","]","[","0","]","*","ac","[","1","]","[","1","]","-","F","[","1","]","[","1","]","*","ac","[","2","]","[","0","]",";","D","[","2","]","[","0","]","=","F","[","2","]","[","0","]","*","ac","[","2","]","[","1","]","+","F","[","2","]","[","1","]","*","ac","[","2","]","[","0","]","+","F","[","1","]","[","1","]","*","ac","[","1","]","[","2","]","-","F","[","1","]","[","2","]","*","ac","[","1","]","[","1","]",";","D","[","2","]","[","1","]","=","F","[","2","]","[","1","]","*","ac","[","2","]","[","1","]","-","F","[","1","]","[","1","]","*","ac","[","1","]","[","1","]","-","F","[","1","]","[","2","]","*","ac","[","1","]","[","2","]","-","F","[","2","]","[","0","]","*","ac","[","2","]","[","0","]",";","return","D",";","}"]}]}}]}]},exports["include/std_enums.glsl"] = {TYPE:"grp",PARTS:[{TYPE:"define",NAME:"TEXTURE_COORDS_UV_ORCO",TOKENS:["1"]},{TYPE:"define",NAME:"TEXTURE_COORDS_NORMAL",TOKENS:["2"]},{TYPE:"define",NAME:"TEXTURE_BLEND_TYPE_MIX",TOKENS:["1"]},{TYPE:"define",NAME:"TEXTURE_BLEND_TYPE_MULTIPLY",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_SRC_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_SRC_DEPTH",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_SRC_MASK",TOKENS:["3"]},{TYPE:"define",NAME:"SHADOW_DST_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_DST_DEPTH",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_DST_MASK",TOKENS:["3"]},{TYPE:"define",NAME:"NO_SHADOWS",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_CASTING",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_MASK_GENERATION",TOKENS:["3"]},{TYPE:"define",NAME:"SHADOW_MAPPING_OPAQUE",TOKENS:["4"]},{TYPE:"define",NAME:"SHADOW_MAPPING_BLEND",TOKENS:["5"]},{TYPE:"define",NAME:"SPECULAR_PHONG",TOKENS:["1"]},{TYPE:"define",NAME:"SPECULAR_COOKTORR",TOKENS:["2"]},{TYPE:"define",NAME:"SPECULAR_WARDISO",TOKENS:["3"]},{TYPE:"define",NAME:"SPECULAR_BLINN",TOKENS:["4"]},{TYPE:"define",NAME:"SPECULAR_TOON",TOKENS:["5"]},{TYPE:"define",NAME:"DIFFUSE_LAMBERT",TOKENS:["1"]},{TYPE:"define",NAME:"DIFFUSE_OREN_NAYAR",TOKENS:["2"]},{TYPE:"define",NAME:"DIFFUSE_FRESNEL",TOKENS:["3"]},{TYPE:"define",NAME:"DIFFUSE_MINNAERT",TOKENS:["4"]},{TYPE:"define",NAME:"DIFFUSE_TOON",TOKENS:["5"]},{TYPE:"define",NAME:"MAPPING_TYPE_TEXTURE",TOKENS:["0.0"]},{TYPE:"define",NAME:"MAPPING_TYPE_POINT",TOKENS:["1.0"]},{TYPE:"define",NAME:"MAPPING_TYPE_VECTOR",TOKENS:["2.0"]},{TYPE:"define",NAME:"MAPPING_TYPE_NORMAL",TOKENS:["3.0"]},{TYPE:"define",NAME:"MIX",TOKENS:["0"]},{TYPE:"define",NAME:"ADD",TOKENS:["1"]},{TYPE:"define",NAME:"SUBTRACT",TOKENS:["2"]},{TYPE:"define",NAME:"MULTIPLY",TOKENS:["3"]},{TYPE:"define",NAME:"SCREEN",TOKENS:["4"]},{TYPE:"define",NAME:"OVERLAY",TOKENS:["5"]},{TYPE:"define",NAME:"DIFFERENCE",TOKENS:["6"]},{TYPE:"define",NAME:"DIVIDE",TOKENS:["7"]},{TYPE:"define",NAME:"DARKEN",TOKENS:["8"]},{TYPE:"define",NAME:"LIGHTEN",TOKENS:["9"]},{TYPE:"define",NAME:"HUE",TOKENS:["10"]},{TYPE:"define",NAME:"SATURATION",TOKENS:["11"]},{TYPE:"define",NAME:"VALUE",TOKENS:["12"]},{TYPE:"define",NAME:"COLOR",TOKENS:["13"]},{TYPE:"define",NAME:"SOFT_LIGHT",TOKENS:["14"]},{TYPE:"define",NAME:"LINEAR_LIGHT",TOKENS:["15"]},{TYPE:"define",NAME:"REFL_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"REFL_MIRRORMAP",TOKENS:["1"]},{TYPE:"define",NAME:"REFL_PLANE",TOKENS:["2"]},{TYPE:"define",NAME:"REFL_CUBE",TOKENS:["3"]},{TYPE:"define",NAME:"INVERSE_QUADRATIC",TOKENS:["0"]},{TYPE:"define",NAME:"LINEAR",TOKENS:["1"]},{TYPE:"define",NAME:"QUADRATIC",TOKENS:["2"]},{TYPE:"define",NAME:"HEMI",TOKENS:["1"]},{TYPE:"define",NAME:"SPOT",TOKENS:["2"]},{TYPE:"define",NAME:"POINT",TOKENS:["3"]},{TYPE:"define",NAME:"SUN",TOKENS:["4"]},{TYPE:"define",NAME:"DOF_SIMPLE",TOKENS:["0"]},{TYPE:"define",NAME:"DOF_BOKEH",TOKENS:["1"]},{TYPE:"define",NAME:"COC_ALL",TOKENS:["0"]},{TYPE:"define",NAME:"COC_FOREGROUND",TOKENS:["1"]},{TYPE:"define",NAME:"COC_COMBINE",TOKENS:["2"]},{TYPE:"define",NAME:"VT_WORLD_TO_WORLD",TOKENS:["0"]},{TYPE:"define",NAME:"VT_WORLD_TO_OBJECT",TOKENS:["1"]},{TYPE:"define",NAME:"VT_WORLD_TO_CAMERA",TOKENS:["2"]},{TYPE:"define",NAME:"VT_OBJECT_TO_WORLD",TOKENS:["3"]},{TYPE:"define",NAME:"VT_OBJECT_TO_OBJECT",TOKENS:["4"]},{TYPE:"define",NAME:"VT_OBJECT_TO_CAMERA",TOKENS:["5"]},{TYPE:"define",NAME:"VT_CAMERA_TO_WORLD",TOKENS:["6"]},{TYPE:"define",NAME:"VT_CAMERA_TO_OBJECT",TOKENS:["7"]},{TYPE:"define",NAME:"VT_CAMERA_TO_CAMERA",TOKENS:["8"]},{TYPE:"define",NAME:"VT_POINT",TOKENS:["0"]},{TYPE:"define",NAME:"VT_VECTOR",TOKENS:["1"]},{TYPE:"define",NAME:"VT_NORMAL",TOKENS:["2"]},{TYPE:"define",NAME:"NM_TANGENT",TOKENS:["0"]},{TYPE:"define",NAME:"NM_OBJECT",TOKENS:["1"]},{TYPE:"define",NAME:"NM_WORLD",TOKENS:["2"]},{TYPE:"define",NAME:"NM_BLENDER_OBJECT",TOKENS:["3"]},{TYPE:"define",NAME:"NM_BLENDER_WORLD",TOKENS:["4"]}]},exports["include/pack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ae","=","255.0",";","float","af","=","0.0",";","float","ah","=","1.0",";","vec4","am","(","const","in","float","ai",")","{","vec4","aj","=","vec4","(","ae","*","ae","*","ae",",","ae","*","ae",",","ae",",","ah",")",";","vec4","ak","=","vec4","(","af",",","ah","/","ae",",","ah","/","ae",",","ah","/","ae",")",";","vec4","al","=","fract","(","ai","*","aj",")",";","al","-=","al",".","xxyz","*","ak",";","return","al",";","}","float","ap","(","const","in","vec4","an",")","{","float","ao",";","vec4","aj","=","vec4","(","ah","/","(","ae","*","ae","*","ae",")",",","ah","/","(","ae","*","ae",")",",","ah","/","ae",",","ah",")",";","ao","=","dot","(","an",",","aj",")",";","return","ao",";","}","vec4","am","(","const","in","vec2","C",")","{","vec2","aj","=","vec2","(","ae",",","ah",")",";","vec2","ak","=","vec2","(","af",",","ah","/","ae",")",";","vec4","al","=","fract","(","C",".","xxyy","*","aj",".","xyxy",")",";","al","-=","al",".","xxzz","*","ak",".","xyxy",";","if","(","C",".","r","==","ah",")","al",".","rg","=","vec2","(","af",",","ah",")",";","if","(","C",".","g","==","ah",")","al",".","ba","=","vec2","(","af",",","ah",")",";","return","al",";","}","vec2","as","(","const","in","vec4","aq",")","{","vec2","C",";","vec2","aj","=","vec2","(","ah","/","ae",",","ah",")",";","C",".","r","=","dot","(","aq",".","rg",",","aj",")",";","C",".","g","=","dot","(","aq",".","ba",",","aj",")",";","return","C",";","}"]}]},exports["include/procedural.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","at","=","0.0",";","float","au","=","1.0",";","vec4","av","(","vec4","x",")","{","return","x","-","floor","(","x","*","(","au","/","289.0",")",")","*","289.0",";","}","vec3","av","(","vec3","x",")","{","return","x","-","floor","(","x","*","(","au","/","289.0",")",")","*","289.0",";","}","vec2","av","(","vec2","x",")","{","return","x","-","floor","(","x","*","(","au","/","289.0",")",")","*","289.0",";","}","vec4","aw","(","vec4","x",")","{","return","x","-","floor","(","x","*","(","au","/","7.0",")",")","*","7.0",";","}","vec4","ax","(","vec4","x",")","{","return","av","(","(","34.0","*","x","+","5.0",")","*","x",")",";","}"]},{TYPE:"define",NAME:"K",TOKENS:["0.142857142857"]},{TYPE:"define",NAME:"K2",TOKENS:["0.0714285714285"]},{TYPE:"define",NAME:"JITTER",TOKENS:["0.7"]},{TYPE:"txt",TOKENS:["vec2","aI","(","vec2","ay",")","{","vec2","az","=","av","(","floor","(","ay",")",")",";","vec2","aA","=","fract","(","ay",")",";","vec4","aB","=","aA",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","vec4","aC","=","aA",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","vec4","p","=","ax","(","az",".","x","+","vec4","(","at",",","au",",","at",",","au",")",")",";","p","=","ax","(","p","+","az",".","y","+","vec4","(","at",",","at",",","au",",","au",")",")",";","vec4","aD","=","aw","(","p",")","*","K","+","K2",";","vec4","aE","=","aw","(","floor","(","p","*","K",")",")","*","K","+","K2",";","vec4","aF","=","aB","+","JITTER","*","aD",";","vec4","aG","=","aC","+","JITTER","*","aE",";","vec4","aH","=","aF","*","aF","+","aG","*","aG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aH",".","xy","=","min","(","aH",".","xy",",","aH",".","zw",")",";","aH",".","x","=","min","(","aH",".","x",",","aH",".","y",")",";","return","aH",".","xx",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aH",".","xy","=","(","aH",".","x","<","aH",".","y",")","?","aH",".","xy",":","aH",".","yx",";","aH",".","xz","=","(","aH",".","x","<","aH",".","z",")","?","aH",".","xz",":","aH",".","zx",";","aH",".","xw","=","(","aH",".","x","<","aH",".","w",")","?","aH",".","xw",":","aH",".","wx",";","aH",".","y","=","min","(","aH",".","y",",","aH",".","z",")",";","aH",".","y","=","min","(","aH",".","y",",","aH",".","w",")",";","return","sqrt","(","aH",".","xy",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","vec3","aN","(","vec2","ay",",","float","aJ",")","{","vec2","az","=","av","(","floor","(","ay",")",")",";","vec2","aA","=","fract","(","ay",")",";","vec4","aB","=","aA",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","vec4","aC","=","aA",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","vec4","p","=","ax","(","az",".","x","+","vec4","(","at",",","au",",","at",",","au",")",")",";","p","=","ax","(","p","+","az",".","y","+","vec4","(","at",",","at",",","au",",","au",")",")",";","vec4","aD","=","aw","(","p",")","*","K","+","K2",";","vec4","aE","=","aw","(","floor","(","p","*","K",")",")","*","K","+","K2",";","vec4","aF","=","aB","+","JITTER","*","aD",";","vec4","aG","=","aC","+","JITTER","*","aE",";","vec4","aK","=","aF","*","aF","+","aG","*","aG",";","aF","+=","aJ",";","aG","+=","aJ",";","vec4","aL","=","aF","*","aF","+","aG","*","aG",";","aF","+=","aJ",";","aG","+=","aJ",";","vec4","aM","=","aF","*","aF","+","aG","*","aG",";","aK",".","xy","=","min","(","aK",".","xy",",","aK",".","zw",")",";","aK",".","x","=","min","(","aK",".","x",",","aK",".","y",")",";","aL",".","xy","=","min","(","aL",".","xy",",","aL",".","zw",")",";","aL",".","x","=","min","(","aL",".","x",",","aL",".","y",")",";","aM",".","xy","=","min","(","aM",".","xy",",","aM",".","zw",")",";","aM",".","x","=","min","(","aM",".","x",",","aM",".","y",")",";","return","vec3","(","aK",".","x",",","aL",".","x",",","aM",".","x",")",";","}","vec3","aO","(","vec3","x",")","{","return","av","(","(","(","x","*","34.0",")","+","au",")","*","x",")",";","}","float","aX","(","vec2","o",")","{","const","vec4","aP","=","vec4","(","0.211324865405187",",","0.366025403784439",",","-","0.577350269189626",",","0.024390243902439",")",";","vec2","aQ","=","floor","(","o","+","dot","(","o",",","aP",".","yy",")",")",";","vec2","aR","=","o","-","aQ","+","dot","(","aQ",",","aP",".","xx",")",";","vec2","aS",";","aS","=","(","aR",".","x",">","aR",".","y",")","?","vec2","(","au",",","at",")",":","vec2","(","at",",","au",")",";","vec4","aT","=","aR",".","xyxy","+","aP",".","xxzz",";","aT",".","xy","-=","aS",";","aQ","=","av","(","aQ",")",";","vec3","p","=","aO","(","aO","(","aQ",".","y","+","vec3","(","at",",","aS",".","y",",","au",")",")","+","aQ",".","x","+","vec3","(","at",",","aS",".","x",",","au",")",")",";","vec3","aU","=","max","(","0.5","-","vec3","(","dot","(","aR",",","aR",")",",","dot","(","aT",".","xy",",","aT",".","xy",")",",","dot","(","aT",".","zw",",","aT",".","zw",")",")",",","at",")",";","aU","=","aU","*","aU",";","aU","=","aU","*","aU",";","vec3","x","=","2.0","*","fract","(","p","*","aP",".","www",")","-","au",";","vec3","aV","=","abs","(","x",")","-","0.5",";","vec3","aD","=","floor","(","x","+","0.5",")",";","vec3","aW","=","x","-","aD",";","aU","*=","1.79284291400159","-","0.85373472095314","*","(","aW","*","aW","+","aV","*","aV",")",";","vec3","g",";","g",".","x","=","aW",".","x","*","aR",".","x","+","aV",".","x","*","aR",".","y",";","g",".","yz","=","aW",".","yz","*","aT",".","xz","+","aV",".","yz","*","aT",".","yw",";","return","130.0","*","dot","(","aU",",","g",")",";","}","vec2","bc","(","vec2","aY",")","{","float","aK","=","dot","(","aY",",","vec2","(","12.9898",",","78.233",")",")",";","float","aL","=","dot","(","aY",",","vec2","(","12.9898",",","78.233",")","*","2.0",")",";","float","aZ","=","fract","(","sin","(","aK",")","*","43758.5453",")","*","2.0","-","au",";","float","a_","=","fract","(","sin","(","aL",")","*","43758.5453",")","*","2.0","-","au",";","return","vec2","(","aZ",",","a_",")",";","}"]}]},exports["include/color_util.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"define",NAME:"GAMMA",TOKENS:["1"]},{TYPE:"define",NAME:"PREMULTIPLY_ALPHA",TOKENS:["1"]},{TYPE:"txt",TOKENS:["void","bd","(","inout","vec3","m",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GAMMA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","max","(","vec3","(","0.0",")",",","m",")",";","m","=","pow","(","m",",","vec3","(","2.2",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","bd","(","inout","float","m",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GAMMA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","pow","(","max","(","0.0",",","m",")",",","2.2",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","be","(","inout","vec3","m",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GAMMA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","max","(","vec3","(","0.0",")",",","m",")",";","m","=","pow","(","m",",","vec3","(","1.0","/","2.2",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","bh","(","inout","vec3","m",",","in","float","bf",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PREMULTIPLY_ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","m","*","bf",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","bk","(","vec4","m",")","{","vec3","bi","=","vec3","(","0.299",",","0.587",",","0.114",")",";","float","bj","=","dot","(","m",".","rgb",",","bi",")",";","return","bj",";","}"]}]},exports["include/caustics.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"define",NAME:"CAUSTICS_VIEW_DISTANCE",TOKENS:["100.0"]},{TYPE:"txt",TOKENS:["void","bF","(","inout","vec3","m",",","float","bl",",","float","bm",",","vec4","bn",",","vec3","l",",","vec3","bo",",","vec3","bp",",","vec4","bq",",","vec3","bs",",","float","bt",")","{","if","(","bt",">","CAUSTICS_VIEW_DISTANCE",")","return",";","vec3","o","=","bs","+","l",";","o",".","xz","=","10.0","*","sin","(","0.1","*","o",".","xz",")",";","vec3","bu","=","u","(","A","(","bq",")",",","o",")",";","vec2","bv","=","bu",".","xz",";","vec3","bw","=","bo",";","float","bx","=","max","(","dot","(","l",",","bw",")",",","0.0",")",";","float","by","=","0.025",";","vec2","bz","=","CAUST_SPEED","*","bm",";","bv",".","s","+=","0.25","*","sin","(","dot","(","bs","+","bm",",","vec3","(","1.0",")",")",")",";","bv",".","t","+=","0.35","*","(","-","sin","(","dot","(","bs","-","bm",",","vec3","(","-","0.7",")",")",")",")",";","bv",".","st","+=","0.15","*","cos","(","4.0","*","bl","-","bz",".","x",")","+","1.5","*","sin","(","bl","-","0.3","*","bz",".","y",")",";","float","bA","=","CAUST_SCALE","*","(","1.0","+","max","(","0.1","*","bl",",","0.0",")",")",";","vec3","bB","=","aN","(","(","bv","/","bA",")",",","by",")",";","bB","*=","CAUST_BRIGHT",";","bB","*=","bB",";","float","bC","=","min","(","0.25","*","bl",",","-","bl",")","+","1.0",";","bC","=","max","(","bC",",","0.0",")",";","float","bD","=","bn","[","SUN_NUM","]","*","bx",";","float","bE","=","max","(","sign","(","bl",")",",","0.0",")",";","bD","=","bD","+","max","(","0.5","*","sign","(","-","l",".","y",")","*","bE",",","0.0",")",";","bD","=","min","(","bD",",","1.0",")",";","m","+=","bp","*","bB","*","bC","*","bD",";","}"]}]},exports["include/shadow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","bS","=","0.1",";","const","float","bT","=","0.1",";","const","float","bU","=","-","0.01",";","const","float","bV","=","0.05",";","vec4","bW","=","vec4","(","0.14383161",",","0.34495938",",","-","0.38277543",",","-","0.26496911",")",";","vec4","bX","=","vec4","(","0.53742981",",","0.19984126",",","0.79197514",",","-","0.094184101",")",";","vec4","bY","=","vec4","(","-","0.94201624",",","-","0.91588581",",","-","0.2418884",",","0.44323325",")",";","vec4","bZ","=","vec4","(","-","0.81544232",",","0.94558609",",","-","0.81409955",",","0.97484398",")",";","vec4","b_","=","vec4","(","-","0.1410079",",","0.2938776",",","0.27676845",",","-","0.41893023",")",";","vec4","ca","=","vec4","(","-","0.4737342",",","0.78641367",",","0.19090188",",","-","0.9293887",")",";","vec4","cb","=","vec4","(","-","0.39906216",",","0.45771432",",","0.99706507",",","-","0.97511554",")",";","vec4","cc","=","vec4","(","-","0.87912464",",","-","0.76890725",",","0.9143759",",","0.7564837",")",";","bool","cf","(","vec2","cd",",","float","ce",")","{","return","all","(","lessThanEqual","(","cd",",","vec2","(","1.0","+","ce",")",")",")","&&","all","(","greaterThanEqual","(","cd",",","vec2","(","0.0","-","ce",")",")",")",";","}","float","cn","(","float","cg",",","float","ch",",","mat2","ci",",","vec3","cj",",","float","ck",",","PRECISION","sampler2D","cl",")","{","vec2","cd",",","cm",";","cm",".","x","=","cg",";","cm",".","y","=","ch",";","cm","=","ci","*","cm",";","cd","=","cj",".","xy","+","cm","*","ck","/","SHADOW_TEX_RES",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","cf","(","cd",",","bU",")",")","return","1.0",";"]}]}}]},{TYPE:"txt",TOKENS:["return","step","(","cj",".","z",",","GLSL_TEXTURE","(","cl",",","cd",")",".","r",")",";","}","float","cs","(","vec3","cj",",","PRECISION","sampler2D","cl",",","float","ck",")","{","float","co","=","0.0",";","cj",".","z","=","clamp","(","cj",".","z",",","0.0",",","1.0",")",";","float","cp","=","bc","(","cj",".","xy",")",".","x","*","M_PI",";","float","cq","=","cos","(","cp",")",";","float","cr","=","sin","(","cp",")",";","mat2","ci","=","mat2","(","cq",",","cr",",","-","cr",",","cq",")",";","for","(","int","aQ","=","0",";","aQ","<","4",";","aQ","++",")","{","co","+=","cn","(","bW","[","aQ","]",",","b_","[","aQ","]",",","ci",",","cj",",","ck",",","cl",")",";","co","+=","cn","(","bX","[","aQ","]",",","ca","[","aQ","]",",","ci",",","cj",",","ck",",","cl",")",";","co","+=","cn","(","bY","[","aQ","]",",","cb","[","aQ","]",",","ci",",","cj",",","ck",",","cl",")",";","co","+=","cn","(","bZ","[","aQ","]",",","cc","[","aQ","]",",","ci",",","cj",",","ck",",","cl",")",";","}","return","clamp","(","co","/","16.0",",","0.0",",","1.0",")",";","}","float","cC","(","vec3","ct",",","PRECISION","sampler2D","cu",",","vec3","cv",",","PRECISION","sampler2D","cw",",","float","cx",",","float","cy",",","float","cz",")","{","float","cA",",","cB",";","ct",".","z","=","clamp","(","ct",".","z",",","0.0",",","1.0",")",";","cv",".","z","=","clamp","(","cv",".","z",",","0.0",",","1.0",")",";","cA","=","0.0",";","cB","=","0.0",";","float","cp","=","bc","(","ct",".","xy",")",".","x","*","M_PI",";","float","cq","=","cos","(","cp",")",";","float","cr","=","sin","(","cp",")",";","mat2","ci","=","mat2","(","cq",",","cr",",","-","cr",",","cq",")",";","for","(","int","aQ","=","0",";","aQ","<","4",";","aQ","++",")","{","cA","+=","cn","(","bW","[","aQ","]",",","b_","[","aQ","]",",","ci",",","ct",",","cx",",","cu",")",";","cA","+=","cn","(","bX","[","aQ","]",",","ca","[","aQ","]",",","ci",",","ct",",","cx",",","cu",")",";","cA","+=","cn","(","bY","[","aQ","]",",","cb","[","aQ","]",",","ci",",","ct",",","cx",",","cu",")",";","cA","+=","cn","(","bZ","[","aQ","]",",","cc","[","aQ","]",",","ci",",","ct",",","cx",",","cu",")",";","}","for","(","int","aQ","=","0",";","aQ","<","4",";","aQ","++",")","{","cB","+=","cn","(","bW","[","aQ","]",",","b_","[","aQ","]",",","ci",",","cv",",","cy",",","cw",")",";","cB","+=","cn","(","bX","[","aQ","]",",","ca","[","aQ","]",",","ci",",","cv",",","cy",",","cw",")",";","cB","+=","cn","(","bY","[","aQ","]",",","cb","[","aQ","]",",","ci",",","cv",",","cy",",","cw",")",";","cB","+=","cn","(","bZ","[","aQ","]",",","cc","[","aQ","]",",","ci",",","cv",",","cy",",","cw",")",";","}","cA","=","mix","(","cA",",","cB",",","cz",")",";","cA","/=","16.0",";","return","clamp","(","cA",",","0.0",",","1.0",")",";","}","float","cD","(","vec2","cd",")","{","float","a","=","min","(","cd",".","x",",","cd",".","y",")",";","float","b","=","min","(","1.0","-","cd",".","x",",","1.0","-","cd",".","y",")",";","return","min","(","a",",","b",")",";","}","float","cG","(","float","cE",",","float","cF",")","{","if","(","cF",">=","0.0","&&","cF","<=","bT",")","cE","=","(","cE","-","1.0",")","/","bT","*","cF","+","1.0",";","return","cE",";","}","float","cL","(","vec3","cH",",","vec3","cI",",","PRECISION","sampler2D","cu",",","PRECISION","sampler2D","cw",",","float","cx",",","float","cy",",","float","cJ",",","float","ao",")","{","float","cE",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_BLEND_BETWEEN_CASCADES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cF","=","cD","(","cH",".","xy",")",";","if","(","-","ao",">","cJ","&&","cF",">=","0.0","&&","cF","<=","bS","&&","cf","(","cI",".","xy",",","0.0",")",")","{","float","cK","=","1.0","-","cF","/","bS",";","cE","=","cC","(","cH",",","cu",",","cI",",","cw",",","cx",",","cy",",","cK",")",";","}","else"]}]}}]},{TYPE:"txt",TOKENS:["cE","=","cs","(","cH",",","cu",",","cx",")",";","return","cE",";","}","float","cN","(","vec3","cM",",","PRECISION","sampler2D","cl",",","float","ck",",","float","cJ",",","float","ao",")","{","float","cE","=","cs","(","cM",",","cl",",","ck",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_FADE_LAST_CASCADE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","-","ao",">","cJ",")","{","float","cF","=","cD","(","cM",".","xy",")",";","cE","=","cG","(","cE",",","cF",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["return","cE",";","}","vec4","cT","(","float","ao",")","{","float","cE","=","1.0",";","vec3","ct","=","bM",".","xyz","/","bM",".","w",";","if","(","bM",".","w","<","0.0",")","ct",".","z","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cv","=","bN",".","xyz","/","bN",".","w",";","if","(","bN",".","w","<","0.0",")","cv",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cO","=","bO",".","xyz","/","bO",".","w",";","if","(","bO",".","w","<","0.0",")","cO",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cP","=","bP",".","xyz","/","bP",".","w",";","if","(","bP",".","w","<","0.0",")","cP",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","cf","(","ct",".","xy",",","0.0",")",")","{","cE","=","cL","(","ct",",","cv",",","u_shadow_map0",",","u_shadow_map1",",","u_pcf_blur_radii","[","0","]",",","u_pcf_blur_radii","[","1","]",",","u_csm_center_dists","[","0","]",",","ao",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","cf","(","ct",".","xy",",","bV",")",")","{","cE","=","cN","(","ct",",","u_shadow_map0",",","u_pcf_blur_radii","[","0","]",",","u_csm_center_dists","[","0","]",",","ao",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","cf","(","cv",".","xy",",","0.0",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cE","=","cL","(","cv",",","cO",",","u_shadow_map1",",","u_shadow_map2",",","u_pcf_blur_radii","[","1","]",",","u_pcf_blur_radii","[","2","]",",","u_csm_center_dists","[","1","]",",","ao",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cE","=","cN","(","cv",",","u_shadow_map1",",","u_pcf_blur_radii","[","1","]",",","u_csm_center_dists","[","1","]",",","ao",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","cf","(","cO",".","xy",",","0.0",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cE","=","cL","(","cO",",","cP",",","u_shadow_map2",",","u_shadow_map3",",","u_pcf_blur_radii","[","2","]",",","u_pcf_blur_radii","[","3","]",",","u_csm_center_dists","[","2","]",",","ao",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cE","=","cN","(","cO",",","u_shadow_map2",",","u_pcf_blur_radii","[","2","]",",","u_csm_center_dists","[","2","]",",","ao",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","cf","(","cP",".","xy",",","0.0",")",")","cE","=","cN","(","cP",",","u_shadow_map3",",","u_pcf_blur_radii","[","3","]",",","u_csm_center_dists","[","3","]",",","ao",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cQ","=","cs","(","cv",",","u_shadow_map1",",","u_pcf_blur_radii","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cQ","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cR","=","cs","(","cO",",","u_shadow_map2",",","u_pcf_blur_radii","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cR","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cS","=","cs","(","cP",",","u_shadow_map3",",","u_pcf_blur_radii","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cS","=","1.0",";"]}]}}]},{TYPE:"txt",TOKENS:["return","vec4","(","cE",",","cQ",",","cR",",","cS",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec4","cV","(","inout","vec3","cU",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","co","=","GLSL_TEXTURE","(","u_shadow_mask",",","bK",".","xy","/","bK",".","z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"l_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cU","*=","co",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["return","co",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","co","=","cT","(","bH",".","z",")",";","return","co",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec4","(","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["include/mirror.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"REFL_BUMP",TOKENS:["0.1"]},{TYPE:"txt",TOKENS:["float","db","(","in","vec3","cW",",","vec3","cX",",","float","cY",",","float","cZ",")","{","vec3","c_","=","normalize","(","cX","+","cW",")",";","float","da","=","1.0","-","dot","(","cW",",","c_",")",";","float","r","=","cZ","+","(","1.0","-","cZ",")","*","pow","(","da",",","cY",")",";","return","r",";","}","void","dk","(","inout","vec3","dc",",","vec3","cW",",","vec3","l",",","float","dd",",","mat4","de",")","{","vec3","cX","=","reflect","(","-","cW",",","l",")",";","float","cY","=","u_fresnel_params","[","2","]",";","float","cZ","=","u_fresnel_params","[","3","]",";","float","r","=","1.0",";","if","(","cY","!=","0.0",")","r","=","db","(","cW",",","cX",",","cY",",","cZ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","df","=","GLSL_TEXTURE_CUBE","(","u_cube_reflection",",","cX",")",".","xyz",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dg","=","u_refl_plane",".","xyz","*","dot","(","l",",","u_refl_plane",".","xyz",")",";","vec3","dh","=","l","-","dg",";","vec2","di","=","(","de","*","vec4","(","dh",",","0.0",")",")",".","xy",";","vec2","dj","=","bK",".","xy","/","bK",".","z",";","dj","+=","di","*","REFL_BUMP",";","vec3","df","=","GLSL_TEXTURE","(","u_plane_reflection",",","dj",")",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","df","=","vec3","(","1.0",")",";","dd","=","0.0",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","df","=","GLSL_TEXTURE_CUBE","(","u_mirrormap",",","cX",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["bd","(","df",".","rgb",")",";","dc","=","mix","(","dc",",","df",",","dd","*","r",")",";","}"]}]}}]}]},exports["include/environment.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dm","(","vec3","l",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_TEXTURE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","l",")",".","rgb",";"]}]}},{TYPE:"elif",EXPRESSION:["SKY_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dl","=","0.5","*","l",".","y","+","0.5",";","return","mix","(","u_horizon_color",",","u_zenith_color",",","dl",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec3","(","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["include/refraction.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dt","(","in","float","dn",",","inout","vec2","dp",",","in","vec2","dq",")","{","vec4","dr","=","GLSL_TEXTURE","(","u_scene_depth",",","dp",")",";","float","ds","=","ap","(","dr",")",";","if","(","ds","<","bL",")","{","dp","=","dq",";","return","dn",";","}","else","{","return","ds",";","}","return","dn",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec3","dx","(","in","vec3","X",",","in","vec2","du",")","{","vec2","dq","=","X",".","xy","/","X",".","z",";","vec2","dp","=","dq","+","du",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","dv","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","X",")",";","float","dn","=","ap","(","dv",")",";","dt","(","dn",",","dp",",","dq",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","dw","=","GLSL_TEXTURE","(","u_refractmap",",","dp",")",".","rgb",";","bd","(","dw",")",";","return","dw",";","}"]}]}}]}]},exports["include/nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","dy",";"]}]}}]},{TYPE:"txt",TOKENS:["float","ZERO_VALUE_NODES","=","0.0",";","float","UNITY_VALUE_NODES","=","1.0",";","float","dz","=","0.5",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dC","(","in","vec3","dA",",","in","float","dB",")","{","vec3","dw","=","vec3","(","ZERO_VALUE_NODES",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dw","=","dx","(","bK",",","dA",".","xy","*","dB",")",";"]}]}},{TYPE:"elif",EXPRESSION:["HAS_REFRACT_TEXTURE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dw","=","GLSL_TEXTURE","(","u_refractmap",",","bK",".","xy","/","bK",".","z",")",".","rgb",";","bd","(","dw",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","dw",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dF","(","vec3","rgb",")","{","vec4","dD","=","vec4","(","ZERO_VALUE_NODES",",","-","UNITY_VALUE_NODES","/","3.0",",","2.0","/","3.0",",","-","UNITY_VALUE_NODES",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","dD",".","wz",")",",","vec4","(","rgb",".","gb",",","dD",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","aH","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","dE","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","aH","+","dE",")",")",",","aH","/","(","q",".","x","+","dE",")",",","q",".","x",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dH","(","vec3","dG",")","{","vec4","dD","=","vec4","(","UNITY_VALUE_NODES",",","2.0","/","3.0",",","UNITY_VALUE_NODES","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","dG",".","r",",","dG",".","r",",","dG",".","r",")","+","dD",".","xyz",")","*","6.0","-","dD",".","www",")",";","return","dG",".","b","*","mix","(","dD",".","xxx",",","clamp","(","p","-","dD",".","xxx",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",",","dG",".","g",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dJ","(","vec2","dI",")","{","return","vec3","(","dI","*","2.0","-","vec2","(","UNITY_VALUE_NODES",",","UNITY_VALUE_NODES",")",",","ZERO_VALUE_NODES",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dK","(","vec3","C",")","{","return","vec2","(","C",".","xy","*","dz","+","vec2","(","dz",",","dz",")",")",";","}"]}]}}]},{TYPE:"node",NAME:"CAMERA",DECLARATIONS:[{TYPE:"node_out",NAME:"er",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"es",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"et",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_er"],STATEMENTS:[{TYPE:"txt",TOKENS:["er","=","normalize","(","eo",".","xyz",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_es"],STATEMENTS:[{TYPE:"txt",TOKENS:["es","=","abs","(","eo",".","z",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_et"],STATEMENTS:[{TYPE:"txt",TOKENS:["et","=","length","(","eo",".","xyz",")",";"]}]}]}]},{TYPE:"node",NAME:"COMBRGB",DECLARATIONS:[{TYPE:"node_in",NAME:"eu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ev",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ew",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ex",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ex","=","vec3","(","eu",",","ev",",","ew",")",";"]}]},{TYPE:"node",NAME:"COMBHSV",DECLARATIONS:[{TYPE:"node_in",NAME:"ey",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ez",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"eA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eB",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eB","=","dH","(","vec3","(","ey",",","ez",",","eA",")",")",";"]}]},{TYPE:"node",NAME:"EMPTY_UV",DECLARATIONS:[{TYPE:"node_out",NAME:"eC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eC","=","vec3","(","-","UNITY_VALUE_NODES",",","-","UNITY_VALUE_NODES",",","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"EMPTY_VC",DECLARATIONS:[{TYPE:"node_out",NAME:"eD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eD","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",DECLARATIONS:[{TYPE:"node_out",NAME:"eE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dL",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eE","=","dJ","(","dL",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_OR",DECLARATIONS:[{TYPE:"node_out",NAME:"eF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eF","=","2.0","*","dy","-","vec3","(","UNITY_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",DECLARATIONS:[{TYPE:"node_out",NAME:"eG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dM",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eG","=","dM",";","bd","(","eG",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",DECLARATIONS:[{TYPE:"node_out",NAME:"eH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dN",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eH","=","dN",";","bd","(","eH",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",DECLARATIONS:[{TYPE:"node_out",NAME:"eI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dO",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eI","=","dO","[","0","]",";","eJ","=","dO","[","1","]",";","bd","(","eI",")",";","bd","(","eJ",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",DECLARATIONS:[{TYPE:"node_out",NAME:"eK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dP",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eK","=","dP","[","0","]",";","eL","=","dP","[","1","]",";","eM","=","dP","[","2","]",";","bd","(","eK",")",";","bd","(","eL",")",";","bd","(","eM",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_NO",DECLARATIONS:[{TYPE:"node_out",NAME:"eN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eN","=","ek",".","xzy",";","eN",".","y","*=","-","1.0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_FB",DECLARATIONS:[{TYPE:"node_out",NAME:"eO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["INVERT_FRONTFACING"],STATEMENTS:[{TYPE:"txt",TOKENS:["eO","=","(","gl_FrontFacing",")","?","ZERO_VALUE_NODES",":","UNITY_VALUE_NODES",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["eO","=","(","gl_FrontFacing",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_VW",DECLARATIONS:[{TYPE:"node_out",NAME:"eP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eP","=","-","(","dZ","*","vec4","(","dY",",","0.0",")",")",".","xyz",";"]}]},{TYPE:"node",NAME:"GEOMETRY_LO",DECLARATIONS:[{TYPE:"node_out",NAME:"eQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eQ","[","0","]","=","eo","[","0","]",";","eQ","[","1","]","=","eo","[","1","]",";","eQ","[","2","]","=","eo","[","2","]",";"]}]},{TYPE:"node",NAME:"GEOMETRY_GL",DECLARATIONS:[{TYPE:"node_out",NAME:"eR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eR","=","vec3","(","en",".","r",",","-","en",".","b",",","en",".","g",")",";"]}]},{TYPE:"node",NAME:"NEW_GEOMETRY",DECLARATIONS:[{TYPE:"node_out",NAME:"eS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eS","=","vec3","(","ZERO_VALUE_NODES",")",";","eT","=","vec3","(","ZERO_VALUE_NODES",")",";","eU","=","vec3","(","ZERO_VALUE_NODES",")",";","eV","=","vec3","(","ZERO_VALUE_NODES",")",";","eW","=","vec3","(","ZERO_VALUE_NODES",")",";","eX","=","vec3","(","ZERO_VALUE_NODES",")",";","eY","=","ZERO_VALUE_NODES",";","eZ","=","ZERO_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"HUE_SAT",DECLARATIONS:[{TYPE:"node_in",NAME:"e_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fe",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","dG","=","dF","(","fd",")",";","dG","[","0","]","+=","(","e_","-","dz",")",";","if","(","dG","[","0","]",">","UNITY_VALUE_NODES",")","dG","[","0","]","-=","UNITY_VALUE_NODES",";","else","if","(","dG","[","0","]","<","ZERO_VALUE_NODES",")","dG","[","0","]","+=","UNITY_VALUE_NODES",";","dG","*=","vec3","(","UNITY_VALUE_NODES",",","fa",",","fb",")",";","dG","=","mix","(","vec3","(","UNITY_VALUE_NODES",")",",","mix","(","vec3","(","ZERO_VALUE_NODES",")",",","dG",",","step","(","vec3","(","ZERO_VALUE_NODES",")",",","dG",")",")",",","step","(","dG",",","vec3","(","UNITY_VALUE_NODES",")",")",")",";","fe","=","mix","(","fd",",","dH","(","dG",")",",","fc",")",";"]}]},{TYPE:"node",NAME:"INVERT",DECLARATIONS:[{TYPE:"node_in",NAME:"ff",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fh","=","mix","(","fg",",","vec3","(","UNITY_VALUE_NODES",")","-","fg",",","ff",")",";"]}]},{TYPE:"node",NAME:"LAMP",DECLARATIONS:[{TYPE:"node_out",NAME:"fi",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"fj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fl",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fi"],STATEMENTS:[{TYPE:"txt",TOKENS:["fi","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{TYPE:"txt",TOKENS:["vec4","fm","=","u_lamp_light_factors","[","LAMP_INDEX","]",";","vec3","fn","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","vec3","fo","=","u_lamp_light_positions","[","LAMP_INDEX","]",";","float","fp","=","fm",".","z",";","if","(","fp","!=","-","UNITY_VALUE_NODES",")","{"]},{TYPE:"txt",TOKENS:["fj","=","-","bG","+","fo",";","fk","=","length","(","fj",")",";","fj","=","normalize","(","fj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fl"],STATEMENTS:[{TYPE:"txt",TOKENS:["fl","=","fp","/","(","fp","+","fk","*","fk",")",";","float","fq","=","fm",".","x",";","float","fr","=","fm",".","y",";","if","(","fq",">","-","UNITY_VALUE_NODES",")","{","float","fs","=","dot","(","fj",",","fn",")",";","fs","*=","smoothstep","(","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",",","(","fs","-","fq",")","/","fr",")",";","fl","*=","fs",";","}"]}]}]},{TYPE:"txt",TOKENS:["}","else","{"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fj"],STATEMENTS:[{TYPE:"txt",TOKENS:["fj","=","fn",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fk"],STATEMENTS:[{TYPE:"txt",TOKENS:["fk","=","length","(","fo","-","bG",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fl"],STATEMENTS:[{TYPE:"txt",TOKENS:["fl","=","UNITY_VALUE_NODES",";"]}]}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fj"],STATEMENTS:[{TYPE:"txt",TOKENS:["fj",".","yz","=","vec2","(","-","fj",".","z",",","fj",".","y",")",";"]}]}]}]},{TYPE:"node",NAME:"NORMAL",DECLARATIONS:[{TYPE:"node_in",NAME:"ft",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fu",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"fv",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"dQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fu"],STATEMENTS:[{TYPE:"txt",TOKENS:["fu","=","dQ",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fv"],STATEMENTS:[{TYPE:"txt",TOKENS:["fv","=","-","dot","(","ft",",","dQ",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_VECTOR_VIEW",DECLARATIONS:[{TYPE:"node_in",NAME:"fw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fx",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fx","=","-","(","d_","*","vec4","(","fw",",","ZERO_VALUE_NODES",")",")",".","xyz",";"]}]},{TYPE:"node",NAME:"BSDF_ANISOTROPIC",DECLARATIONS:[{TYPE:"node_in",NAME:"fy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fE","=","fy",";"]},{TYPE:"txt",TOKENS:["fz",";","fA",";","fB",";","fC",";","fD",";"]}]},{TYPE:"node",NAME:"BSDF_DIFFUSE",DECLARATIONS:[{TYPE:"node_in",NAME:"fF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fI","=","fF",";"]},{TYPE:"txt",TOKENS:["fG",";","fH",";"]}]},{TYPE:"node",NAME:"BSDF_GLASS",DECLARATIONS:[{TYPE:"node_in",NAME:"fJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fN","=","fJ",";"]},{TYPE:"txt",TOKENS:["fK",";","fL",";","fM",";"]}]},{TYPE:"node",NAME:"BSDF_GLOSSY",DECLARATIONS:[{TYPE:"node_in",NAME:"fO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fR","=","fO",";"]},{TYPE:"txt",TOKENS:["fP",";","fQ",";"]}]},{TYPE:"node",NAME:"BSDF_HAIR",DECLARATIONS:[{TYPE:"node_in",NAME:"fS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fW","=","fS",";"]},{TYPE:"txt",TOKENS:["fT",";","fU",";","fV",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSPARENT",DECLARATIONS:[{TYPE:"node_in",NAME:"fX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fY","=","fX",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSLUCENT",DECLARATIONS:[{TYPE:"node_in",NAME:"fZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"f_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gc","=","fZ",";"]},{TYPE:"txt",TOKENS:["f_",";"]}]},{TYPE:"node",NAME:"BSDF_REFRACTION",DECLARATIONS:[{TYPE:"node_in",NAME:"gd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ge",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gi",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gi","[","0","]","=","gi","[","1","]","=","gi","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gd",";","ge",";","gf",";","gh",";"]}]},{TYPE:"node",NAME:"BSDF_TOON",DECLARATIONS:[{TYPE:"node_in",NAME:"gj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gn","=","gj",";"]},{TYPE:"txt",TOKENS:["gk",";","gl",";","gm",";"]}]},{TYPE:"node",NAME:"BSDF_VELVET",DECLARATIONS:[{TYPE:"node_in",NAME:"go",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gs",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gs","=","go",";"]},{TYPE:"txt",TOKENS:["gp",";","gq",";"]}]},{TYPE:"node",NAME:"SUBSURFACE_SCATTERING",DECLARATIONS:[{TYPE:"node_in",NAME:"gt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gz","[","0","]","=","gz","[","1","]","=","gz","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gt",";","gv",";","gw",";","gx",";","gy",";","gu",";"]}]},{TYPE:"node",NAME:"EMISSION",DECLARATIONS:[{TYPE:"node_in",NAME:"gA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gC","=","gA",";"]},{TYPE:"txt",TOKENS:["gB",";"]}]},{TYPE:"node",NAME:"AMBIENT_OCCLUSION",DECLARATIONS:[{TYPE:"node_in",NAME:"gD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gE","[","0","]","=","gE","[","1","]","=","gE","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gD",";"]}]},{TYPE:"node",NAME:"HOLDOUT",DECLARATIONS:[{TYPE:"node_out",NAME:"gF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gF","[","0","]","=","gF","[","1","]","=","gF","[","2","]","=","ZERO_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"VOLUME_ABSORPTION",DECLARATIONS:[{TYPE:"node_in",NAME:"gG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gI","[","0","]","=","gI","[","1","]","=","gI","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gG",";","gH",";"]}]},{TYPE:"node",NAME:"VOLUME_SCATTER",DECLARATIONS:[{TYPE:"node_in",NAME:"gJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gM","[","0","]","=","gM","[","1","]","=","gM","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gJ",";","gK",";","gL",";"]}]},{TYPE:"node",NAME:"BUMP",DECLARATIONS:[{TYPE:"node_in",NAME:"gN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gR","=","gQ",";"]},{TYPE:"txt",TOKENS:["gN",";","gO",";","gP",";"]}]},{TYPE:"node",NAME:"NORMAL_MAP",DECLARATIONS:[{TYPE:"node_in",NAME:"gS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","gV","=","ej",";"]},{TYPE:"txt",TOKENS:["gV",".","yz","=","vec2","(","-","gV",".","z",",","gV",".","y",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SPACE","NM_TANGENT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gU","=","em","*","(","gT",".","xyz","-","dz",")",";"]},{TYPE:"txt",TOKENS:["gU",".","yz","=","vec2","(","-","gU",".","z",",","gU",".","y",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_OBJECT",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_OBJECT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gU","=","gT",".","xyz","-","dz",";","gU",".","yz","*=","-","1.0",";","gU","=","(","eb","*","vec4","(","gU",",","ZERO_VALUE_NODES",")",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_WORLD",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_WORLD",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gU","=","gT",".","xyz","-","dz",";","gU",".","yz","*=","-","1.0",";"]}]}]},{TYPE:"txt",TOKENS:["gU","=","normalize","(","mix","(","gV",",","gU",",","gS",")",")",";"]}]},{TYPE:"node",NAME:"VECT_TRANSFORM",DECLARATIONS:[{TYPE:"node_in",NAME:"gW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","gW",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_POINT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","gY","=","vec4","(","gW",",","UNITY_VALUE_NODES",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","gY","=","vec4","(","gW",",","ZERO_VALUE_NODES",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","d_","*","gY",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","ec","*","gY",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","eb","*","gY",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","d_","*","eb","*","gY",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","ea","*","gY",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","ec","*","ea","*","gY",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_NORMAL",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","normalize","(","gX",")",";"]}]}]}]}]}]},{TYPE:"node",NAME:"BLACKBODY",DECLARATIONS:[{TYPE:"node_in",NAME:"gZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"g_",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["g_","[","0","]","=","g_","[","1","]","=","g_","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gZ",";"]}]},{TYPE:"node",NAME:"WAVELENGTH",DECLARATIONS:[{TYPE:"node_in",NAME:"ha",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hb","[","0","]","=","hb","[","1","]","=","hb","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ha",";"]}]},{TYPE:"node",NAME:"SEPXYZ",DECLARATIONS:[{TYPE:"node_in",NAME:"hc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"he",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hd","=","hc","[","0","]",";","he","=","hc","[","1","]",";","hf","=","hc","[","2","]",";"]}]},{TYPE:"node",NAME:"COMBXYZ",DECLARATIONS:[{TYPE:"node_in",NAME:"hg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hj","[","0","]","=","hg",";","hj","[","1","]","=","hh",";","hj","[","2","]","=","hi",";"]}]},{TYPE:"node",NAME:"BRIGHTCONTRAST",DECLARATIONS:[{TYPE:"node_in",NAME:"hk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","b","=","hl","-","hm","*","dz",";","hn","=","max","(","(","UNITY_VALUE_NODES","+","hm",")","*","hk","+","b",",","vec3","(","ZERO_VALUE_NODES",")",")",";"]}]},{TYPE:"node",NAME:"LIGHT_FALLOFF",DECLARATIONS:[{TYPE:"node_in",NAME:"ho",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hs",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hq","=","hr","=","hs","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ho",";","hp",";"]}]},{TYPE:"node",NAME:"TEX_IMAGE",DECLARATIONS:[{TYPE:"node_in",NAME:"ht",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hv",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hu","[","0","]","=","hu","[","1","]","=","hu","[","2","]","=","ZERO_VALUE_NODES",";","hv","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ht",";"]}]},{TYPE:"node",NAME:"TEX_ENVIRONMENT",DECLARATIONS:[{TYPE:"node_in",NAME:"hw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hx",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hx","[","0","]","=","hx","[","1","]","=","hx","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hw",";"]}]},{TYPE:"node",NAME:"TEX_SKY",DECLARATIONS:[{TYPE:"node_in",NAME:"hy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hz","[","0","]","=","hz","[","1","]","=","hz","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hy",";"]}]},{TYPE:"node",NAME:"TEX_NOISE",DECLARATIONS:[{TYPE:"node_in",NAME:"hA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hF",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hE","[","0","]","=","hE","[","1","]","=","hE","[","2","]","=","ZERO_VALUE_NODES",";","hF","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hA",";","hB",";","hC",";","hD",";"]}]},{TYPE:"node",NAME:"TEX_WAVE",DECLARATIONS:[{TYPE:"node_in",NAME:"hG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hL","[","0","]","=","hL","[","1","]","=","hL","[","2","]","=","ZERO_VALUE_NODES",";","hM","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hG",";","hH",";","hI",";","hJ",";","hK",";"]}]},{TYPE:"node",NAME:"TEX_VORONOI",DECLARATIONS:[{TYPE:"node_in",NAME:"hN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hP","[","0","]","=","hP","[","1","]","=","hP","[","2","]","=","ZERO_VALUE_NODES",";","hQ","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hN",";","hO",";"]}]},{TYPE:"node",NAME:"TEX_MUSGRAVE",DECLARATIONS:[{TYPE:"node_in",NAME:"hR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hY","[","0","]","=","hY","[","1","]","=","hY","[","2","]","=","ZERO_VALUE_NODES",";","hZ","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hR",";","hS",";","hT",";","hU",";","hV",";","hW",";","hX",";"]}]},{TYPE:"node",NAME:"TEX_GRADIENT",DECLARATIONS:[{TYPE:"node_in",NAME:"h_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ia",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ib",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ia","[","0","]","=","ia","[","1","]","=","ia","[","2","]","=","ZERO_VALUE_NODES",";","ib","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["h_",";"]}]},{TYPE:"node",NAME:"TEX_MAGIC",DECLARATIONS:[{TYPE:"node_in",NAME:"ic",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"id",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ie",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ig",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ih",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ig","[","0","]","=","ig","[","1","]","=","ig","[","2","]","=","ZERO_VALUE_NODES",";","ih","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ic",";","id",";","ie",";"]}]},{TYPE:"node",NAME:"TEX_CHECKER",DECLARATIONS:[{TYPE:"node_in",NAME:"ii",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ij",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ik",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"il",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"im",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"io",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["im","[","0","]","=","im","[","1","]","=","im","[","2","]","=","ZERO_VALUE_NODES",";","io","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ii",";","ij",";","ik",";","il",";"]}]},{TYPE:"node",NAME:"TEX_BRICK",DECLARATIONS:[{TYPE:"node_in",NAME:"ip",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ir",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"is",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"it",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ix",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iz",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iy","[","0","]","=","iy","[","1","]","=","iy","[","2","]","=","ZERO_VALUE_NODES",";","iz","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ip",";","iq",";","ir",";","is",";","it",";","iu",";","iv",";","iw",";","ix",";"]}]},{TYPE:"node",NAME:"ADD_SHADER",DECLARATIONS:[{TYPE:"node_in",NAME:"iA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iC","=","clamp","(","iA","+","iB",",","vec3","(","ZERO_VALUE_NODES",")",",","vec3","(","UNITY_VALUE_NODES",")",")",";"]}]},{TYPE:"node",NAME:"MIX_SHADER",DECLARATIONS:[{TYPE:"node_in",NAME:"iD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","iD",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","iG","=","iH","*","iE","+","(","UNITY_VALUE_NODES","-","iH",")","*","iF",";"]}]},{TYPE:"node",NAME:"UV_MERGED",DECLARATIONS:[{TYPE:"node_out",NAME:"iI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dR",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iI"],STATEMENTS:[{TYPE:"txt",TOKENS:["iI","=","dJ","(","dR",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["iJ","=","vec3","(","dR",",","ZERO_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_UV",DECLARATIONS:[{TYPE:"node_out",NAME:"iK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dS",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iK","=","vec3","(","dS",",","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_NO",DECLARATIONS:[{TYPE:"node_out",NAME:"iL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iL","=","ej",";"]}]},{TYPE:"node",NAME:"TEX_COORD_GE",DECLARATIONS:[{TYPE:"node_out",NAME:"iM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iM","=","dy",";"]}]},{TYPE:"node",NAME:"TEX_COORD_OB",DECLARATIONS:[{TYPE:"node_out",NAME:"iN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iN","[","0","]","=","iN","[","1","]","=","iN","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"TEX_COORD_CA",DECLARATIONS:[{TYPE:"node_out",NAME:"iO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iO","[","0","]","=","eo","[","0","]",";","iO","[","1","]","=","eo","[","1","]",";","iO","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"TEX_COORD_WI",DECLARATIONS:[{TYPE:"node_out",NAME:"iP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iP","[","0","]","=","iP","[","1","]","=","iP","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"TEX_COORD_RE",DECLARATIONS:[{TYPE:"node_out",NAME:"iQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iQ","[","0","]","=","iQ","[","1","]","=","iQ","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"UVMAP",DECLARATIONS:[{TYPE:"node_out",NAME:"iR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dT",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iR","=","vec3","(","dT",",","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",DECLARATIONS:[{TYPE:"node_out",NAME:"iS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iS","=","ZERO_VALUE_NODES",";","iT","=","ZERO_VALUE_NODES",";","iU","=","ZERO_VALUE_NODES",";","iV","=","vec3","(","ZERO_VALUE_NODES",")",";","iW","=","ZERO_VALUE_NODES",";","iX","=","iV",";","iY","=","iV",";"]}]},{TYPE:"node",NAME:"HAIR_INFO",DECLARATIONS:[{TYPE:"node_out",NAME:"iZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"i_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ja",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iZ","=","ZERO_VALUE_NODES",";","i_","=","ZERO_VALUE_NODES",";","ja","=","ZERO_VALUE_NODES",";","jb","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"OBJECT_INFO",DECLARATIONS:[{TYPE:"node_out",NAME:"jc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"je",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jd","=","ZERO_VALUE_NODES",";","je","=","ZERO_VALUE_NODES",";","jf","=","ZERO_VALUE_NODES",";","jc","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"WIREFRAME",DECLARATIONS:[{TYPE:"node_in",NAME:"jg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jh","=","jg",";"]}]},{TYPE:"node",NAME:"TANGENT",DECLARATIONS:[{TYPE:"node_out",NAME:"ji",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ji","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"LAYER_WEIGHT",DECLARATIONS:[{TYPE:"node_in",NAME:"jj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jl","=","jm","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["jk",";","jj",";"]}]},{TYPE:"node",NAME:"LIGHT_PATH",DECLARATIONS:[{TYPE:"node_out",NAME:"jn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"js",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ju",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jn","=","jo","=","jp","=","ZERO_VALUE_NODES",";","jq","=","jr","=","js","=","ZERO_VALUE_NODES",";","jt","=","jt","=","jv","=","jw","=","ZERO_VALUE_NODES",";","ju","=","ZERO_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"ATTRIBUTE",DECLARATIONS:[{TYPE:"node_out",NAME:"jx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jz",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jx","=","jy","=","vec3","(","ZERO_VALUE_NODES",")",";","jz","=","ZERO_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"SCRIPT",DECLARATIONS:[],STATEMENTS:[]},{TYPE:"node",NAME:"CURVE_VEC",DECLARATIONS:[{TYPE:"node_in",NAME:"jA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jC","=","jB",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["jC",".","r","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","jB",".","r","+","0.5",",","NODE_TEX_ROW",")",")",".","r","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["jC",".","g","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","jB",".","g","+","0.5",",","NODE_TEX_ROW",")",")",".","g","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["jC",".","b","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","jB",".","b","+","0.5",",","NODE_TEX_ROW",")",")",".","b","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"txt",TOKENS:["jC","=","mix","(","jB",",","jC",",","jA",")",";"]}]},{TYPE:"node",NAME:"CURVE_RGB",DECLARATIONS:[{TYPE:"node_in",NAME:"jD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_A"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","jE",".","r",",","NODE_TEX_ROW",")",")",".","a",";","float","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","jE",".","g",",","NODE_TEX_ROW",")",")",".","a",";","float","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","jE",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","jE",".","r",";","float","g","=","jE",".","g",";","float","b","=","jE",".","b",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","r",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","r","=","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","g",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","g","=","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","b",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","b","=","b",";"]}]}]},{TYPE:"txt",TOKENS:["jF","=","mix","(","jE",",","jF",",","jD",")",";"]}]},{TYPE:"node",NAME:"VALTORGB",DECLARATIONS:[{TYPE:"node_in",NAME:"jG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jI",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","jJ","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","jG",",","NODE_TEX_ROW",")",")",";","jH","=","jJ",".","rgb",";","jI","=","jJ",".","a",";"]}]},{TYPE:"node",NAME:"MAPPING",DECLARATIONS:[{TYPE:"node_in",NAME:"jK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","jK",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_ifdef",NAME:"MAPPING_TRS_MATRIX",STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","(","MAPPING_TRS_MATRIX","*","vec4","(","jL",",","UNITY_VALUE_NODES",")",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_ifdef",NAME:"MAPPING_SCALE",STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","jL","*","MAPPING_SCALE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_ifdef",NAME:"MAPPING_TRANSLATION",STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","jL","+","MAPPING_TRANSLATION",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_ifdef",NAME:"MAPPING_MIN_CLIP",STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","max","(","jL",",","MAPPING_MIN_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_ifdef",NAME:"MAPPING_MAX_CLIP",STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","min","(","jL",",","MAPPING_MAX_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_IS_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","normalize","(","jL",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ADD",DECLARATIONS:[{TYPE:"node_in",NAME:"jM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jO","=","jM","+","jN",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["jO","=","clamp","(","jO",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SUBTRACT",DECLARATIONS:[{TYPE:"node_in",NAME:"jP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jR","=","jP","-","jQ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["jR","=","clamp","(","jR",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MULTIPLY",DECLARATIONS:[{TYPE:"node_in",NAME:"jS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jU",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jU","=","jS","*","jT",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["jU","=","clamp","(","jU",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_DIVIDE",DECLARATIONS:[{TYPE:"node_in",NAME:"jV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jX","=","(","jW","!=","ZERO_VALUE_NODES",")","?","jV","/","jW",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["jX","=","clamp","(","jX",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SINE",DECLARATIONS:[{TYPE:"node_in",NAME:"jY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"j_",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["j_","=","sin","(","jY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["j_","=","clamp","(","j_",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["jZ",";"]}]},{TYPE:"node",NAME:"MATH_COSINE",DECLARATIONS:[{TYPE:"node_in",NAME:"ka",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kc","=","cos","(","ka",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kc","=","clamp","(","kc",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kb",";"]}]},{TYPE:"node",NAME:"MATH_TANGENT",DECLARATIONS:[{TYPE:"node_in",NAME:"kd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ke",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kf","=","tan","(","kd",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kf","=","clamp","(","kf",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["ke",";"]}]},{TYPE:"node",NAME:"MATH_ARCSINE",DECLARATIONS:[{TYPE:"node_in",NAME:"kg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ki",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ki","=","(","kg","<=","UNITY_VALUE_NODES","&&","kg",">=","-","UNITY_VALUE_NODES",")","?","asin","(","kg",")",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ki","=","clamp","(","ki",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kh",";"]}]},{TYPE:"node",NAME:"MATH_ARCCOSINE",DECLARATIONS:[{TYPE:"node_in",NAME:"kj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kl",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kl","=","(","kj","<=","UNITY_VALUE_NODES","&&","kj",">=","-","UNITY_VALUE_NODES",")","?","acos","(","kj",")",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kl","=","clamp","(","kl",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kk",";"]}]},{TYPE:"node",NAME:"MATH_ARCTANGENT",DECLARATIONS:[{TYPE:"node_in",NAME:"km",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ko",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ko","=","atan","(","km",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ko","=","clamp","(","ko",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kn",";"]}]},{TYPE:"node",NAME:"MATH_POWER",DECLARATIONS:[{TYPE:"node_in",NAME:"kp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kr",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","kp","<","ZERO_VALUE_NODES","&&","kq","!=","floor","(","kq",")",")","kr","=","ZERO_VALUE_NODES",";","else","if","(","kq","==","ZERO_VALUE_NODES",")"]},{TYPE:"txt",TOKENS:["kr","=","UNITY_VALUE_NODES",";","else","if","(","kp","<","ZERO_VALUE_NODES",")","kr","=","mix","(","UNITY_VALUE_NODES",",","-","UNITY_VALUE_NODES",",","sign","(","mod","(","-","kq",",","2.0",")",")",")","*","pow","(","-","kp",",","kq",")",";","else","if","(","kp","==","ZERO_VALUE_NODES",")","kr","=","ZERO_VALUE_NODES",";","else","kr","=","pow","(","kp",",","kq",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kr","=","clamp","(","kr",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_LOGARITHM",DECLARATIONS:[{TYPE:"node_in",NAME:"ks",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ku",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ku","=","(","ks",">","ZERO_VALUE_NODES","&&","kt",">","ZERO_VALUE_NODES",")","?","log2","(","ks",")","/","log2","(","kt",")",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ku","=","clamp","(","ku",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MINIMUM",DECLARATIONS:[{TYPE:"node_in",NAME:"kv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kx",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kx","=","min","(","kv",",","kw",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kx","=","clamp","(","kx",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MAXIMUM",DECLARATIONS:[{TYPE:"node_in",NAME:"ky",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kA",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kA","=","max","(","ky",",","kz",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kA","=","clamp","(","kA",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ROUND",DECLARATIONS:[{TYPE:"node_in",NAME:"kB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kD","=","floor","(","kB","+","dz",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kD","=","clamp","(","kD",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kC",";"]}]},{TYPE:"node",NAME:"MATH_LESS_THAN",DECLARATIONS:[{TYPE:"node_in",NAME:"kE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kG","=","(","kE","<","kF",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kG","=","clamp","(","kG",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_GREATER_THAN",DECLARATIONS:[{TYPE:"node_in",NAME:"kH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kJ","=","(","kH",">","kI",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kJ","=","clamp","(","kJ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MODULO",DECLARATIONS:[{TYPE:"node_in",NAME:"kK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kM","=","abs","(","kL",")",">","0.000001","?","mod","(","kK",",","kL",")",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kM","=","clamp","(","kM",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ABSOLUTE",DECLARATIONS:[{TYPE:"node_in",NAME:"kN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kP","=","abs","(","kN",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kP","=","clamp","(","kP",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kO",";"]}]},{TYPE:"node",NAME:"MIX_RGB_MIX",DECLARATIONS:[{TYPE:"node_in",NAME:"kQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","kQ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","kT","=","mix","(","kR",",","kS",",","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kT","=","clamp","(","kT",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_ADD",DECLARATIONS:[{TYPE:"node_in",NAME:"kU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","kU",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","kX","=","mix","(","kV",",","kV","+","kW",",","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kX","=","clamp","(","kX",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_MULTIPLY",DECLARATIONS:[{TYPE:"node_in",NAME:"kY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"k_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"la",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","kY",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","la","=","mix","(","kZ",",","kZ","*","k_",",","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["la","=","clamp","(","la",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SUBTRACT",DECLARATIONS:[{TYPE:"node_in",NAME:"lb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ld",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"le",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lb",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","le","=","mix","(","lc",",","lc","-","ld",",","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["le","=","clamp","(","le",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SCREEN",DECLARATIONS:[{TYPE:"node_in",NAME:"lf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"li",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lf",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","lj","=","UNITY_VALUE_NODES","-","iH",";","li","=","vec3","(","UNITY_VALUE_NODES",")","-","(","vec3","(","lj",")","+","iH","*","(","vec3","(","UNITY_VALUE_NODES",")","-","lh",")",")","*","(","vec3","(","UNITY_VALUE_NODES",")","-","lg",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["li","=","clamp","(","li",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIVIDE",DECLARATIONS:[{TYPE:"node_in",NAME:"lk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ll",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ln",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lk",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","lj","=","UNITY_VALUE_NODES","-","iH",";","lm","+=","step","(","lm",",","vec3","(","ZERO_VALUE_NODES",")",")",";","ln","=","lj","*","ll","+","iH","*","ll","/","lm",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ln","=","clamp","(","ln",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIFFERENCE",DECLARATIONS:[{TYPE:"node_in",NAME:"lo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lr",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lo",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lr","=","mix","(","lp",",","abs","(","lp","-","lq",")",",","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lr","=","clamp","(","lr",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DARKEN",DECLARATIONS:[{TYPE:"node_in",NAME:"ls",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lv",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","ls",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lv","=","min","(","lt",".","rgb",",","lu",".","rgb","*","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lv","=","clamp","(","lv",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LIGHTEN",DECLARATIONS:[{TYPE:"node_in",NAME:"lw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ly",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lw",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lz","=","max","(","lx",".","rgb",",","ly",".","rgb","*","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lz","=","clamp","(","lz",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_OVERLAY",DECLARATIONS:[{TYPE:"node_in",NAME:"lA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lA",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","vec3","lE","=","vec3","(","UNITY_VALUE_NODES","-","iH",")",";","lD","=","mix","(","lB","*","(","lE","+","2.0","*","iH","*","lC",")",",","vec3","(","UNITY_VALUE_NODES",")","-","(","lE","+","2.0","*","iH","*","(","vec3","(","UNITY_VALUE_NODES",")","-","lC",")",")","*","(","vec3","(","UNITY_VALUE_NODES",")","-","lB",")",",","step","(","dz",",","lB",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lD","=","clamp","(","lD",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DODGE",DECLARATIONS:[{TYPE:"node_in",NAME:"lF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lF",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","vec3","lJ","=","vec3","(","UNITY_VALUE_NODES",")","-","iH","*","lH",";","vec3","lK","=","clamp","(","lG","/","lJ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lI","=","mix","(","mix","(","lK",",","vec3","(","UNITY_VALUE_NODES",")",",","step","(","lJ",",","vec3","(","ZERO_VALUE_NODES",")",")",")",",","lG",",","step","(","lG",",","vec3","(","ZERO_VALUE_NODES",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lI","=","clamp","(","lI",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_BURN",DECLARATIONS:[{TYPE:"node_in",NAME:"lL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lL",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","vec3","lP","=","vec3","(","UNITY_VALUE_NODES","-","iH",")",";","vec3","lJ","=","lP","+","iH","*","lN",";","vec3","lK","=","clamp","(","vec3","(","UNITY_VALUE_NODES",")","-","(","vec3","(","UNITY_VALUE_NODES",")","-","lM",")","/","lJ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lO","=","mix","(","lK",",","vec3","(","ZERO_VALUE_NODES",")",",","step","(","lJ",",","vec3","(","ZERO_VALUE_NODES",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lO","=","clamp","(","lO",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_HUE",DECLARATIONS:[{TYPE:"node_in",NAME:"lQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lQ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","vec3","dG",",","lU",",","lJ",";","lT","=","lR",";","lU","=","dF","(","lS",")",";","if","(","lU",".","y","!=","ZERO_VALUE_NODES",")","{","dG","=","dF","(","lT",")",";","dG",".","x","=","lU",".","x",";","lJ","=","dH","(","dG",")",";","lT","=","mix","(","lT",",","lJ",",","iH",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lT","=","clamp","(","lT",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SATURATION",DECLARATIONS:[{TYPE:"node_in",NAME:"lV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lV",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","lj","=","UNITY_VALUE_NODES","-","iH",";","lY","=","lW",";","vec3","dG",",","lU",";","dG","=","dF","(","lY",")",";","if","(","dG",".","y","!=","ZERO_VALUE_NODES",")","{","lU","=","dF","(","lX",")",";","dG",".","y","=","lj","*","dG",".","y","+","iH","*","lU",".","y",";","lY","=","dH","(","dG",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lY","=","clamp","(","lY",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_VALUE",DECLARATIONS:[{TYPE:"node_in",NAME:"lZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"l_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ma",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lZ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","lj","=","UNITY_VALUE_NODES","-","iH",";","vec3","dG",",","lU",";","dG","=","dF","(","l_",")",";","lU","=","dF","(","ma",")",";","dG",".","z","=","lj","*","dG",".","z","+","iH","*","lU",".","z",";","mb","=","dH","(","dG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["mb","=","clamp","(","mb",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_COLOR",DECLARATIONS:[{TYPE:"node_in",NAME:"mc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"md",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"me",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","mc",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","vec3","dG",",","lU",",","lJ",";","mf","=","md",";","lU","=","dF","(","me",")",";","if","(","lU",".","y","!=","ZERO_VALUE_NODES",")","{","dG","=","dF","(","mf",")",";","dG",".","x","=","lU",".","x",";","dG",".","y","=","lU",".","y",";","lJ","=","dH","(","dG",")",";","mf","=","mix","(","mf",",","lJ",",","iH",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["mf","=","clamp","(","mf",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SOFT_LIGHT",DECLARATIONS:[{TYPE:"node_in",NAME:"mg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","mg",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","lj","=","UNITY_VALUE_NODES","-","iH",";","vec3","mk","=","mi","+","mh","-","mi","*","mh",";","mj","=","mh","*","(","vec3","(","lj",")","+","vec3","(","iH",")","*","(","(","vec3","(","UNITY_VALUE_NODES",")","-","mh",")","*","mi","+","mk",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["mj","=","clamp","(","mj",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LINEAR_LIGHT",DECLARATIONS:[{TYPE:"node_in",NAME:"ml",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mo",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","ml",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","mo","=","mm","+","iH","*","(","2.0","*","mn","-","vec3","(","UNITY_VALUE_NODES",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["mo","=","clamp","(","mo",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"OUTPUT",DECLARATIONS:[{TYPE:"node_in",NAME:"mp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ed","=","mp",";","eh","=","mq",";"]}]},{TYPE:"node",NAME:"MATERIAL_BEGIN",DECLARATIONS:[{TYPE:"node_in",NAME:"mr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ms",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mu",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"mv",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"my",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mB",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mC",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mD",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dU",QUALIFIER:["const","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dV",QUALIFIER:["const","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["my","=","clamp","(","mr",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{TYPE:"txt",TOKENS:["mz","=","dV","[","0","]","*","clamp","(","ms",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["mA","=","normalize","(","mu",")",";"]},{TYPE:"txt",TOKENS:["mA",".","yz","=","vec2","(","mA",".","z",",","-","mA",".","y",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mA","=","ej",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SHADELESS_MAT",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["mw","=","mv","*","my",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mw","=","ep","*","my",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["my","*=","mt",";"]}]}]},{TYPE:"txt",TOKENS:["mx","=","eq","*","u_environment_energy","*","dm","(","mA",")",";","mD","=","cV","(","my",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["mB","=","vec2","(","dU","[","0","]",",","dU","[","1","]",")",";"]},{TYPE:"txt",TOKENS:["mC","=","vec2","(","dV","[","1","]",",","dV","[","2","]",")",";"]}]}]},{TYPE:"txt",TOKENS:["eg","=","mD",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mw","=","vec3","(","ZERO_VALUE_NODES",")",";","mx","=","vec3","(","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATERIAL_END",DECLARATIONS:[{TYPE:"node_in",NAME:"mE",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mH",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"mI",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"mJ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mK",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mL",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mM",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mN",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mO",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"dW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mK"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["mK","=","mE",".","rgb",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mK","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT","REFLECTION_TYPE","REFL_NONE",{TYPE:"non_equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["dk","(","mK",",","dY",",","mG",",","mH",",","dZ",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["dk","(","mK",",","dY",",","mG",",","mH",",","mat4","(","ZERO_VALUE_NODES",")",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["mK","+=","mF",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mM"],STATEMENTS:[{TYPE:"txt",TOKENS:["mM","=","mG",";"]},{TYPE:"txt",TOKENS:["mM",".","yz","=","vec2","(","-","mM",".","z",",","mM",".","y",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mN"],STATEMENTS:[{TYPE:"txt",TOKENS:["mN","=","mE",".","rgb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mO"],STATEMENTS:[{TYPE:"txt",TOKENS:["mO","=","mF",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mL"],STATEMENTS:[{TYPE:"txt",TOKENS:["mL","=","clamp","(","mJ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","mF",".","r",",","mF",".","g",")",",","mF",".","b",")","*","mI",";","mL","=","clamp","(","mJ","*","(","UNITY_VALUE_NODES","-","t",")","+","t",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mL"],STATEMENTS:[{TYPE:"txt",TOKENS:["mL","=","clamp","(","dW",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","mF",".","r",",","mF",".","g",")",",","mF",".","b",")","*","dX",";","mL","=","dW","*","(","UNITY_VALUE_NODES","-","t",")","+","t",";"]}]}]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["ee","=","mF",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["ee","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["ef","=","mG",";"]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",DECLARATIONS:[{TYPE:"node_in",NAME:"mP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mS",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["mS","=","vec4","(","mP","+","mR","*","mQ",",","ZERO_VALUE_NODES",")",";","mT","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",DECLARATIONS:[{TYPE:"node_in",NAME:"mU",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mW",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["mW","=","u_light_factors","[","LAMP_LIGHT_FACT_IND","]",".","LAMP_FAC_CHANNELS",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["mY","=","dz",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mY","=","ZERO_VALUE_NODES",";"]}]}]},{TYPE:"txt",TOKENS:["mX","=","u_light_color_intensities","[","LAMP_IND","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["mX","*=","mU","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","mZ","=","u_light_positions","[","LAMP_IND","]",";","mV","=","mZ","-","en",";"]},{TYPE:"txt",TOKENS:["float","m_","=","length","(","mV",")",";","mX","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","m_","*","m_",")",";","mV","=","normalize","(","mV",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","na","=","u_light_directions","[","LAMP_IND","]",";","float","fs","=","dot","(","mV",",","na",")",";","fs","*=","smoothstep","(","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",",","(","fs","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","mX","*=","fs",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mV","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",DECLARATIONS:[{TYPE:"node_in",NAME:"nb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nc",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ne",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nf",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ng",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","nh","=","nd",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nb",",","bR",".","xyz",")",";","nh","=","cross","(","ni",",","bR",".","xyz",")",";","nh","=","-","normalize","(","nh",")",";"]}]}]},{TYPE:"txt",TOKENS:["ng","=","ZERO_VALUE_NODES",";","if","(","nc",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","ne",")","*","dot","(","nh",",","nb",")","+","ne",";","if","(","nf","[","0","]","==","ZERO_VALUE_NODES",")","{","ng","=","UNITY_VALUE_NODES",";","}","else","{","float","t","=","UNITY_VALUE_NODES","+","abs","(","nj",")",";","t","=","nf","[","1","]","+","(","UNITY_VALUE_NODES","-","nf","[","1","]",")","*","pow","(","t",",","nf","[","0","]",")",";","ng","=","clamp","(","t",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","}","ng","=","max","(","ng",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",DECLARATIONS:[{TYPE:"node_in",NAME:"nk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"no",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","nh","=","nm",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nk",",","bR",".","xyz",")",";","nh","=","cross","(","ni",",","bR",".","xyz",")",";","nh","=","-","normalize","(","nh",")",";"]}]}]},{TYPE:"txt",TOKENS:["no","=","ZERO_VALUE_NODES",";","if","(","nl",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","nn",")","*","dot","(","nh",",","nk",")","+","nn",";","no","=","max","(","nj",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",DECLARATIONS:[{TYPE:"node_in",NAME:"np",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ns",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nt",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","nh","=","nr",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","np",",","bR",".","xyz",")",";","nh","=","cross","(","ni",",","bR",".","xyz",")",";","nh","=","-","normalize","(","nh",")",";"]}]}]},{TYPE:"txt",TOKENS:["nu","=","ZERO_VALUE_NODES",";","if","(","nq",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","ns",")","*","dot","(","nh",",","np",")","+","ns",";","if","(","nt","[","0","]",">","ZERO_VALUE_NODES",")","{","float","nv","=","max","(","dot","(","nh",",","dY",")",",","ZERO_VALUE_NODES",")",";","float","nw","=","nt","[","0","]","*","nt","[","0","]",";","float","nx","=","UNITY_VALUE_NODES","-","dz","*","(","nw","/","(","nw","+","0.33",")",")",";","vec3","ny","=","np","-","nj","*","nh",";","vec3","nz","=","dY","-","nv","*","nh",";"]},{TYPE:"txt",TOKENS:["if","(","length","(","ny",")","==","ZERO_VALUE_NODES","||","length","(","nz",")","==","ZERO_VALUE_NODES","||","abs","(","nj",")",">","UNITY_VALUE_NODES","||","abs","(","nv",")",">","UNITY_VALUE_NODES",")"]},{TYPE:"txt",TOKENS:["nu","=","nj","*","nx",";","else","{","float","nA","=","acos","(","nj",")",";","float","nB","=","acos","(","nv",")",";","vec3","nC","=","normalize","(","ny",")",";","vec3","nD","=","normalize","(","nz",")",";","float","a",",","b",";","a","=","max","(","nA",",","nB",")",";","b","=","min","(","nA",",","nB",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","nC",",","nD",")",",","ZERO_VALUE_NODES",")",";","float","nE","=","0.45","*","(","nw","/","(","nw","+","0.09",")",")",";","nu","=","nj","*","(","nx","+","(","nE","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","nu","=","nj",";","nu","=","max","(","nu",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",DECLARATIONS:[{TYPE:"node_in",NAME:"nF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nG",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nJ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","nh","=","nH",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nF",",","bR",".","xyz",")",";","nh","=","cross","(","ni",",","bR",".","xyz",")",";","nh","=","-","normalize","(","nh",")",";"]}]}]},{TYPE:"txt",TOKENS:["nK","=","ZERO_VALUE_NODES",";","if","(","nG",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","nI",")","*","dot","(","nh",",","nF",")","+","nI",";","float","nv","=","max","(","dot","(","nh",",","dY",")",",","ZERO_VALUE_NODES",")",";","if","(","nJ","[","0","]","<=","UNITY_VALUE_NODES",")","nK","=","nj","*","pow","(","max","(","nv","*","nj",",","0.1",")",",","nJ","[","0","]","-","UNITY_VALUE_NODES",")",";","else","nK","=","nj","*","pow","(","1.0001","-","nv",",","nJ","[","0","]","-","UNITY_VALUE_NODES",")",";","nK","=","max","(","nK",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",DECLARATIONS:[{TYPE:"node_in",NAME:"nL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nM",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nP",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","nh","=","nN",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nL",",","bR",".","xyz",")",";","nh","=","cross","(","ni",",","bR",".","xyz",")",";","nh","=","-","normalize","(","nh",")",";"]}]}]},{TYPE:"txt",TOKENS:["nQ","=","ZERO_VALUE_NODES",";","if","(","nM",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","nO",")","*","dot","(","nh",",","nL",")","+","nO",";","float","nR","=","acos","(","nj",")",";","if","(","nR","<","nP","[","0","]",")","nQ","=","UNITY_VALUE_NODES",";","else","if","(","nR",">","(","nP","[","0","]","+","nP","[","1","]",")","||","nP","[","1","]","==","ZERO_VALUE_NODES",")","nQ","=","ZERO_VALUE_NODES",";","else","nQ","=","UNITY_VALUE_NODES","-","(","(","nR","-","nP","[","0","]",")","/","nP","[","1","]",")",";","nQ","=","max","(","nQ",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",DECLARATIONS:[{TYPE:"node_in",NAME:"nS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nT",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nW",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nX","=","ZERO_VALUE_NODES",";","if","(","nT",".","g","==","UNITY_VALUE_NODES",")","{","vec3","nY","=","normalize","(","nS","+","dY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","nV","==","ZERO_VALUE_NODES",")","{","nX","=","dot","(","bR",".","xyz",",","nY",")",";","nX","=","sqrt","(","UNITY_VALUE_NODES","-","nX","*","nX",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nX","=","(","UNITY_VALUE_NODES","-","nV",")","*","max","(","dot","(","nU",",","nY",")",",","ZERO_VALUE_NODES",")","+","nV",";"]}]}]},{TYPE:"txt",TOKENS:["nX","=","pow","(","nX",",","nW","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",DECLARATIONS:[{TYPE:"node_in",NAME:"nZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"n_",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ob",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oc",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"od",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["od","=","ZERO_VALUE_NODES",";","if","(","n_",".","g","==","UNITY_VALUE_NODES",")","{","vec3","nY","=","normalize","(","nZ","+","dY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","ZERO_VALUE_NODES",";","float","nv","=","ZERO_VALUE_NODES",";","float","of","=","ZERO_VALUE_NODES",";","if","(","ob","==","ZERO_VALUE_NODES",")","{","oe","=","dot","(","bR",".","xyz",",","nY",")",";","nv","=","dot","(","bR",".","xyz",",","dY",")",";","of","=","dot","(","bR",".","xyz",",","nZ",")",";","oe","=","sqrt","(","UNITY_VALUE_NODES","-","oe","*","oe",")",";","nv","=","sqrt","(","UNITY_VALUE_NODES","-","nv","*","nv",")",";","of","=","sqrt","(","UNITY_VALUE_NODES","-","of","*","of",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","max","(","dot","(","oa",",","nY",")",",","0.001",")",";"]},{TYPE:"txt",TOKENS:["float","nv","=","max","(","dot","(","oa",",","dY",")",",","0.01",")",";","float","of","=","max","(","dot","(","oa",",","nZ",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","O","=","tan","(","acos","(","oe",")",")",";","float","bf","=","max","(","oc","[","0","]",",","0.001",")",";","od","=","of","*","(","UNITY_VALUE_NODES","/","(","4.0","*","M_PI","*","bf","*","bf",")",")","*","(","exp","(","-","(","O","*","O",")","/","(","bf","*","bf",")",")","/","(","sqrt","(","nv","*","of",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",DECLARATIONS:[{TYPE:"node_in",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oh",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ok",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ol",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ol","=","ZERO_VALUE_NODES",";","if","(","oh",".","g","==","UNITY_VALUE_NODES",")","{","vec3","aV","=","normalize","(","og","+","dY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","om","=","dot","(","aV",",","bR",".","xyz",")",";","float","O","=","ok","[","0","]","+","ok","[","1","]",";","if","(","oj","==","ZERO_VALUE_NODES",")","O","=","acos","(","sqrt","(","UNITY_VALUE_NODES","-","om","*","om",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","O","=","acos","(","dot","(","aV",",","oi",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","O","<","ok","[","0","]",")","ol","=","UNITY_VALUE_NODES",";","else","if","(","O",">=","ok","[","0","]","+","ok","[","1","]","||","ok","[","1","]","==","ZERO_VALUE_NODES",")","ol","=","ZERO_VALUE_NODES",";","else","ol","=","UNITY_VALUE_NODES","-","(","O","-","ok","[","0","]",")","/","ok","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",DECLARATIONS:[{TYPE:"node_in",NAME:"on",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"or",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"os",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["os","=","ZERO_VALUE_NODES",";","if","(","oo",".","g","==","UNITY_VALUE_NODES",")","{","if","(","or","[","0","]","<","1.0","||","or","[","1","]","==","ZERO_VALUE_NODES",")","os","=","ZERO_VALUE_NODES",";","else","{","if","(","or","[","1","]","<","100.0",")","or","[","1","]","=","sqrt","(","1.0","/","or","[","1","]",")",";","else","or","[","1","]","=","10.0","/","or","[","1","]",";","vec3","nY","=","normalize","(","dY","+","on",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","0.0",";","if","(","oq","==","ZERO_VALUE_NODES",")","{","float","ot","=","dot","(","bR",".","xyz",",","nY",")",";","oe","=","sqrt","(","UNITY_VALUE_NODES","-","ot","*","ot",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","(","UNITY_VALUE_NODES","-","oq",")","*","max","(","dot","(","op",",","nY",")",",","ZERO_VALUE_NODES",")","+","oq",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","oe","<","ZERO_VALUE_NODES",")","os","=","ZERO_VALUE_NODES",";","else","{","float","nv","=","max","(","dot","(","op",",","dY",")",",","0.01",")",";","float","of","=","dot","(","op",",","on",")",";","if","(","of","<=","0.01",")","os","=","ZERO_VALUE_NODES",";","else","{","float","ou","=","max","(","dot","(","dY",",","nY",")",",","0.01",")",";","float","a","=","UNITY_VALUE_NODES",";","float","b","=","(","2.0","*","oe","*","nv",")","/","ou",";","float","ov","=","(","2.0","*","oe","*","of",")","/","ou",";","float","g","=","min","(","min","(","a",",","b",")",",","ov",")",";","float","p","=","sqrt","(","pow","(","or","[","0","]",",","2.0",")","+","pow","(","ou",",","2.0",")","-","UNITY_VALUE_NODES",")",";","float","ow","=","pow","(","p","-","ou",",","2.0",")","/","pow","(","p","+","ou",",","2.0",")","*","(","UNITY_VALUE_NODES","+","pow","(","ou","*","(","p","+","ou",")","-","UNITY_VALUE_NODES",",","2.0",")","/","pow","(","ou","*","(","p","-","ou",")","+","UNITY_VALUE_NODES",",","2.0",")",")",";","float","nR","=","acos","(","oe",")",";","os","=","max","(","ow","*","g","*","exp","(","-","pow","(","nR",",","2.0",")","/","(","2.0","*","pow","(","or","[","1","]",",","2.0",")",")",")",",","ZERO_VALUE_NODES",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",DECLARATIONS:[{TYPE:"node_in",NAME:"ox",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oD",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oI",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oJ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_B4W_TRANSLUCENCY"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","oB",",","oC",")","*","dot","(","dY",",","oC",")","<","ZERO_VALUE_NODES",")","{","float","oK","=","oD",".","x",";","float","oL","=","oD",".","y",";","float","oM","=","oD",".","z",";","float","oN","=","oD",".","w",";"]},{TYPE:"txt",TOKENS:["float","oO","=","clamp","(","abs","(","dot","(","oB",",","oC",")",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","oP","=","clamp","(","dot","(","dY",",","-","oB",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","oQ","=","pow","(","oP",",","oL",")",";"]},{TYPE:"txt",TOKENS:["oI","=","ox","+","oH","*","vec4","(","oG","*","oO","*","pow","(","oE",",","vec3","(","oK",")",")",",","UNITY_VALUE_NODES",")",";"]},{TYPE:"txt",TOKENS:["oI","+=","oM","*","mix","(","vec4","(","oE",",","UNITY_VALUE_NODES",")",",","vec4","(","UNITY_VALUE_NODES",")",",","oN",")","*","oH","*","vec4","(","oG","*","oO","*","vec3","(","oQ",")",",","UNITY_VALUE_NODES",")",";","oJ","=","oy",";","}","else","{"]},{TYPE:"txt",TOKENS:["oJ","=","oy","+","oG","*","oF","*","oA",";","oI","=","ox","+","vec4","(","oG","*","oE","*","oz",",","oA",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oJ","=","oy","+","oG","*","oF","*","oA",";","oI","=","ox","+","vec4","(","oG","*","oE","*","oz",",","oA",")",";"]}]}]}]},{TYPE:"node",NAME:"RGB",DECLARATIONS:[{TYPE:"node_out",NAME:"oR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oR","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{TYPE:"node",NAME:"RGBTOBW",DECLARATIONS:[{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oT","=","dot","(","oS",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{TYPE:"node",NAME:"SEPRGB",DECLARATIONS:[{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oV",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"oW",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"oX",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_oV"],STATEMENTS:[{TYPE:"txt",TOKENS:["oV","=","oU",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_oW"],STATEMENTS:[{TYPE:"txt",TOKENS:["oW","=","oU",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_oX"],STATEMENTS:[{TYPE:"txt",TOKENS:["oX","=","oU",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SEPHSV",DECLARATIONS:[{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oZ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"o_",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pa",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","pb","=","dF","(","oY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_oZ"],STATEMENTS:[{TYPE:"txt",TOKENS:["oZ","=","pb",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_o_"],STATEMENTS:[{TYPE:"txt",TOKENS:["o_","=","pb",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pa"],STATEMENTS:[{TYPE:"txt",TOKENS:["pa","=","pb",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SQUEEZE",DECLARATIONS:[{TYPE:"node_in",NAME:"pc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","UNITY_VALUE_NODES","/","(","UNITY_VALUE_NODES","+","pow","(","2.71828183",",","-","(","pc","-","pe",")","*","pd",")",")",";"]}]},{TYPE:"node",NAME:"GAMMA",DECLARATIONS:[{TYPE:"node_in",NAME:"pg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ph",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pi",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pi","=","pg",";","if","(","pi",".","x",">","ZERO_VALUE_NODES",")","pi",".","x","=","pow","(","pg",".","x",",","ph",")",";","if","(","pi",".","y",">","ZERO_VALUE_NODES",")","pi",".","y","=","pow","(","pg",".","y",",","ph",")",";","if","(","pi",".","z",">","ZERO_VALUE_NODES",")","pi",".","z","=","pow","(","pg",".","z",",","ph",")",";"]}]},{TYPE:"node",NAME:"B4W_SRGB_TO_LINEAR",DECLARATIONS:[{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pk","=","max","(","vec3","(","ZERO_VALUE_NODES",")",",","pj",")",";","pk","=","pow","(","pk",",","vec3","(","2.2",")",")",";"]}]},{TYPE:"node",NAME:"B4W_LINEAR_TO_SRGB",DECLARATIONS:[{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","max","(","vec3","(","ZERO_VALUE_NODES",")",",","pl",")",";","pm","=","pow","(","pm",",","vec3","(","UNITY_VALUE_NODES","/","2.2",")",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_EMPTY",DECLARATIONS:[{TYPE:"node_out",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"po",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pr",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pn"],STATEMENTS:[{TYPE:"txt",TOKENS:["pn","[","2","]","=","pn","[","1","]","=","pn","[","0","]","=","ZERO_VALUE_NODES",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_po"],STATEMENTS:[{TYPE:"txt",TOKENS:["po","[","2","]","=","po","[","1","]","=","po","[","0","]","=","ZERO_VALUE_NODES",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pr"],STATEMENTS:[{TYPE:"txt",TOKENS:["pr","=","ZERO_VALUE_NODES",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT",DECLARATIONS:[{TYPE:"node_in",NAME:"pu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pv",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pw",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_var_texture",QUALIFIER:["uniform","samplerCube"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","px","=","vec3","(","pu",".","x",",","pu",".","z",",","-","pu",".","y",")",";","vec4","jJ","=","GLSL_TEXTURE_CUBE","(","node_TEXTURE_ENVIRONMENT_var_texture",",","px",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pv"],STATEMENTS:[{TYPE:"txt",TOKENS:["pv","=","jJ",".","xyz",";","bd","(","pv",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pw"],STATEMENTS:[{TYPE:"txt",TOKENS:["pw","=","jJ",".","w",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_COLOR",DECLARATIONS:[{TYPE:"node_in",NAME:"py",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pz",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pC",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pD",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pE",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pF",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pG",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pH",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pJ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_COLOR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","jJ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","dK","(","py",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pC"],STATEMENTS:[{TYPE:"txt",TOKENS:["pC","=","jJ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bd","(","pC",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pD"],STATEMENTS:[{TYPE:"txt",TOKENS:["pD","=","jJ",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","dK","(","pz",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pE"],STATEMENTS:[{TYPE:"txt",TOKENS:["pE","=","jJ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bd","(","pE",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pF"],STATEMENTS:[{TYPE:"txt",TOKENS:["pF","=","jJ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","dK","(","pA",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pG"],STATEMENTS:[{TYPE:"txt",TOKENS:["pG","=","jJ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bd","(","pG",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pH"],STATEMENTS:[{TYPE:"txt",TOKENS:["pH","=","jJ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","dK","(","pB",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pI"],STATEMENTS:[{TYPE:"txt",TOKENS:["pI","=","jJ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bd","(","pI",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["pJ","=","jJ",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"TEXTURE_NORMAL",DECLARATIONS:[{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pM",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pN",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pO",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pP",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pQ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pR",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pS",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pT",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pU",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pV",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_NORMAL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","jJ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","dK","(","pK",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pO"],STATEMENTS:[{TYPE:"txt",TOKENS:["pO","=","normalize","(","em","*","(","jJ",".","xyz","-","dz",")",")",";"]},{TYPE:"txt",TOKENS:["pO",".","yz","=","vec2","(","-","pO",".","z",",","pO",".","y",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pP"],STATEMENTS:[{TYPE:"txt",TOKENS:["pP","=","jJ",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","dK","(","pL",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["pQ","=","normalize","(","em","*","(","jJ",".","xyz","-","dz",")",")",";"]},{TYPE:"txt",TOKENS:["pQ",".","yz","=","vec2","(","-","pQ",".","z",",","pQ",".","y",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pR"],STATEMENTS:[{TYPE:"txt",TOKENS:["pR","=","jJ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","dK","(","pM",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pS"],STATEMENTS:[{TYPE:"txt",TOKENS:["pS","=","normalize","(","em","*","(","jJ",".","xyz","-","dz",")",")",";"]},{TYPE:"txt",TOKENS:["pS",".","yz","=","vec2","(","-","pS",".","z",",","pS",".","y",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pT"],STATEMENTS:[{TYPE:"txt",TOKENS:["pT","=","jJ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","dK","(","pN",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pU"],STATEMENTS:[{TYPE:"txt",TOKENS:["pU","=","normalize","(","em","*","(","jJ",".","xyz","-","dz",")",")",";"]},{TYPE:"txt",TOKENS:["pU",".","yz","=","vec2","(","-","pU",".","z",",","pU",".","y",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pV"],STATEMENTS:[{TYPE:"txt",TOKENS:["pV","=","jJ",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"VALUE",DECLARATIONS:[{TYPE:"node_out",NAME:"pW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pW","=","u_node_values","[","VALUE_IND","]",";"]}]},{TYPE:"node",NAME:"VECT_MATH_ADD",DECLARATIONS:[{TYPE:"node_in",NAME:"pX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"p_",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["pZ","=","pX","+","pY",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_p_"],STATEMENTS:[{TYPE:"txt",TOKENS:["p_","=","(","abs","(","pZ","[","0","]",")","+","abs","(","pZ","[","1","]",")","+","abs","(","pZ","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_SUBTRACT",DECLARATIONS:[{TYPE:"node_in",NAME:"qa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qd",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["qc","=","qa","-","qb",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qd"],STATEMENTS:[{TYPE:"txt",TOKENS:["qd","=","(","abs","(","qc","[","0","]",")","+","abs","(","qc","[","1","]",")","+","abs","(","qc","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_AVERAGE",DECLARATIONS:[{TYPE:"node_in",NAME:"qe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qh",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["qg","=","qe","+","qf",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qh"],STATEMENTS:[{TYPE:"txt",TOKENS:["qh","=","length","(","qg",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qg"],STATEMENTS:[{TYPE:"txt",TOKENS:["qg","=","normalize","(","qg",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_DOT_PRODUCT",DECLARATIONS:[{TYPE:"node_in",NAME:"qi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ql",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["qk","=","vec3","(","ZERO_VALUE_NODES",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_ql"],STATEMENTS:[{TYPE:"txt",TOKENS:["ql","=","dot","(","qi",",","qj",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_CROSS_PRODUCT",DECLARATIONS:[{TYPE:"node_in",NAME:"qm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qr",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["qo","=","cross","(","qm",",","qn",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qr"],STATEMENTS:[{TYPE:"txt",TOKENS:["qr","=","length","(","qo",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_NORMALIZE",DECLARATIONS:[{TYPE:"node_in",NAME:"qu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qx",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["qw","=","normalize","(","qu",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qx"],STATEMENTS:[{TYPE:"txt",TOKENS:["qx","=","length","(","qu",")",";"]}]}]},{TYPE:"txt",TOKENS:["qv",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT",DECLARATIONS:[{TYPE:"node_in",NAME:"qy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qA","=","reflect","(","(","ea","*","vec4","(","qy",",","0.0",")",")",".","xyz",",","qz",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT_WORLD",DECLARATIONS:[{TYPE:"node_in",NAME:"qB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","qD","=","vec3","(","-","dY",".","x",",","dY",".","z",",","-","dY",".","y",")",";","qC","=","reflect","(","qD",",","qB",")",";"]}]},{TYPE:"node",NAME:"B4W_PARALLAX",DECLARATIONS:[{TYPE:"node_in",NAME:"qE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qG",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qH",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_B4W_PARALLAX_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","bt","=","length","(","eo",")",";","if","(","bt","<","qH",")","{","vec2","bv","=","dK","(","qE",")",";","float","qJ","=","clamp","(","dz","*","(","qH","-","bt",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","bA","=","qF","*","qJ",";"]},{TYPE:"txt",TOKENS:["vec3","qK","=","normalize","(","dY","*","em",")",";"]},{TYPE:"txt",TOKENS:["float","qL","=","UNITY_VALUE_NODES","/","qG",";"]},{TYPE:"txt",TOKENS:["vec2","qM","=","qK",".","xy","*","bA","/","(","qG","*","qK",".","z",")",";","float","qN","=","UNITY_VALUE_NODES",";","float","aV","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bv",")",".","a",";"]},{TYPE:"txt",TOKENS:["for","(","float","aQ","=","1.0",";","aQ","<=","qG",";","aQ","++",")","{","if","(","aV","<","qN",")","{","qN","-=","qL",";","bv","-=","qM",";","aV","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bv",")",".","a",";","}","}"]},{TYPE:"txt",TOKENS:["vec2","qO","=","bv","+","qM",";","float","qP","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","qO",")",".","a","-","(","qN","+","qL",")",";","float","qQ","=","aV","-","qN",";","float","qR","=","qQ","/","(","qQ","-","qP",")",";"]},{TYPE:"txt",TOKENS:["bv","=","qR","*","qO","+","(","UNITY_VALUE_NODES","-","qR",")","*","bv",";","qI","=","dJ","(","bv",")",";","}","else","qI","=","qE",";"]}]},{TYPE:"node",NAME:"B4W_CLAMP",DECLARATIONS:[{TYPE:"node_in",NAME:"qS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qT","=","clamp","(","qS",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"B4W_REFRACTION",DECLARATIONS:[{TYPE:"node_in",NAME:"qU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qW","=","dC","(","qU",",","qV",")",";"]}]},{TYPE:"node",NAME:"B4W_TRANSLUCENCY",DECLARATIONS:[{TYPE:"node_in",NAME:"qX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"q_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rd",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"re",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rd"],STATEMENTS:[{TYPE:"txt",TOKENS:["rd","=","qX",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_re"],STATEMENTS:[{TYPE:"txt",TOKENS:["re","=","vec4","(","qY",",","qZ",",","q_",",","rc",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_TIME",DECLARATIONS:[{TYPE:"node_out",NAME:"rf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rf","=","u_time",";"]}]},{TYPE:"node",NAME:"B4W_SMOOTHSTEP",DECLARATIONS:[{TYPE:"node_in",NAME:"rh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ri",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rk",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rk","=","smoothstep","(","ri",",","rj",",","rh",")",";"]}]},{TYPE:"node",NAME:"B4W_GLOW_OUTPUT",DECLARATIONS:[{TYPE:"node_in",NAME:"rl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ed","=","rl",";","eh","=","rm",";"]}]},{TYPE:"node",NAME:"B4W_VECTOSCAL",DECLARATIONS:[{TYPE:"node_in",NAME:"rn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ro",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ro","=","(","rn",".","r","+","rn",".","g","+","rn",".","b",")","/","3.0",";"]}]},{TYPE:"node",NAME:"B4W_SCALTOVEC",DECLARATIONS:[{TYPE:"node_in",NAME:"rp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rq","[","0","]","=","rp",";","rq","[","1","]","=","rp",";","rq","[","2","]","=","rp",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","rs","(","in","vec3","dY",",","in","mat4","dZ",",","in","mat4","d_",",","in","mat4","ea",",","in","mat4","eb",",","in","mat4","ec",",","out","vec3","ed",",","out","vec3","ee",",","out","vec3","ef",",","out","vec4","eg",",","out","float","eh",")","{","ed","=","vec3","(","ZERO_VALUE_NODES",")",";","ee","=","vec3","(","ZERO_VALUE_NODES",")",";","ef","=","vec3","(","ZERO_VALUE_NODES",")",";","eg","=","vec4","(","ZERO_VALUE_NODES",")",";","eh","=","ZERO_VALUE_NODES",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_NORMAL_MAP",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","normalize","(","bI",")",";","vec3","ei","=","l",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["INVERT_FRONTFACING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","gl_FrontFacing",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["ei","=","ei",";","else","ei","=","-","ei",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ej","=","ei",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ej","=","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ek","=","ei",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","k","=","cross","(","ei",",","bJ",".","xyz",")","*","bJ",".","w",";","mat3","el","=","mat3","(","bJ",".","xyz",",","k",",","ei",")",";","mat3","em","=","el",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","en","=","bG",";","vec4","eo","=","bH",";","float","ep","=","u_emit",";","float","eq","=","u_ambient",";"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]},exports["include/to_world.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"define",NAME:"MAX_BILLBOARD_ANGLE",TOKENS:["(","M_PI","/","4.0",")"]},{TYPE:"txt",TOKENS:["const","vec3","ru","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_SPHERICAL","BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rw","(","vec3","rv",",","mat4","de",")","{","vec3","x","=","vec3","(","de","[","0","]","[","0","]",",","de","[","1","]","[","0","]",",","de","[","2","]","[","0","]",")",";","vec3","y","=","vec3","(","de","[","0","]","[","1","]",",","de","[","1","]","[","1","]",",","de","[","2","]","[","1","]",")",";","vec3","z","=","vec3","(","de","[","0","]","[","2","]",",","de","[","1","]","[","2","]",",","de","[","2","]","[","2","]",")",";","y","=","cross","(","z",",","x",")",";","return","mat4","(","vec4","(","x",",","0.0",")",",","vec4","(","y",",","0.0",")",",","vec4","(","z",",","0.0",")",",","vec4","(","rv",",","1.0",")",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rz","(","vec3","rx",",","vec3","rv",")","{","vec3","ry","=","rx","-","rv",";","ry",".","y","=","0.0",";","ry","=","normalize","(","ry",")",";","vec3","x","=","normalize","(","cross","(","ru",",","ry",")",")",";","vec3","y","=","normalize","(","cross","(","ry",",","x",")",")",";","return","mat4","(","vec4","(","x",",","0.0",")",",","vec4","(","y",",","0.0",")",",","vec4","(","ry",",","0.0",")",",","vec4","(","rv",",","1.0",")",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rI","(","in","vec3","rA",",","float","rB",",","float","rC",",","float","rD",",","vec3","rE",")","{","float","rF","=","fract","(","length","(","rE",")","/","0.17",")",";","float","rG","=","rD","+","rF","/","10.0",";","float","rH","=","rF",";","if","(","rD","!=","0.0",")","rH","/=","rD",";","rA","*=","1.0","+","0.5","*","sin","(","rB",")",";","float","O","=","length","(","rA",")","*","rC","*","sin","(","2.0","*","3.14","*","rB","*","rG","+","rH",")",";","return","R","(","O",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["mat4","rQ","(","in","vec3","rx",",","in","vec3","rJ",",","in","mat4","de",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_SPHERICAL","BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rK","=","rw","(","rJ",",","de",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BILLBOARD_RANDOM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","rF","=","fract","(","(","rJ",".","x","*","1.43","+","rJ",".","y","*","0.123","+","rJ",".","z","*","6.1",")",")",";","float","rL","=","2.0","*","M_PI","*","rF",";","vec3","rM","=","normalize","(","vec3","(","de","[","0","]","[","2","]",",","0.0",",","de","[","2","]","[","2","]",")",")",";","float","rN","=","acos","(","rM","[","2","]",")",";","if","(","rM","[","0","]","<","0.0",")","rN","=","2.0","*","M_PI","-","rN",";","float","rO","=","rN","-","rL",";","if","(","rO","<","0.0",")","rO","=","2.0","*","M_PI","+","rO",";","float","rP","=","rL",";","if","(","rO","<=","MAX_BILLBOARD_ANGLE",")","rP","+=","rO",";","else","if","(","rO","<=","M_PI","-","MAX_BILLBOARD_ANGLE",")","rP","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","rO","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")",";","else","if","(","rO","<=","M_PI","+","MAX_BILLBOARD_ANGLE",")","rP","+=","rO","-","M_PI",";","else","if","(","rO","<=","2.0","*","M_PI","-","MAX_BILLBOARD_ANGLE",")","rP","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","rO","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")","+","M_PI",";","else","rP","+=","rO","-","2.0","*","M_PI",";","mat4","rK","=","Q","(","rP",")",";","rK","[","3","]","=","vec4","(","rJ",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rK","=","rz","(","rx",",","rJ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","rK",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rS","(","in","vec3","rx",",","in","vec3","rJ",",","in","mat4","de",",","mat4","rR",")","{","mat4","rK","=","rQ","(","rx",",","rJ",",","de",")",";","rR","[","3","]","=","vec4","(","0.0",",","0.0",",","0.0",",","1.0",")",";","rK","=","rK","*","rR",";","return","rK",";","}"]}]}}]},{TYPE:"txt",TOKENS:["e","rZ","(","in","vec3","rT",",","in","vec3","rU",",","in","vec3","rV",",","in","vec3","rW",",","in","vec3","rX",",","in","vec3","rY",",","in","mat4","rR",")","{","rT","=","(","rR","*","vec4","(","rT",",","1.0",")",")",".","xyz",";","rU","=","(","rR","*","vec4","(","rU",",","1.0",")",")",".","xyz",";","rV","=","(","rR","*","vec4","(","rV",",","0.0",")",")",".","xyz",";","rW","=","(","rR","*","vec4","(","rW",",","0.0",")",")",".","xyz",";","rX","=","(","rR","*","vec4","(","rX",",","0.0",")",")",".","xyz",";","rY","=","(","rR","*","vec4","(","rY",",","0.0",")",")",".","xyz",";","return","S","(","e","(","rT",",","rU",",","rV",",","rW",",","rX",",","rY",",","vec3","(","0.0",")",")",")",";","}"]}]},exports["include/scale_texcoord.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","sa","(","vec2","bv",",","vec3","r_",")","{","return","(","bv","+","0.5",")","*","r_",".","xy","-","0.5",";","}"]}]},exports["include/skin.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SKIN_SLERP",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","si","(","in","vec4","v",",","in","vec4","sb",",","in","float","sc",")","{","float","sd","=","v","[","0","]","*","sb","[","0","]","+","v","[","1","]","*","sb","[","1","]","+","v","[","2","]","*","sb","[","2","]","+","v","[","3","]","*","sb","[","3","]",";","if","(","sd","<","0.0",")","{","sb","*=","-","1.0",";","sd","=","-","sd",";","}","if","(","abs","(","sd",")",">=","1.0",")","return","v",";","float","se","=","acos","(","sd",")",";","float","sf","=","sqrt","(","1.0","-","sd","*","sd",")",";","if","(","abs","(","sf",")","<","0.001",")","return","vec4","(","v","*","0.5","+","sb","*","0.5",")",";","float","sg","=","sin","(","(","1.0","-","sc",")","*","se",")","/","sf",";","float","sh","=","sin","(","sc","*","se",")","/","sf",";","return","v","*","sg","+","sb","*","sh",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","sA","(","in","vec3","f",",","in","vec4","sj",",","in","vec4","sk",",","in","vec4","sl",",","in","vec4","sm",",","in","float","sn",")","{","vec3","so","=","E","(","u_arm_rel_trans",",","u_arm_rel_quat",",","f",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","v","=","si","(","sj",",","sk",",","sn",")",";","vec4","sr","=","mix","(","sl",",","sm",",","sn",")",";","vec3","su","=","u","(","v",",","so",")",";","vec3","sv","=","su","*","sr",".","w","+","sr",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","sw","=","u","(","sj",",","so",")",";","vec3","sx","=","u","(","sk",",","so",")",";","vec3","sy","=","sw","*","sl",".","w","+","sl",".","xyz",";","vec3","sz","=","sx","*","sm",".","w","+","sm",".","xyz",";","vec3","sv","=","mix","(","sy",",","sz",",","sn",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","L","(","u_arm_rel_trans",",","u_arm_rel_quat",",","sv",")",";","}","vec3","sG","(","in","vec3","sB",",","in","vec4","sj",",","in","vec4","sk",",","in","float","sn",")","{","vec3","sC","=","I","(","u_arm_rel_trans",",","u_arm_rel_quat",",","sB",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","v","=","si","(","sj",",","sk",",","sn",")",";","vec3","sD","=","u","(","v",",","sC",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","sE","=","u","(","sj",",","sC",")",";","vec3","sF","=","u","(","sk",",","sC",")",";","vec3","sD","=","mix","(","sE",",","sF",",","sn",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","M","(","u_arm_rel_trans",",","u_arm_rel_quat",",","sD",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","sA","(","in","vec3","f",",","in","vec4","sj",",","in","vec4","sl",")","{","vec3","so","=","E","(","u_arm_rel_trans",",","u_arm_rel_quat",",","f",")",";","vec3","su","=","u","(","sj",",","so",")",";","vec3","sv","=","su","*","sl",".","w","+","sl",".","xyz",";","return","L","(","u_arm_rel_trans",",","u_arm_rel_quat",",","sv",")",";","}","vec3","sG","(","in","vec3","sB",",","in","vec4","sj",")","{","vec3","sC","=","I","(","u_arm_rel_trans",",","u_arm_rel_quat",",","sB",")",";","vec3","sD","=","u","(","sj",",","sC",")",";","return","M","(","u_arm_rel_trans",",","u_arm_rel_quat",",","sD",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","sQ","(","inout","vec3","f",",","inout","vec3","i",",","inout","vec3","k",",","inout","vec3","l",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","sH","=","u_frame_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","a_influence",".","y",">","0.0",")","{","vec3","sI","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","sJ","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","sK","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","sL","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec4","sM","=","a_influence",";","for","(","int","aQ","=","0",";","aQ","<","4",";","aQ","++",")","{","int","sN","=","int","(","sM","[","aQ","]",")",";","float","sO","=","fract","(","sM","[","aQ","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sI","+=","sO","*","sA","(","f",",","u_quatsb","[","sN","]",",","u_quatsa","[","sN","]",",","u_transb","[","sN","]",",","u_transa","[","sN","]",",","sH",")",";","sJ","+=","sO","*","sG","(","i",",","u_quatsb","[","sN","]",",","u_quatsa","[","sN","]",",","sH",")",";","sK","+=","sO","*","sG","(","k",",","u_quatsb","[","sN","]",",","u_quatsa","[","sN","]",",","sH",")",";","sL","+=","sO","*","sG","(","l",",","u_quatsb","[","sN","]",",","u_quatsa","[","sN","]",",","sH",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sI","+=","sO","*","sA","(","f",",","u_quatsb","[","sN","]",",","u_transb","[","sN","]",")",";","sL","+=","sO","*","sG","(","l",",","u_quatsb","[","sN","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sJ","+=","sO","*","sG","(","i",",","u_quatsb","[","sN","]",")",";","sK","+=","sO","*","sG","(","k",",","u_quatsb","[","sN","]",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}","f","=","sI",";","l","=","sL",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","sJ",";","k","=","sK",";"]}]}}]},{TYPE:"txt",TOKENS:["}","if","(","!","(","a_influence",".","y",">","0.0",")",")","{","int","sP","=","int","(","a_influence","[","0","]","-","1.0",")",";","if","(","sP",">","-","1",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f","=","sA","(","f",",","u_quatsb","[","sP","]",",","u_quatsa","[","sP","]",",","u_transb","[","sP","]",",","u_transa","[","sP","]",",","sH",")",";","i","=","sG","(","i",",","u_quatsb","[","sP","]",",","u_quatsa","[","sP","]",",","sH",")",";","k","=","sG","(","k",",","u_quatsb","[","sP","]",",","u_quatsa","[","sP","]",",","sH",")",";","l","=","sG","(","l",",","u_quatsb","[","sP","]",",","u_quatsa","[","sP","]",",","sH",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f","=","sA","(","f",",","u_quatsb","[","sP","]",",","u_transb","[","sP","]",")",";","l","=","sG","(","l",",","u_quatsb","[","sP","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","sG","(","i",",","u_quatsb","[","sP","]",")",";","k","=","sG","(","k",",","u_quatsb","[","sP","]",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}","}","}"]}]}}]}]},exports["include/wind_bending.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","tb","(","inout","vec3","bs",",","in","vec3","sR",",","in","float","sS",",","in","float","sT",",","in","float","bm",",","in","vec3","rA",",","in","float","sU",")","{","float","sV","=","length","(","sR",")",";","float","sW","=","sT","*","(","1.0","+","0.1","*","fract","(","sV",")",")",";","float","sX","=","sS","*","sU","*","(","1.0","+","sin","(","2.0","*","3.14","*","bm","*","sW","+","sV",")",")",";","float","sY","=","(","bs",".","y","-","sR",".","y",")","*","abs","(","sX",")",";","sY","+=","1.0",";","sY","*=","sY",";","sY","=","sY","*","sY","-","sY",";","vec3","sZ","=","bs",";","sZ",".","xz","+=","rA",".","xz","*","sY","*","sign","(","sX",")",";","vec3","s_","=","sZ","-","sR",";","if","(","all","(","equal","(","s_",",","vec3","(","0.0",")",")",")",")","bs","=","sR",";","else","{","float","ta","=","length","(","bs","-","sR",")",";","bs","=","sR","+","normalize","(","s_",")","*","ta",";","}","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","tc","(","vec4","x",")","{","return","x","*","x","*","(","3.0","-","2.0","*","x",")",";","}","vec4","td","(","vec4","x",")","{","return","abs","(","fract","(","x","+","0.5",")","*","2.0","-","1.0",")",";","}","vec4","te","(","vec4","x",")","{","return","tc","(","td","(","x",")",")",";","}","void","tu","(","inout","vec3","bs",",","in","float","bm",",","in","vec3","l",",","in","vec3","rA",",","in","vec3","sR",",","in","float","tf",",","in","float","tg",",","in","float","th",",","in","vec3","ti",")","{","float","tj",";","float","tk",";","float","tl",";","vec2","tm",";","vec4","tn",";","vec2","to",";","vec3","tr",";","tj","=","dot","(","sR",",","vec3","(","1.0",")",")",";","tk","=","tj","+","ti",".","g",";","tl","=","dot","(","bs",",","vec3","(","ti",".","g",")",")",";","tm","=","(","bm","+","vec2","(","tl",",","tk",")",")",";","tn","=","(","(","fract","(","(","tm",".","xxyy","*","vec4","(","1.975",",","0.793",",","0.375",",","0.193",")",")",")","*","2.0",")","-","1.0",")","*","length","(","rA",")","*","tf",";","tn","=","te","(","tn",")",";","to","=","tn",".","xz","+","tn",".","yw",";","to",".","y","=","0.5","-","to",".","y",";","tr","=","to",".","xyx","*","ti",".","rbr","*","vec3","(","tg","*","l",".","x",",","th",",","tg","*","l",".","z",")",";","bs","+=","tr",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","ty","(","inout","vec3","f",",","inout","vec3","h",",","in","vec3","l",")","{","vec3","tv","=","u_wind","*","1.0","+","0.7","*","sin","(","u_time",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tw","=","h",";","vec3","tx","=","a_emitter_center",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","tw","=","f",";","vec3","tx","=","h",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["tu","(","tw",",","u_time",",","l",",","tv",",","tx",",","au_detail_bending_freq",",","au_detail_bending_amp",",","au_branch_bending_amp",",","a_bending_col_detail",")",";"]}]}}]},{TYPE:"txt",TOKENS:["tb","(","tw",",","tx",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","tv",",","a_bending_col_main",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["tb","(","tw",",","tx",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","tv",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f","+=","tw","-","h",";","h","=","tw",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f","=","tw",";","h","=","tx",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/nodes.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2},"PARTICLE_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_orco_tex_coord",";","GLSL_OUT","vec3","dy",";"]}]}}]},{TYPE:"node",NAME:"TEX_COORD_UV",DECLARATIONS:[{TYPE:"node_param",NAME:"node_TEX_COORD_UV_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dS",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["dS","=","node_TEX_COORD_UV_var_a_uv",";"]}]},{TYPE:"node",NAME:"UV_MERGED",DECLARATIONS:[{TYPE:"node_param",NAME:"node_UV_MERGED_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dR",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["dR","=","node_UV_MERGED_var_a_uv",";"]}]},{TYPE:"node",NAME:"UVMAP",DECLARATIONS:[{TYPE:"node_param",NAME:"node_UVMAP_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dT",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["dT","=","node_UVMAP_var_a_uv",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_UV_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dL",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["dL","=","node_GEOMETRY_UV_var_a_uv",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"tz",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tz","=","node_GEOMETRY_VC_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC1_var_a_vertex_color",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"tA",QUALIFIER:["GLSL_OUT","float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tA","=","node_GEOMETRY_VC1_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC2_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"tB",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tB","=","node_GEOMETRY_VC2_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC3_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"tC",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tC","=","node_GEOMETRY_VC3_var_a_vertex_color",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","rs","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dy","=","a_orco_tex_coord",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]},exports["include/dynamic_grass.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ud","(","vec3","f",",","float","ua",",","vec2","ub",")","{","vec2","uc","=","vec2","(","(","f",".","x","-","ub",".","x",")","/","ua",",","-","(","f",".","z","-","ub",".","y",")","/","ua",")",";","return","fract","(","uc",")",";","}","vec2","ue","(","vec2","dI",",","float","ua",",","vec2","ub",")","{","return","vec2","(","dI",".","x","*","ua",",","-","dI",".","y","*","ua",")","+","ub",";","}","e","uf","(",")","{","return","e","(","vec3","(","-","10000.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",")",";","}","e","uy","(","vec3","f",",","vec3","i",",","vec3","ug",",","vec3","k",",","vec3","l",",","vec3","h",",","PRECISION","sampler2D","uh",",","sampler2D","ui",",","vec3","uj",",","float","uk",",","vec3","rx",",","vec4","ul",",","mat4","de",")","{","vec3","rM","=","u","(","ul",",","vec3","(","0.0",",","-","1.0",",","0.0",")",")",";","float","um","=","-","rM",".","x",";","float","un","=","-","rM",".","z",";","vec2","ub","=","vec2","(","rx",".","x","+","uk","*","(","-","1.0","-","um",")","/","2.0",",","rx",".","z","+","uk","*","(","1.0","-","un",")","/","2.0",")",";","vec2","uo","=","ud","(","h",",","uk",",","ub",")",";","float","up","=","uk","/","2.0",";","vec2","uq","=","abs","(","ue","(","uo","-","vec2","(","0.5",")",",","uk",",","vec2","(","0.0",")",")",")",";","float","ur","=","up","*","(","1.0","+","sqrt","(","2.0",")",")","/","2.0",";","if","(","length","(","uq",")",">","ur",")","return","uf","(",")",";","float","us","=","uk","/","uj",".","z",";","vec2","ut","=","(","uo","-","vec2","(","0.5",")",")","*","us","+","vec2","(","0.5",")",";","vec3","uu","=","rM","*","(","uk","/","uj",".","z","-","1.0",")","/","2.0",";","ut",".","x","+=","uu",".","x",";","ut",".","y","-=","uu",".","z",";","vec4","uv","=","GLSL_TEXTURE","(","ui",",","ut",")",";","float","bA","=","uv",".","r",";","if","(","bA","<","u_scale_threshold",")","return","uf","(",")",";","float","uw","=","uj",".","y","-","uj",".","x",";","float","qN","=","uj",".","y","-","GLSL_TEXTURE","(","uh",",","ut",")",".","r","*","uw",";","vec2","ux","=","f",".","xz","-","h",".","xz",";","h",".","xz","=","ue","(","uo",",","uk",",","ub",")",";","h",".","y","=","qN",";","f",".","xz","=","h",".","xz","+","ux",";","f",".","y","*=","bA",";","f",".","y","+=","qN",";","vec3","m","=","uv",".","gba",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f","-=","h",";","mat4","rK","=","rQ","(","rx",",","h",",","de",")",";","e","tJ","=","rZ","(","f",",","h",",","i",",","ug",",","k",",","l",",","rK",")",";","tJ",".","h","=","h",";","tJ",".","m","=","m",";","return","S","(","tJ",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","S","(","e","(","f",",","h",",","i",",","ug",",","k",",","l",",","m",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/halo_color.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS","NUM_LINES",{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","int","uD","=","NUM_RINGS",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","int","uD","=","NUM_LINES",";"]}]}}]},{TYPE:"txt",TOKENS:["float","uE","(","float","x",")","{","return","x","-","floor","(","x","*","(","1.0","/","0.01",")",")","*","0.01",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","uM","(","inout","float","uF",",","in","float","uG","[","uD","]",",","in","float","uH",")","{","for","(","int","a","=","0",";","a","<","NUM_RINGS",";","a","++",")","{","float","uI","=","40.0","*","uG","[","a","]",";","float","uJ","=","300.0","*","(","uE","(","uI",")","-","0.005",")",";","float","uK","=","uI",";","float","uL","=","abs","(","uK","*","(","u_halo_size","*","uJ","-","uH",")",")",";","uF","+=","1.0","-","min","(","uL",",","1.0",")",";","}","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","uR","(","inout","float","uN",",","in","float","uG","[","uD","]",",","in","float","m_",")","{","for","(","int","a","=","0",";","a","<","NUM_LINES",";","a","++",")","{","float","uO","=","uG","[","a","]",";","float","uP","=","uO",";","float","uQ","=","1000.0","*","(","uE","(","uO",")","-","0.005",")",";","float","uL","=","20.0","*","abs","(","uP","*","bQ",".","x","+","uQ","*","bQ",".","y",")",";","uN","+=","1.0","-","min","(","uL",",","1.0",")",";","}","uN","*=","m_",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","uV","(","inout","float","m_",",","in","vec2","bv",")","{","float","uS",",","O",";","O","=","atan","(","bv",".","y",",","bv",".","x",")",";","O","*=","(","1.0","+","0.25","*","float","(","NUM_STARS",")",")",";","float","uT","=","cos","(","O",")",";","float","uU","=","sin","(","O",")",";","O","=","(","uT","*","bv",".","x","+","uU","*","bv",".","y",")","*","(","uT","*","bv",".","y","-","uU","*","bv",".","x",")",";","uS","=","abs","(","O",")",";","if","(","uS","<","1.0",")","{","uS","=","(","0.01","*","u_halo_size",")","/","(","uS",")",";","m_","*=","sqrt","(","min","(","uS",",","1.0",")",")",";","}","}","vec4","uX","(",")","{","float","m_","=","(","bQ",".","x","*","bQ",".","x","+","bQ",".","y","*","bQ",".","y",")",";","float","uH","=","sqrt","(","m_",")",";","m_","=","max","(","1.0","-","m_",",","0.0",")",";","m_","=","pow","(","m_",",","u_halo_hardness",")",";","float","bf","=","u_diffuse_color",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS","NUM_LINES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","uG","[","uD","]",";","for","(","int","aQ","=","0",";","aQ","<","uD",";","aQ","++",")","{","uG","[","aQ","]","=","fract","(","uC","/","float","(","aQ","+","1",")",")","-","1.0",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","uF","=","0.0",";","uM","(","uF",",","uG",",","uH",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","uN","=","0.0",";","uR","(","uN",",","uG",",","m_",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uV","(","m_",",","bQ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["m_","*=","bf",";","vec3","m","=","u_diffuse_color",".","rgb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uF","*=","m_",";","m","+=","u_halo_rings_color","*","uF",";","m_","+=","uF",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uN","*=","bf",";","m","+=","u_halo_lines_color","*","uN",";","m_","+=","uN",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m_","*=","max","(","1.0","-","2.0","*","u_sun_intensity",".","x",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bC","=","u_halo_stars_blend","*","(","uB",".","y","-","u_halo_stars_height",")",";","m_","*=","clamp","(","bC",",","0.0",",","1.0",")",";","m_","*=","min","(","u_cam_water_depth","+","2.0","*","WAVES_HEIGHT",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","uW","=","vec4","(","m",",","m_",")",";","return","uW",";","}"]}]},exports["include/fog.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","vi","(","inout","vec3","m",",","in","float","vf",",","in","float","qN",",","in","vec4","vg",")","{","float","uL","=","clamp","(","(","vf","-","u_fog_params",".","z",")","/","u_fog_params",".","y",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOG_TYPE","QUADRATIC",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uL","*=","uL",";"]}]}},{TYPE:"elif",EXPRESSION:["FOG_TYPE","LINEAR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"elif",EXPRESSION:["FOG_TYPE","INVERSE_QUADRATIC",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uL","=","sqrt","(","uL",")",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","u_fog_params",".","w",">","0.0",")","{","if","(","qN",">","u_fog_params",".","w",")","uL","=","0.0",";","else","{","float","vh","=","(","u_fog_params",".","w","-","max","(","qN",",","0.0",")",")","/","u_fog_params",".","w",";","uL","*=","vh","*","vh",";","}","}","vg",".","a","=","1.0","-","(","1.0","-","uL",")","*","(","1.0","-","u_fog_params",".","x",")",";","m","=","mix","(","m",",","vg",".","rgb",",","vg",".","a",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","vn","(","in","mat4","vj",",","in","vec3","cW",")","{","vec3","vk","=","mix","(","vj","[","0","]",".","rgb",",","vj","[","1","]",".","rgb",",","max","(","sign","(","cW",".","x",")",",","0.0",")",")",";","vec3","vl","=","mix","(","vj","[","2","]",".","rgb",",","vj","[","3","]",".","rgb",",","max","(","sign","(","cW",".","z",")",",","0.0",")",")",";","vec3","vm","=","vec3","(","vj","[","0","]",".","a",",","vj","[","1","]",".","a",",","vj","[","2","]",".","a",")",";","vec3","m","=","mix","(","vk",",","vl",",","abs","(","cW",".","z",")",")",";","m","=","mix","(","m",",","vm",",","abs","(","cW",".","y",")",")",";","bd","(","m",")",";","return","m",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","vo","(","inout","float","ow",")","{","ow","-=","0.5",";","ow","=","4.0","*","(","ow","*","ow","*","ow",")","+","0.5",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","vy","(","inout","vec3","m",",","in","float","vf",",","in","vec3","cW",",","in","float","vp",",","in","vec4","vq",",","in","float","vr",")","{","float","vs","=","max","(","cW",".","y",",","0.0",")",";","float","vt","=","max","(","vf","-","max","(","vp","/","vs",",","0.0",")",",","0.0",")",";","float","vu","=","vq",".","w","*","vt",";","vec3","vv","=","vec3","(","0.0",",","0.02",",","0.05",")",";","vec3","vw","=","vq",".","rgb",";","vu","=","min","(","vu",",","1.0",")",";","vo","(","vu",")",";","vu","*=","clamp","(","2.0","-","vr",",","0.0",",","1.0",")",";","vec3","vx","=","mix","(","vw",",","vv",",","min","(","vs",",","1.0",")",")",";","vp","=","clamp","(","-","vp","*","0.03",",","0.0",",","0.8",")",";","vx","*=","1.0","-","vp",";","m","=","mix","(","m",",","vx",",","vu",")",";","}"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["void","vA","(","inout","vec3","m",",","float","vf",",","vec3","cW",",","float","vz",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","vj","=","vn","(","u_cube_fog",",","cW",")",";","vec4","vx","=","vec4","(","vj",",","u_fog_color_density",".","a",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","vx","=","u_fog_color_density",";"]}]}}]},{TYPE:"txt",TOKENS:["vi","(","m",",","vf",",","bG",".","y",",","vx",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vy","(","m",",","vf",",","cW",",","u_cam_water_depth",",","u_underwater_fog_color_density",",","vz",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["include/shadow.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","vJ","(","mat4","vE",",","vec4","vF",",","mat4","vG",")","{","vec2","vH","=","(","vE","*","vG","[","3","]",")",".","xy",";","float","vI","=","SHADOW_TEX_RES","/","2.0",";","vH","=","floor","(","vH","*","vI","+","0.5",")","/","vI","-","vH",";","vec4","cj","=","vE","*","vF",";","cj",".","xy","+=","vH",";","cj",".","xyz","=","0.5","*","(","cj",".","xyz","+","cj",".","w",")",";","return","cj",";","}","void","vM","(","vec3","rT",",","vec3","vK",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","vG","=","_","(","u_v_light_tsr","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","vG","=","_","(","mat3","(","u_v_light_ts","[","0","]",",","u_v_light_r","[","0","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","vL","=","vG","*","vec4","(","rT","+","u_normal_offset","*","vK",",","1.0",")",";","bM","=","vJ","(","u_p_light_matrix0",",","vL",",","vG",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vG","=","_","(","u_v_light_tsr","[","1","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vG","=","_","(","mat3","(","u_v_light_ts","[","1","]",",","u_v_light_r","[","1","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vL","=","vG","*","vec4","(","rT","+","u_normal_offset","*","vK",",","1.0",")",";","bN","=","vJ","(","u_p_light_matrix1",",","vL",",","vG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vG","=","_","(","u_v_light_tsr","[","2","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vG","=","_","(","mat3","(","u_v_light_ts","[","2","]",",","u_v_light_r","[","2","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vL","=","vG","*","vec4","(","rT","+","u_normal_offset","*","vK",",","1.0",")",";","bO","=","vJ","(","u_p_light_matrix2",",","vL",",","vG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vG","=","_","(","u_v_light_tsr","[","3","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vG","=","_","(","mat3","(","u_v_light_ts","[","3","]",",","u_v_light_r","[","3","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vL","=","vG","*","vec4","(","rT","+","u_normal_offset","*","vK",",","1.0",")",";","bP","=","vJ","(","u_p_light_matrix3",",","vL",",","vG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bN","=","vJ","(","u_p_light_matrix1",",","vL",",","vG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bO","=","vJ","(","u_p_light_matrix2",",","vL",",","vG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bP","=","vJ","(","u_p_light_matrix3",",","vL",",","vG",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/lighting_nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"txt",TOKENS:["float","ZERO_VALUE_NODES","=","0.0",";","float","UNITY_VALUE_NODES","=","1.0",";","float","dz","=","0.5",";"]},{TYPE:"node",NAME:"LIGHTING_BEGIN",DECLARATIONS:[{TYPE:"node_out",NAME:"wa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wd",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"we",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"wf",QUALIFIER:["vec2"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"wg",QUALIFIER:["vec2"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"wh",QUALIFIER:["vec4"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"wi",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"wj",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["wa","=","vR",";","wb","=","vS",";","wc","=","vT",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_wd"],STATEMENTS:[{TYPE:"txt",TOKENS:["wd","=","vU",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_we"],STATEMENTS:[{TYPE:"txt",TOKENS:["we","=","ej",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_wg"],STATEMENTS:[{TYPE:"txt",TOKENS:["wg","=","vV",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_wf"],STATEMENTS:[{TYPE:"txt",TOKENS:["wf","=","vW",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_wh"],STATEMENTS:[{TYPE:"txt",TOKENS:["wh","=","vX",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_wi"],STATEMENTS:[{TYPE:"txt",TOKENS:["wi","=","vY",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_wj"],STATEMENTS:[{TYPE:"txt",TOKENS:["wj","=","vZ",";"]}]}]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",DECLARATIONS:[{TYPE:"node_in",NAME:"mP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mS",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["mS","=","vec4","(","mP","+","mR","*","mQ",",","ZERO_VALUE_NODES",")",";","mT","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",DECLARATIONS:[{TYPE:"node_in",NAME:"mU",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mW",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["mW","=","u_light_factors","[","LAMP_LIGHT_FACT_IND","]",".","LAMP_FAC_CHANNELS",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["mY","=","dz",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mY","=","ZERO_VALUE_NODES",";"]}]}]},{TYPE:"txt",TOKENS:["mX","=","u_light_color_intensities","[","LAMP_IND","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["mX","*=","mU","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","mZ","=","u_light_positions","[","LAMP_IND","]",";","mV","=","mZ","-","en",";"]},{TYPE:"txt",TOKENS:["float","m_","=","length","(","mV",")",";","mX","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","m_","*","m_",")",";","mV","=","normalize","(","mV",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","na","=","u_light_directions","[","LAMP_IND","]",";","float","fs","=","dot","(","mV",",","na",")",";","fs","*=","smoothstep","(","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",",","(","fs","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","mX","*=","fs",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mV","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",DECLARATIONS:[{TYPE:"node_in",NAME:"nb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nc",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ne",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nf",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ng",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nb",",","bR",".","xyz",")",";","nd","=","cross","(","ni",",","bR",".","xyz",")",";","nd","=","-","normalize","(","nd",")",";"]}]}]},{TYPE:"txt",TOKENS:["ng","=","ZERO_VALUE_NODES",";","if","(","nc",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","ne",")","*","dot","(","nd",",","nb",")","+","ne",";","if","(","nf","[","0","]","==","ZERO_VALUE_NODES",")","{","ng","=","UNITY_VALUE_NODES",";","}","else","{","float","t","=","UNITY_VALUE_NODES","+","abs","(","nj",")",";","t","=","nf","[","1","]","+","(","UNITY_VALUE_NODES","-","nf","[","1","]",")","*","pow","(","t",",","nf","[","0","]",")",";","ng","=","clamp","(","t",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","}","ng","=","max","(","ng",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",DECLARATIONS:[{TYPE:"node_in",NAME:"nk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"no",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nk",",","bR",".","xyz",")",";","nm","=","cross","(","ni",",","bR",".","xyz",")",";","nm","=","-","normalize","(","nm",")",";"]}]}]},{TYPE:"txt",TOKENS:["no","=","ZERO_VALUE_NODES",";","if","(","nl",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","nn",")","*","dot","(","nm",",","nk",")","+","nn",";","no","=","max","(","nj",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",DECLARATIONS:[{TYPE:"node_in",NAME:"np",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ns",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nt",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","np",",","bR",".","xyz",")",";","nr","=","cross","(","ni",",","bR",".","xyz",")",";","nr","=","-","normalize","(","nr",")",";"]}]}]},{TYPE:"txt",TOKENS:["nu","=","ZERO_VALUE_NODES",";","if","(","nq",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","ns",")","*","dot","(","nr",",","np",")","+","ns",";","if","(","nt","[","0","]",">","ZERO_VALUE_NODES",")","{","float","nv","=","max","(","dot","(","nr",",","dY",")",",","ZERO_VALUE_NODES",")",";","float","nw","=","nt","[","0","]","*","nt","[","0","]",";","float","nx","=","UNITY_VALUE_NODES","-","dz","*","(","nw","/","(","nw","+","0.33",")",")",";","vec3","ny","=","np","-","nj","*","nr",";","vec3","nz","=","dY","-","nv","*","nr",";"]},{TYPE:"txt",TOKENS:["if","(","length","(","ny",")","==","ZERO_VALUE_NODES","||","length","(","nz",")","==","ZERO_VALUE_NODES","||","abs","(","nj",")",">","UNITY_VALUE_NODES","||","abs","(","nv",")",">","UNITY_VALUE_NODES",")"]},{TYPE:"txt",TOKENS:["nu","=","nj","*","nx",";","else","{","float","nA","=","acos","(","nj",")",";","float","nB","=","acos","(","nv",")",";","vec3","nC","=","normalize","(","ny",")",";","vec3","nD","=","normalize","(","nz",")",";","float","a",",","b",";","a","=","max","(","nA",",","nB",")",";","b","=","min","(","nA",",","nB",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","nC",",","nD",")",",","ZERO_VALUE_NODES",")",";","float","nE","=","0.45","*","(","nw","/","(","nw","+","0.09",")",")",";","nu","=","nj","*","(","nx","+","(","nE","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","nu","=","nj",";","nu","=","max","(","nu",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",DECLARATIONS:[{TYPE:"node_in",NAME:"nF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nG",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nJ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nF",",","bR",".","xyz",")",";","nH","=","cross","(","ni",",","bR",".","xyz",")",";","nH","=","-","normalize","(","nH",")",";"]}]}]},{TYPE:"txt",TOKENS:["nK","=","ZERO_VALUE_NODES",";","if","(","nG",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","nI",")","*","dot","(","nH",",","nF",")","+","nI",";","float","nv","=","max","(","dot","(","nH",",","dY",")",",","ZERO_VALUE_NODES",")",";","if","(","nJ","[","0","]","<=","UNITY_VALUE_NODES",")","nK","=","nj","*","pow","(","max","(","nv","*","nj",",","0.1",")",",","nJ","[","0","]","-","UNITY_VALUE_NODES",")",";","else","nK","=","nj","*","pow","(","1.0001","-","nv",",","nJ","[","0","]","-","UNITY_VALUE_NODES",")",";","nK","=","max","(","nK",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",DECLARATIONS:[{TYPE:"node_in",NAME:"nL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nM",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nP",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nL",",","bR",".","xyz",")",";","nN","=","cross","(","ni",",","bR",".","xyz",")",";","nN","=","-","normalize","(","nN",")",";"]}]}]},{TYPE:"txt",TOKENS:["nQ","=","ZERO_VALUE_NODES",";","if","(","nM",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","nO",")","*","dot","(","nN",",","nL",")","+","nO",";","float","nR","=","acos","(","nj",")",";","if","(","nR","<","nP","[","0","]",")","nQ","=","UNITY_VALUE_NODES",";","else","if","(","nR",">","(","nP","[","0","]","+","nP","[","1","]",")","||","nP","[","1","]","==","ZERO_VALUE_NODES",")","nQ","=","ZERO_VALUE_NODES",";","else","nQ","=","UNITY_VALUE_NODES","-","(","(","nR","-","nP","[","0","]",")","/","nP","[","1","]",")",";","nQ","=","max","(","nQ",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",DECLARATIONS:[{TYPE:"node_in",NAME:"nS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nT",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nW",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nX","=","ZERO_VALUE_NODES",";","if","(","nT",".","g","!=","ZERO_VALUE_NODES",")","{","vec3","nY","=","normalize","(","nS","+","dY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","nV","==","ZERO_VALUE_NODES",")","{","nX","=","dot","(","bR",".","xyz",",","nY",")",";","nX","=","sqrt","(","UNITY_VALUE_NODES","-","nX","*","nX",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nX","=","(","UNITY_VALUE_NODES","-","nV",")","*","max","(","dot","(","nU",",","nY",")",",","ZERO_VALUE_NODES",")","+","nV",";"]}]}]},{TYPE:"txt",TOKENS:["nX","=","pow","(","nX",",","nW","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",DECLARATIONS:[{TYPE:"node_in",NAME:"nZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"n_",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ob",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oc",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"od",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["od","=","ZERO_VALUE_NODES",";","if","(","n_",".","g","!=","ZERO_VALUE_NODES",")","{","vec3","nY","=","normalize","(","nZ","+","dY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","ZERO_VALUE_NODES",";","float","nv","=","ZERO_VALUE_NODES",";","float","of","=","ZERO_VALUE_NODES",";","if","(","ob","==","ZERO_VALUE_NODES",")","{","oe","=","dot","(","bR",".","xyz",",","nY",")",";","nv","=","dot","(","bR",".","xyz",",","dY",")",";","of","=","dot","(","bR",".","xyz",",","nZ",")",";","oe","=","sqrt","(","UNITY_VALUE_NODES","-","oe","*","oe",")",";","nv","=","sqrt","(","UNITY_VALUE_NODES","-","nv","*","nv",")",";","of","=","sqrt","(","UNITY_VALUE_NODES","-","of","*","of",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","max","(","dot","(","oa",",","nY",")",",","0.001",")",";"]},{TYPE:"txt",TOKENS:["float","nv","=","max","(","dot","(","oa",",","dY",")",",","0.01",")",";","float","of","=","max","(","dot","(","oa",",","nZ",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","O","=","tan","(","acos","(","oe",")",")",";","float","bf","=","max","(","oc","[","0","]",",","0.001",")",";","od","=","of","*","(","UNITY_VALUE_NODES","/","(","4.0","*","M_PI","*","bf","*","bf",")",")","*","(","exp","(","-","(","O","*","O",")","/","(","bf","*","bf",")",")","/","(","sqrt","(","nv","*","of",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",DECLARATIONS:[{TYPE:"node_in",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oh",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ok",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ol",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ol","=","ZERO_VALUE_NODES",";","if","(","oh",".","g","!=","ZERO_VALUE_NODES",")","{","vec3","aV","=","normalize","(","og","+","dY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","om","=","dot","(","aV",",","bR",".","xyz",")",";","float","O","=","ok","[","0","]","+","ok","[","1","]",";","if","(","oj","==","ZERO_VALUE_NODES",")","O","=","acos","(","sqrt","(","UNITY_VALUE_NODES","-","om","*","om",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","O","=","acos","(","dot","(","aV",",","oi",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","O","<","ok","[","0","]",")","ol","=","UNITY_VALUE_NODES",";","else","if","(","O",">=","ok","[","0","]","+","ok","[","1","]","||","ok","[","1","]","==","ZERO_VALUE_NODES",")","ol","=","ZERO_VALUE_NODES",";","else","ol","=","UNITY_VALUE_NODES","-","(","O","-","ok","[","0","]",")","/","ok","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",DECLARATIONS:[{TYPE:"node_in",NAME:"on",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"or",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"os",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["os","=","ZERO_VALUE_NODES",";","if","(","oo",".","g","!=","ZERO_VALUE_NODES",")","{","if","(","or","[","0","]","<","1.0","||","or","[","1","]","==","ZERO_VALUE_NODES",")","os","=","ZERO_VALUE_NODES",";","else","{","if","(","or","[","1","]","<","100.0",")","or","[","1","]","=","sqrt","(","1.0","/","or","[","1","]",")",";","else","or","[","1","]","=","10.0","/","or","[","1","]",";","vec3","nY","=","normalize","(","dY","+","on",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","0.0",";","if","(","oq","==","ZERO_VALUE_NODES",")","{","float","ot","=","dot","(","bR",".","xyz",",","nY",")",";","oe","=","sqrt","(","UNITY_VALUE_NODES","-","ot","*","ot",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","(","UNITY_VALUE_NODES","-","oq",")","*","max","(","dot","(","op",",","nY",")",",","ZERO_VALUE_NODES",")","+","oq",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","oe","<","ZERO_VALUE_NODES",")","os","=","ZERO_VALUE_NODES",";","else","{","float","nv","=","max","(","dot","(","op",",","dY",")",",","0.01",")",";","float","of","=","dot","(","op",",","on",")",";","if","(","of","<=","0.01",")","os","=","ZERO_VALUE_NODES",";","else","{","float","ou","=","max","(","dot","(","dY",",","nY",")",",","0.01",")",";","float","a","=","UNITY_VALUE_NODES",";","float","b","=","(","2.0","*","oe","*","nv",")","/","ou",";","float","ov","=","(","2.0","*","oe","*","of",")","/","ou",";","float","g","=","min","(","min","(","a",",","b",")",",","ov",")",";","float","p","=","sqrt","(","pow","(","or","[","0","]",",","2.0",")","+","pow","(","ou",",","2.0",")","-","UNITY_VALUE_NODES",")",";","float","ow","=","pow","(","p","-","ou",",","2.0",")","/","pow","(","p","+","ou",",","2.0",")","*","(","UNITY_VALUE_NODES","+","pow","(","ou","*","(","p","+","ou",")","-","UNITY_VALUE_NODES",",","2.0",")","/","pow","(","ou","*","(","p","-","ou",")","+","UNITY_VALUE_NODES",",","2.0",")",")",";","float","nR","=","acos","(","oe",")",";","os","=","max","(","ow","*","g","*","exp","(","-","pow","(","nR",",","2.0",")","/","(","2.0","*","pow","(","or","[","1","]",",","2.0",")",")",")",",","ZERO_VALUE_NODES",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",DECLARATIONS:[{TYPE:"node_in",NAME:"ox",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oD",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oI",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oJ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oJ","=","oy","+","oG","*","oF","*","oA",";","oI","=","ox","+","vec4","(","oG","*","oE","*","oz",",","oA",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_END",DECLARATIONS:[{TYPE:"node_in",NAME:"wk",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ed","=","wk",".","rgb",";","v_","=","wl",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","wm","(","vec3","vR",",","vec3","vS",",","vec3","vT",",","vec3","vU",",","vec3","en",",","vec3","ej",",","vec3","dY",",","vec2","vV",",","vec2","vW",",","vec4","vX",",","float","vY",",","vec4","vZ",",","out","vec3","ed",",","out","vec3","v_",")","{"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]},exports["include/particles_nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"txt",TOKENS:["float","ZERO_VALUE_NODES","=","0.0",";","float","UNITY_VALUE_NODES","=","1.0",";","float","dz","=","0.5",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dF","(","vec3","rgb",")","{","vec4","dD","=","vec4","(","ZERO_VALUE_NODES",",","-","UNITY_VALUE_NODES","/","3.0",",","2.0","/","3.0",",","-","UNITY_VALUE_NODES",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","dD",".","wz",")",",","vec4","(","rgb",".","gb",",","dD",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","aH","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","dE","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","aH","+","dE",")",")",",","aH","/","(","q",".","x","+","dE",")",",","q",".","x",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dH","(","vec3","dG",")","{","vec4","dD","=","vec4","(","UNITY_VALUE_NODES",",","2.0","/","3.0",",","UNITY_VALUE_NODES","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","dG",".","r",",","dG",".","r",",","dG",".","r",")","+","dD",".","xyz",")","*","6.0","-","dD",".","www",")",";","return","dG",".","b","*","mix","(","dD",".","xxx",",","clamp","(","p","-","dD",".","xxx",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",",","dG",".","g",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dJ","(","vec2","dI",")","{","return","vec3","(","dI","*","2.0","-","vec2","(","UNITY_VALUE_NODES",",","UNITY_VALUE_NODES",")",",","ZERO_VALUE_NODES",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dK","(","vec3","C",")","{","return","vec2","(","C",".","xy","*","dz","+","vec2","(","dz",",","dz",")",")",";","}"]}]}}]},{TYPE:"node",NAME:"CAMERA",DECLARATIONS:[{TYPE:"node_out",NAME:"er",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"es",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"et",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_er"],STATEMENTS:[{TYPE:"txt",TOKENS:["er","=","normalize","(","eo",".","xyz",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_es"],STATEMENTS:[{TYPE:"txt",TOKENS:["es","=","abs","(","eo",".","z",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_et"],STATEMENTS:[{TYPE:"txt",TOKENS:["et","=","length","(","eo",".","xyz",")",";"]}]}]}]},{TYPE:"node",NAME:"COMBRGB",DECLARATIONS:[{TYPE:"node_in",NAME:"eu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ev",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ew",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ex",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ex","=","vec3","(","eu",",","ev",",","ew",")",";"]}]},{TYPE:"node",NAME:"COMBHSV",DECLARATIONS:[{TYPE:"node_in",NAME:"ey",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ez",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"eA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eB",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eB","=","dH","(","vec3","(","ey",",","ez",",","eA",")",")",";"]}]},{TYPE:"node",NAME:"EMPTY_UV",DECLARATIONS:[{TYPE:"node_out",NAME:"eC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eC","=","vec3","(","-","UNITY_VALUE_NODES",",","-","UNITY_VALUE_NODES",",","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"EMPTY_VC",DECLARATIONS:[{TYPE:"node_out",NAME:"eD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eD","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",DECLARATIONS:[{TYPE:"node_out",NAME:"eE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eE","=","dJ","(","bQ",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_OR",DECLARATIONS:[{TYPE:"node_out",NAME:"eF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eF","=","2.0","*","vec3","(","bQ",",","ZERO_VALUE_NODES",")","-","vec3","(","UNITY_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",DECLARATIONS:[{TYPE:"node_out",NAME:"eG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eG","=","vec3","(","UNITY_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",DECLARATIONS:[{TYPE:"node_out",NAME:"eH",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eH","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",DECLARATIONS:[{TYPE:"node_out",NAME:"eI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eI","=","UNITY_VALUE_NODES",";","eJ","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",DECLARATIONS:[{TYPE:"node_out",NAME:"eK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eK","=","UNITY_VALUE_NODES",";","eL","=","UNITY_VALUE_NODES",";","eM","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"GEOMETRY_NO",DECLARATIONS:[{TYPE:"node_out",NAME:"eN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eN","=","ek",".","xzy",";","eN",".","y","*=","-","1.0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_FB",DECLARATIONS:[{TYPE:"node_out",NAME:"eO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["INVERT_FRONTFACING"],STATEMENTS:[{TYPE:"txt",TOKENS:["eO","=","(","gl_FrontFacing",")","?","ZERO_VALUE_NODES",":","UNITY_VALUE_NODES",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["eO","=","(","gl_FrontFacing",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_VW",DECLARATIONS:[{TYPE:"node_out",NAME:"eP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eP","=","-","(","dZ","*","vec4","(","dY",",","0.0",")",")",".","xyz",";"]}]},{TYPE:"node",NAME:"GEOMETRY_LO",DECLARATIONS:[{TYPE:"node_out",NAME:"eQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eQ","[","0","]","=","eo","[","0","]",";","eQ","[","1","]","=","eo","[","1","]",";","eQ","[","2","]","=","eo","[","2","]",";"]}]},{TYPE:"node",NAME:"GEOMETRY_GL",DECLARATIONS:[{TYPE:"node_out",NAME:"eR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eR","=","vec3","(","en",".","r",",","-","en",".","b",",","en",".","g",")",";"]}]},{TYPE:"node",NAME:"NEW_GEOMETRY",DECLARATIONS:[{TYPE:"node_out",NAME:"eS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"eZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["eS","=","vec3","(","ZERO_VALUE_NODES",")",";","eT","=","vec3","(","ZERO_VALUE_NODES",")",";","eU","=","vec3","(","ZERO_VALUE_NODES",")",";","eV","=","vec3","(","ZERO_VALUE_NODES",")",";","eW","=","vec3","(","ZERO_VALUE_NODES",")",";","eX","=","vec3","(","ZERO_VALUE_NODES",")",";","eY","=","ZERO_VALUE_NODES",";","eZ","=","ZERO_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"HUE_SAT",DECLARATIONS:[{TYPE:"node_in",NAME:"e_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fe",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","dG","=","dF","(","fd",")",";","dG","[","0","]","+=","(","e_","-","dz",")",";","if","(","dG","[","0","]",">","UNITY_VALUE_NODES",")","dG","[","0","]","-=","UNITY_VALUE_NODES",";","else","if","(","dG","[","0","]","<","ZERO_VALUE_NODES",")","dG","[","0","]","+=","UNITY_VALUE_NODES",";","dG","*=","vec3","(","UNITY_VALUE_NODES",",","fa",",","fb",")",";","dG","=","mix","(","vec3","(","UNITY_VALUE_NODES",")",",","mix","(","vec3","(","ZERO_VALUE_NODES",")",",","dG",",","step","(","vec3","(","ZERO_VALUE_NODES",")",",","dG",")",")",",","step","(","dG",",","vec3","(","UNITY_VALUE_NODES",")",")",")",";","fe","=","mix","(","fd",",","dH","(","dG",")",",","fc",")",";"]}]},{TYPE:"node",NAME:"INVERT",DECLARATIONS:[{TYPE:"node_in",NAME:"ff",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fh","=","mix","(","fg",",","vec3","(","UNITY_VALUE_NODES",")","-","fg",",","ff",")",";"]}]},{TYPE:"node",NAME:"LAMP",DECLARATIONS:[{TYPE:"node_out",NAME:"fi",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"fj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fl",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fi"],STATEMENTS:[{TYPE:"txt",TOKENS:["fi","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{TYPE:"txt",TOKENS:["vec4","fm","=","u_lamp_light_factors","[","LAMP_INDEX","]",";","vec3","fn","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","vec3","fo","=","u_lamp_light_positions","[","LAMP_INDEX","]",";","float","fp","=","fm",".","z",";","if","(","fp","!=","-","UNITY_VALUE_NODES",")","{"]},{TYPE:"txt",TOKENS:["fj","=","bG","-","fo",";","fk","=","length","(","fj",")",";","fj","=","normalize","(","fj",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fl"],STATEMENTS:[{TYPE:"txt",TOKENS:["fl","=","fp","/","(","fp","+","fk","*","fk",")",";","float","fq","=","fm",".","x",";","float","fr","=","fm",".","y",";","if","(","fq",">","-","UNITY_VALUE_NODES",")","{","float","fs","=","dot","(","-","fj",",","fn",")",";","fs","*=","smoothstep","(","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",",","(","fs","-","fq",")","/","fr",")",";","fl","*=","fs",";","}"]}]}]},{TYPE:"txt",TOKENS:["}","else","{"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fj"],STATEMENTS:[{TYPE:"txt",TOKENS:["fj","=","fn",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fk"],STATEMENTS:[{TYPE:"txt",TOKENS:["fk","=","length","(","fo","-","bG",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fl"],STATEMENTS:[{TYPE:"txt",TOKENS:["fl","=","UNITY_VALUE_NODES",";"]}]}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fj"],STATEMENTS:[{TYPE:"txt",TOKENS:["fj",".","yz","=","vec2","(","-","fj",".","z",",","fj",".","y",")",";"]}]}]}]},{TYPE:"node",NAME:"NORMAL",DECLARATIONS:[{TYPE:"node_in",NAME:"ft",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fu",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"fv",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"dQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fu"],STATEMENTS:[{TYPE:"txt",TOKENS:["fu","=","dQ",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_fv"],STATEMENTS:[{TYPE:"txt",TOKENS:["fv","=","-","dot","(","ft",",","dQ",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_VECTOR_VIEW",DECLARATIONS:[{TYPE:"node_in",NAME:"fw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fx",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fx","=","-","(","d_","*","vec4","(","fw",",","ZERO_VALUE_NODES",")",")",".","xyz",";"]}]},{TYPE:"node",NAME:"BSDF_ANISOTROPIC",DECLARATIONS:[{TYPE:"node_in",NAME:"fy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fE","=","fy",";"]},{TYPE:"txt",TOKENS:["fz",";","fA",";","fB",";","fC",";","fD",";"]}]},{TYPE:"node",NAME:"BSDF_DIFFUSE",DECLARATIONS:[{TYPE:"node_in",NAME:"fF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fI","=","fF",";"]},{TYPE:"txt",TOKENS:["fG",";","fH",";"]}]},{TYPE:"node",NAME:"BSDF_GLASS",DECLARATIONS:[{TYPE:"node_in",NAME:"fJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fN","=","fJ",";"]},{TYPE:"txt",TOKENS:["fK",";","fL",";","fM",";"]}]},{TYPE:"node",NAME:"BSDF_GLOSSY",DECLARATIONS:[{TYPE:"node_in",NAME:"fO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fR","=","fO",";"]},{TYPE:"txt",TOKENS:["fP",";","fQ",";"]}]},{TYPE:"node",NAME:"BSDF_HAIR",DECLARATIONS:[{TYPE:"node_in",NAME:"fS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"fV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fW","=","fS",";"]},{TYPE:"txt",TOKENS:["fT",";","fU",";","fV",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSPARENT",DECLARATIONS:[{TYPE:"node_in",NAME:"fX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"fY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["fY","=","fX",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSLUCENT",DECLARATIONS:[{TYPE:"node_in",NAME:"fZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"f_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gc","=","fZ",";"]},{TYPE:"txt",TOKENS:["f_",";"]}]},{TYPE:"node",NAME:"BSDF_REFRACTION",DECLARATIONS:[{TYPE:"node_in",NAME:"gd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ge",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gi",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gi","[","0","]","=","gi","[","1","]","=","gi","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gd",";","ge",";","gf",";","gh",";"]}]},{TYPE:"node",NAME:"BSDF_TOON",DECLARATIONS:[{TYPE:"node_in",NAME:"gj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gn","=","gj",";"]},{TYPE:"txt",TOKENS:["gk",";","gl",";","gm",";"]}]},{TYPE:"node",NAME:"BSDF_VELVET",DECLARATIONS:[{TYPE:"node_in",NAME:"go",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gs",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gs","=","go",";"]},{TYPE:"txt",TOKENS:["gp",";","gq",";"]}]},{TYPE:"node",NAME:"SUBSURFACE_SCATTERING",DECLARATIONS:[{TYPE:"node_in",NAME:"gt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gz","[","0","]","=","gz","[","1","]","=","gz","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gt",";","gv",";","gw",";","gx",";","gy",";","gu",";"]}]},{TYPE:"node",NAME:"EMISSION",DECLARATIONS:[{TYPE:"node_in",NAME:"gA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gC","=","gA",";"]},{TYPE:"txt",TOKENS:["gB",";"]}]},{TYPE:"node",NAME:"AMBIENT_OCCLUSION",DECLARATIONS:[{TYPE:"node_in",NAME:"gD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gE","[","0","]","=","gE","[","1","]","=","gE","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gD",";"]}]},{TYPE:"node",NAME:"HOLDOUT",DECLARATIONS:[{TYPE:"node_out",NAME:"gF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gF","[","0","]","=","gF","[","1","]","=","gF","[","2","]","=","ZERO_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"VOLUME_ABSORPTION",DECLARATIONS:[{TYPE:"node_in",NAME:"gG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gI","[","0","]","=","gI","[","1","]","=","gI","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gG",";","gH",";"]}]},{TYPE:"node",NAME:"VOLUME_SCATTER",DECLARATIONS:[{TYPE:"node_in",NAME:"gJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gM","[","0","]","=","gM","[","1","]","=","gM","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gJ",";","gK",";","gL",";"]}]},{TYPE:"node",NAME:"BUMP",DECLARATIONS:[{TYPE:"node_in",NAME:"gN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["gR","=","gQ",";"]},{TYPE:"txt",TOKENS:["gN",";","gO",";","gP",";"]}]},{TYPE:"node",NAME:"NORMAL_MAP",DECLARATIONS:[{TYPE:"node_in",NAME:"gS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"gT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","gV","=","ej",";"]},{TYPE:"txt",TOKENS:["gV",".","yz","=","vec2","(","-","gV",".","z",",","gV",".","y",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SPACE","NM_TANGENT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gU","=","em","*","(","gT",".","xyz","-","dz",")",";"]},{TYPE:"txt",TOKENS:["gU",".","yz","=","vec2","(","-","gU",".","z",",","gU",".","y",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_OBJECT",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_OBJECT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gU","=","gT",".","xyz","-","dz",";","gU",".","yz","*=","-","1.0",";","gU","=","(","eb","*","vec4","(","gU",",","ZERO_VALUE_NODES",")",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_WORLD",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_WORLD",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gU","=","gT",".","xyz","-","dz",";","gU",".","yz","*=","-","1.0",";"]}]}]},{TYPE:"txt",TOKENS:["gU","=","normalize","(","mix","(","gV",",","gU",",","gS",")",")",";"]}]},{TYPE:"node",NAME:"VECT_TRANSFORM",DECLARATIONS:[{TYPE:"node_in",NAME:"gW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"gX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","gW",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_POINT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","gY","=","vec4","(","gW",",","UNITY_VALUE_NODES",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","gY","=","vec4","(","gW",",","ZERO_VALUE_NODES",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","d_","*","gY",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","ec","*","gY",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","eb","*","gY",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","d_","*","eb","*","gY",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","ea","*","gY",")",".","xyz",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","(","ec","*","ea","*","gY",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_NORMAL",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["gX","=","normalize","(","gX",")",";"]}]}]}]}]}]},{TYPE:"node",NAME:"BLACKBODY",DECLARATIONS:[{TYPE:"node_in",NAME:"gZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"g_",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["g_","[","0","]","=","g_","[","1","]","=","g_","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["gZ",";"]}]},{TYPE:"node",NAME:"WAVELENGTH",DECLARATIONS:[{TYPE:"node_in",NAME:"ha",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hb","[","0","]","=","hb","[","1","]","=","hb","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ha",";"]}]},{TYPE:"node",NAME:"SEPXYZ",DECLARATIONS:[{TYPE:"node_in",NAME:"hc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"he",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hd","=","hc","[","0","]",";","he","=","hc","[","1","]",";","hf","=","hc","[","2","]",";"]}]},{TYPE:"node",NAME:"COMBXYZ",DECLARATIONS:[{TYPE:"node_in",NAME:"hg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hj","[","0","]","=","hg",";","hj","[","1","]","=","hh",";","hj","[","2","]","=","hi",";"]}]},{TYPE:"node",NAME:"BRIGHTCONTRAST",DECLARATIONS:[{TYPE:"node_in",NAME:"hk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","b","=","hl","-","hm","*","dz",";","hn","=","max","(","(","UNITY_VALUE_NODES","+","hm",")","*","hk","+","b",",","vec3","(","ZERO_VALUE_NODES",")",")",";"]}]},{TYPE:"node",NAME:"LIGHT_FALLOFF",DECLARATIONS:[{TYPE:"node_in",NAME:"ho",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hs",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hq","=","hr","=","hs","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ho",";","hp",";"]}]},{TYPE:"node",NAME:"TEX_IMAGE",DECLARATIONS:[{TYPE:"node_in",NAME:"ht",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hv",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hu","[","0","]","=","hu","[","1","]","=","hu","[","2","]","=","ZERO_VALUE_NODES",";","hv","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ht",";"]}]},{TYPE:"node",NAME:"TEX_ENVIRONMENT",DECLARATIONS:[{TYPE:"node_in",NAME:"hw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hx",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hx","[","0","]","=","hx","[","1","]","=","hx","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hw",";"]}]},{TYPE:"node",NAME:"TEX_SKY",DECLARATIONS:[{TYPE:"node_in",NAME:"hy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hz","[","0","]","=","hz","[","1","]","=","hz","[","2","]","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hy",";"]}]},{TYPE:"node",NAME:"TEX_NOISE",DECLARATIONS:[{TYPE:"node_in",NAME:"hA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hF",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hE","[","0","]","=","hE","[","1","]","=","hE","[","2","]","=","ZERO_VALUE_NODES",";","hF","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hA",";","hB",";","hC",";","hD",";"]}]},{TYPE:"node",NAME:"TEX_WAVE",DECLARATIONS:[{TYPE:"node_in",NAME:"hG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hL","[","0","]","=","hL","[","1","]","=","hL","[","2","]","=","ZERO_VALUE_NODES",";","hM","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hG",";","hH",";","hI",";","hJ",";","hK",";"]}]},{TYPE:"node",NAME:"TEX_VORONOI",DECLARATIONS:[{TYPE:"node_in",NAME:"hN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hP","[","0","]","=","hP","[","1","]","=","hP","[","2","]","=","ZERO_VALUE_NODES",";","hQ","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hN",";","hO",";"]}]},{TYPE:"node",NAME:"TEX_MUSGRAVE",DECLARATIONS:[{TYPE:"node_in",NAME:"hR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"hX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"hZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["hY","[","0","]","=","hY","[","1","]","=","hY","[","2","]","=","ZERO_VALUE_NODES",";","hZ","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["hR",";","hS",";","hT",";","hU",";","hV",";","hW",";","hX",";"]}]},{TYPE:"node",NAME:"TEX_GRADIENT",DECLARATIONS:[{TYPE:"node_in",NAME:"h_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ia",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ib",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ia","[","0","]","=","ia","[","1","]","=","ia","[","2","]","=","ZERO_VALUE_NODES",";","ib","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["h_",";"]}]},{TYPE:"node",NAME:"TEX_MAGIC",DECLARATIONS:[{TYPE:"node_in",NAME:"ic",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"id",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ie",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ig",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ih",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ig","[","0","]","=","ig","[","1","]","=","ig","[","2","]","=","ZERO_VALUE_NODES",";","ih","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ic",";","id",";","ie",";"]}]},{TYPE:"node",NAME:"TEX_CHECKER",DECLARATIONS:[{TYPE:"node_in",NAME:"ii",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ij",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ik",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"il",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"im",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"io",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["im","[","0","]","=","im","[","1","]","=","im","[","2","]","=","ZERO_VALUE_NODES",";","io","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ii",";","ij",";","ik",";","il",";"]}]},{TYPE:"node",NAME:"TEX_BRICK",DECLARATIONS:[{TYPE:"node_in",NAME:"ip",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ir",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"is",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"it",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ix",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iz",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iy","[","0","]","=","iy","[","1","]","=","iy","[","2","]","=","ZERO_VALUE_NODES",";","iz","=","UNITY_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["ip",";","iq",";","ir",";","is",";","it",";","iu",";","iv",";","iw",";","ix",";"]}]},{TYPE:"node",NAME:"ADD_SHADER",DECLARATIONS:[{TYPE:"node_in",NAME:"iA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iC","=","clamp","(","iA","+","iB",",","vec3","(","ZERO_VALUE_NODES",")",",","vec3","(","UNITY_VALUE_NODES",")",")",";"]}]},{TYPE:"node",NAME:"MIX_SHADER",DECLARATIONS:[{TYPE:"node_in",NAME:"iD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"iF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","iD",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","iG","=","iH","*","iE","+","(","UNITY_VALUE_NODES","-","iH",")","*","iF",";"]}]},{TYPE:"node",NAME:"UV_MERGED",DECLARATIONS:[{TYPE:"node_out",NAME:"iI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iJ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iI"],STATEMENTS:[{TYPE:"txt",TOKENS:["iI","=","dJ","(","bQ",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["iJ","=","vec3","(","bQ",",","ZERO_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_UV",DECLARATIONS:[{TYPE:"node_out",NAME:"iK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iK","=","vec3","(","bQ",",","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_NO",DECLARATIONS:[{TYPE:"node_out",NAME:"iL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iL","=","ej",";"]}]},{TYPE:"node",NAME:"TEX_COORD_GE",DECLARATIONS:[{TYPE:"node_out",NAME:"iM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iM","=","vec3","(","bQ",",","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_OB",DECLARATIONS:[{TYPE:"node_out",NAME:"iN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iN","[","0","]","=","iN","[","1","]","=","iN","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"TEX_COORD_CA",DECLARATIONS:[{TYPE:"node_out",NAME:"iO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iO","[","0","]","=","eo","[","0","]",";","iO","[","1","]","=","eo","[","1","]",";","iO","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"TEX_COORD_WI",DECLARATIONS:[{TYPE:"node_out",NAME:"iP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iP","[","0","]","=","iP","[","1","]","=","iP","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"TEX_COORD_RE",DECLARATIONS:[{TYPE:"node_out",NAME:"iQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iQ","[","0","]","=","iQ","[","1","]","=","iQ","[","2","]","=","UNITY_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"UVMAP",DECLARATIONS:[{TYPE:"node_out",NAME:"iR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iR","=","vec3","(","bQ",",","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",DECLARATIONS:[{TYPE:"node_out",NAME:"iS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"iY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"wL",QUALIFIER:["GLSL_IN","vec4"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"wM",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"wN",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"wO",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PARTICLE_BATCH"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iS"],STATEMENTS:[{TYPE:"txt",TOKENS:["iS","=","wL","[","0","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iT"],STATEMENTS:[{TYPE:"txt",TOKENS:["iT","=","wL","[","1","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iU"],STATEMENTS:[{TYPE:"txt",TOKENS:["iU","=","wL","[","2","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iV"],STATEMENTS:[{TYPE:"txt",TOKENS:["iV","=","vec3","(","wM",".","r",",","-","wM",".","b",",","wM",".","g",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iW"],STATEMENTS:[{TYPE:"txt",TOKENS:["iW","=","wL","[","3","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iX"],STATEMENTS:[{TYPE:"txt",TOKENS:["iX","=","vec3","(","wN",".","r",",","-","wN",".","b",",","wN",".","g",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_iY"],STATEMENTS:[{TYPE:"txt",TOKENS:["iY","=","vec3","(","wO",".","r",",","-","wO",".","b",",","wO",".","g",")",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["iS","=","ZERO_VALUE_NODES",";","iT","=","ZERO_VALUE_NODES",";","iU","=","ZERO_VALUE_NODES",";","iV","=","vec3","(","ZERO_VALUE_NODES",")",";","iW","=","ZERO_VALUE_NODES",";","iX","=","iV",";","iY","=","iV",";"]}]}]}]},{TYPE:"node",NAME:"HAIR_INFO",DECLARATIONS:[{TYPE:"node_out",NAME:"iZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"i_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ja",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["iZ","=","ZERO_VALUE_NODES",";","i_","=","ZERO_VALUE_NODES",";","ja","=","ZERO_VALUE_NODES",";","jb","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"OBJECT_INFO",DECLARATIONS:[{TYPE:"node_out",NAME:"jc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"je",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jd","=","ZERO_VALUE_NODES",";","je","=","ZERO_VALUE_NODES",";","jf","=","ZERO_VALUE_NODES",";","jc","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"WIREFRAME",DECLARATIONS:[{TYPE:"node_in",NAME:"jg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jh","=","jg",";"]}]},{TYPE:"node",NAME:"TANGENT",DECLARATIONS:[{TYPE:"node_out",NAME:"ji",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ji","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"LAYER_WEIGHT",DECLARATIONS:[{TYPE:"node_in",NAME:"jj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jl","=","jm","=","ZERO_VALUE_NODES",";"]},{TYPE:"txt",TOKENS:["jk",";","jj",";"]}]},{TYPE:"node",NAME:"LIGHT_PATH",DECLARATIONS:[{TYPE:"node_out",NAME:"jn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"js",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ju",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jn","=","jo","=","jp","=","ZERO_VALUE_NODES",";","jq","=","jr","=","js","=","ZERO_VALUE_NODES",";","jt","=","jt","=","jv","=","jw","=","ZERO_VALUE_NODES",";","ju","=","ZERO_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"ATTRIBUTE",DECLARATIONS:[{TYPE:"node_out",NAME:"jx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jz",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jx","=","jy","=","vec3","(","ZERO_VALUE_NODES",")",";","jz","=","ZERO_VALUE_NODES",";"]}]},{TYPE:"node",NAME:"SCRIPT",DECLARATIONS:[],STATEMENTS:[]},{TYPE:"node",NAME:"CURVE_VEC",DECLARATIONS:[{TYPE:"node_in",NAME:"jA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jC","=","jB",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["jC",".","r","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","jB",".","r","+","0.5",",","NODE_TEX_ROW",")",")",".","r","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["jC",".","g","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","jB",".","g","+","0.5",",","NODE_TEX_ROW",")",")",".","g","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["jC",".","b","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","jB",".","b","+","0.5",",","NODE_TEX_ROW",")",")",".","b","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"txt",TOKENS:["jC","=","mix","(","jB",",","jC",",","jA",")",";"]}]},{TYPE:"node",NAME:"CURVE_RGB",DECLARATIONS:[{TYPE:"node_in",NAME:"jD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_A"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","jE",".","r",",","NODE_TEX_ROW",")",")",".","a",";","float","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","jE",".","g",",","NODE_TEX_ROW",")",")",".","a",";","float","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","jE",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","jE",".","r",";","float","g","=","jE",".","g",";","float","b","=","jE",".","b",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","r",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","r","=","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","g",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","g","=","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","b",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["jF",".","b","=","b",";"]}]}]},{TYPE:"txt",TOKENS:["jF","=","mix","(","jE",",","jF",",","jD",")",";"]}]},{TYPE:"node",NAME:"VALTORGB",DECLARATIONS:[{TYPE:"node_in",NAME:"jG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jI",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","jJ","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","jG",",","NODE_TEX_ROW",")",")",";","jH","=","jJ",".","rgb",";","jI","=","jJ",".","a",";"]}]},{TYPE:"node",NAME:"MAPPING",DECLARATIONS:[{TYPE:"node_in",NAME:"jK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","jK",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_ifdef",NAME:"MAPPING_TRS_MATRIX",STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","(","MAPPING_TRS_MATRIX","*","vec4","(","jL",",","UNITY_VALUE_NODES",")",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_ifdef",NAME:"MAPPING_SCALE",STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","jL","*","MAPPING_SCALE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_ifdef",NAME:"MAPPING_TRANSLATION",STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","jL","+","MAPPING_TRANSLATION",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_ifdef",NAME:"MAPPING_MIN_CLIP",STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","max","(","jL",",","MAPPING_MIN_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_ifdef",NAME:"MAPPING_MAX_CLIP",STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","min","(","jL",",","MAPPING_MAX_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_IS_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["jL","=","normalize","(","jL",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ADD",DECLARATIONS:[{TYPE:"node_in",NAME:"jM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jO","=","jM","+","jN",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["jO","=","clamp","(","jO",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SUBTRACT",DECLARATIONS:[{TYPE:"node_in",NAME:"jP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jR","=","jP","-","jQ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["jR","=","clamp","(","jR",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MULTIPLY",DECLARATIONS:[{TYPE:"node_in",NAME:"jS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jU",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jU","=","jS","*","jT",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["jU","=","clamp","(","jU",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_DIVIDE",DECLARATIONS:[{TYPE:"node_in",NAME:"jV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"jX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["jX","=","(","jW","!=","ZERO_VALUE_NODES",")","?","jV","/","jW",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["jX","=","clamp","(","jX",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SINE",DECLARATIONS:[{TYPE:"node_in",NAME:"jY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"jZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"j_",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["j_","=","sin","(","jY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["j_","=","clamp","(","j_",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["jZ",";"]}]},{TYPE:"node",NAME:"MATH_COSINE",DECLARATIONS:[{TYPE:"node_in",NAME:"ka",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kc","=","cos","(","ka",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kc","=","clamp","(","kc",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kb",";"]}]},{TYPE:"node",NAME:"MATH_TANGENT",DECLARATIONS:[{TYPE:"node_in",NAME:"kd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ke",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kf","=","tan","(","kd",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kf","=","clamp","(","kf",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["ke",";"]}]},{TYPE:"node",NAME:"MATH_ARCSINE",DECLARATIONS:[{TYPE:"node_in",NAME:"kg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ki",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ki","=","(","kg","<=","UNITY_VALUE_NODES","&&","kg",">=","-","UNITY_VALUE_NODES",")","?","asin","(","kg",")",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ki","=","clamp","(","ki",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kh",";"]}]},{TYPE:"node",NAME:"MATH_ARCCOSINE",DECLARATIONS:[{TYPE:"node_in",NAME:"kj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kl",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kl","=","(","kj","<=","UNITY_VALUE_NODES","&&","kj",">=","-","UNITY_VALUE_NODES",")","?","acos","(","kj",")",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kl","=","clamp","(","kl",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kk",";"]}]},{TYPE:"node",NAME:"MATH_ARCTANGENT",DECLARATIONS:[{TYPE:"node_in",NAME:"km",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ko",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ko","=","atan","(","km",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ko","=","clamp","(","ko",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kn",";"]}]},{TYPE:"node",NAME:"MATH_POWER",DECLARATIONS:[{TYPE:"node_in",NAME:"kp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kr",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","kp","<","ZERO_VALUE_NODES","&&","kq","!=","floor","(","kq",")",")","kr","=","ZERO_VALUE_NODES",";","else","if","(","kq","==","ZERO_VALUE_NODES",")"]},{TYPE:"txt",TOKENS:["kr","=","UNITY_VALUE_NODES",";","else","if","(","kp","<","ZERO_VALUE_NODES",")","kr","=","mix","(","UNITY_VALUE_NODES",",","-","UNITY_VALUE_NODES",",","sign","(","mod","(","-","kq",",","2.0",")",")",")","*","pow","(","-","kp",",","kq",")",";","else","if","(","kp","==","ZERO_VALUE_NODES",")","kr","=","ZERO_VALUE_NODES",";","else","kr","=","pow","(","kp",",","kq",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kr","=","clamp","(","kr",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_LOGARITHM",DECLARATIONS:[{TYPE:"node_in",NAME:"ks",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ku",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ku","=","(","ks",">","ZERO_VALUE_NODES","&&","kt",">","ZERO_VALUE_NODES",")","?","log2","(","ks",")","/","log2","(","kt",")",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ku","=","clamp","(","ku",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MINIMUM",DECLARATIONS:[{TYPE:"node_in",NAME:"kv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kx",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kx","=","min","(","kv",",","kw",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kx","=","clamp","(","kx",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MAXIMUM",DECLARATIONS:[{TYPE:"node_in",NAME:"ky",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kA",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kA","=","max","(","ky",",","kz",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kA","=","clamp","(","kA",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ROUND",DECLARATIONS:[{TYPE:"node_in",NAME:"kB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kD","=","floor","(","kB","+","dz",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kD","=","clamp","(","kD",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kC",";"]}]},{TYPE:"node",NAME:"MATH_LESS_THAN",DECLARATIONS:[{TYPE:"node_in",NAME:"kE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kG","=","(","kE","<","kF",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kG","=","clamp","(","kG",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_GREATER_THAN",DECLARATIONS:[{TYPE:"node_in",NAME:"kH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kJ","=","(","kH",">","kI",")","?","UNITY_VALUE_NODES",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kJ","=","clamp","(","kJ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MODULO",DECLARATIONS:[{TYPE:"node_in",NAME:"kK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kM","=","abs","(","kL",")",">","0.000001","?","mod","(","kK",",","kL",")",":","ZERO_VALUE_NODES",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kM","=","clamp","(","kM",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ABSOLUTE",DECLARATIONS:[{TYPE:"node_in",NAME:"kN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["kP","=","abs","(","kN",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kP","=","clamp","(","kP",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["kO",";"]}]},{TYPE:"node",NAME:"MIX_RGB_MIX",DECLARATIONS:[{TYPE:"node_in",NAME:"kQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","kQ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","kT","=","mix","(","kR",",","kS",",","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kT","=","clamp","(","kT",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_ADD",DECLARATIONS:[{TYPE:"node_in",NAME:"kU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"kX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","kU",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","kX","=","mix","(","kV",",","kV","+","kW",",","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["kX","=","clamp","(","kX",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_MULTIPLY",DECLARATIONS:[{TYPE:"node_in",NAME:"kY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"kZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"k_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"la",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","kY",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","la","=","mix","(","kZ",",","kZ","*","k_",",","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["la","=","clamp","(","la",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SUBTRACT",DECLARATIONS:[{TYPE:"node_in",NAME:"lb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ld",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"le",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lb",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","le","=","mix","(","lc",",","lc","-","ld",",","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["le","=","clamp","(","le",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SCREEN",DECLARATIONS:[{TYPE:"node_in",NAME:"lf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"li",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lf",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","lj","=","UNITY_VALUE_NODES","-","iH",";","li","=","vec3","(","UNITY_VALUE_NODES",")","-","(","vec3","(","lj",")","+","iH","*","(","vec3","(","UNITY_VALUE_NODES",")","-","lh",")",")","*","(","vec3","(","UNITY_VALUE_NODES",")","-","lg",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["li","=","clamp","(","li",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIVIDE",DECLARATIONS:[{TYPE:"node_in",NAME:"lk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ll",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ln",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lk",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","lj","=","UNITY_VALUE_NODES","-","iH",";","lm","+=","step","(","lm",",","vec3","(","ZERO_VALUE_NODES",")",")",";","ln","=","lj","*","ll","+","iH","*","ll","/","lm",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["ln","=","clamp","(","ln",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIFFERENCE",DECLARATIONS:[{TYPE:"node_in",NAME:"lo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lr",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lo",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lr","=","mix","(","lp",",","abs","(","lp","-","lq",")",",","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lr","=","clamp","(","lr",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DARKEN",DECLARATIONS:[{TYPE:"node_in",NAME:"ls",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lv",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","ls",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lv","=","min","(","lt",".","rgb",",","lu",".","rgb","*","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lv","=","clamp","(","lv",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LIGHTEN",DECLARATIONS:[{TYPE:"node_in",NAME:"lw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ly",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lz",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lw",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lz","=","max","(","lx",".","rgb",",","ly",".","rgb","*","iH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lz","=","clamp","(","lz",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_OVERLAY",DECLARATIONS:[{TYPE:"node_in",NAME:"lA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lA",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","vec3","lE","=","vec3","(","UNITY_VALUE_NODES","-","iH",")",";","lD","=","mix","(","lB","*","(","lE","+","2.0","*","iH","*","lC",")",",","vec3","(","UNITY_VALUE_NODES",")","-","(","lE","+","2.0","*","iH","*","(","vec3","(","UNITY_VALUE_NODES",")","-","lC",")",")","*","(","vec3","(","UNITY_VALUE_NODES",")","-","lB",")",",","step","(","dz",",","lB",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lD","=","clamp","(","lD",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DODGE",DECLARATIONS:[{TYPE:"node_in",NAME:"lF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lF",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","vec3","lJ","=","vec3","(","UNITY_VALUE_NODES",")","-","iH","*","lH",";","vec3","lK","=","clamp","(","lG","/","lJ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lI","=","mix","(","mix","(","lK",",","vec3","(","UNITY_VALUE_NODES",")",",","step","(","lJ",",","vec3","(","ZERO_VALUE_NODES",")",")",")",",","lG",",","step","(","lG",",","vec3","(","ZERO_VALUE_NODES",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lI","=","clamp","(","lI",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_BURN",DECLARATIONS:[{TYPE:"node_in",NAME:"lL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lL",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","vec3","lP","=","vec3","(","UNITY_VALUE_NODES","-","iH",")",";","vec3","lJ","=","lP","+","iH","*","lN",";","vec3","lK","=","clamp","(","vec3","(","UNITY_VALUE_NODES",")","-","(","vec3","(","UNITY_VALUE_NODES",")","-","lM",")","/","lJ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","lO","=","mix","(","lK",",","vec3","(","ZERO_VALUE_NODES",")",",","step","(","lJ",",","vec3","(","ZERO_VALUE_NODES",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lO","=","clamp","(","lO",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_HUE",DECLARATIONS:[{TYPE:"node_in",NAME:"lQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lQ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","vec3","dG",",","lU",",","lJ",";","lT","=","lR",";","lU","=","dF","(","lS",")",";","if","(","lU",".","y","!=","ZERO_VALUE_NODES",")","{","dG","=","dF","(","lT",")",";","dG",".","x","=","lU",".","x",";","lJ","=","dH","(","dG",")",";","lT","=","mix","(","lT",",","lJ",",","iH",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lT","=","clamp","(","lT",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SATURATION",DECLARATIONS:[{TYPE:"node_in",NAME:"lV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"lX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"lY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lV",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","lj","=","UNITY_VALUE_NODES","-","iH",";","lY","=","lW",";","vec3","dG",",","lU",";","dG","=","dF","(","lY",")",";","if","(","dG",".","y","!=","ZERO_VALUE_NODES",")","{","lU","=","dF","(","lX",")",";","dG",".","y","=","lj","*","dG",".","y","+","iH","*","lU",".","y",";","lY","=","dH","(","dG",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["lY","=","clamp","(","lY",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_VALUE",DECLARATIONS:[{TYPE:"node_in",NAME:"lZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"l_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ma",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","lZ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","lj","=","UNITY_VALUE_NODES","-","iH",";","vec3","dG",",","lU",";","dG","=","dF","(","l_",")",";","lU","=","dF","(","ma",")",";","dG",".","z","=","lj","*","dG",".","z","+","iH","*","lU",".","z",";","mb","=","dH","(","dG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["mb","=","clamp","(","mb",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_COLOR",DECLARATIONS:[{TYPE:"node_in",NAME:"mc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"md",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"me",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","mc",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","vec3","dG",",","lU",",","lJ",";","mf","=","md",";","lU","=","dF","(","me",")",";","if","(","lU",".","y","!=","ZERO_VALUE_NODES",")","{","dG","=","dF","(","mf",")",";","dG",".","x","=","lU",".","x",";","dG",".","y","=","lU",".","y",";","lJ","=","dH","(","dG",")",";","mf","=","mix","(","mf",",","lJ",",","iH",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["mf","=","clamp","(","mf",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SOFT_LIGHT",DECLARATIONS:[{TYPE:"node_in",NAME:"mg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","mg",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","lj","=","UNITY_VALUE_NODES","-","iH",";","vec3","mk","=","mi","+","mh","-","mi","*","mh",";","mj","=","mh","*","(","vec3","(","lj",")","+","vec3","(","iH",")","*","(","(","vec3","(","UNITY_VALUE_NODES",")","-","mh",")","*","mi","+","mk",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["mj","=","clamp","(","mj",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LINEAR_LIGHT",DECLARATIONS:[{TYPE:"node_in",NAME:"ml",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mo",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","iH","=","clamp","(","ml",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","mo","=","mm","+","iH","*","(","2.0","*","mn","-","vec3","(","UNITY_VALUE_NODES",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["mo","=","clamp","(","mo",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"OUTPUT",DECLARATIONS:[{TYPE:"node_in",NAME:"mp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ed","=","mp",";","eh","=","mq",";"]}]},{TYPE:"node",NAME:"MATERIAL_BEGIN",DECLARATIONS:[{TYPE:"node_in",NAME:"mr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ms",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mu",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"mv",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"my",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mB",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mC",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mD",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dU",QUALIFIER:["const","vec2"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"dV",QUALIFIER:["const","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["my","=","clamp","(","mr",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{TYPE:"txt",TOKENS:["mz","=","dV","[","0","]","*","clamp","(","ms",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["mA","=","normalize","(","mu",")",";"]},{TYPE:"txt",TOKENS:["mA",".","yz","=","vec2","(","mA",".","z",",","-","mA",".","y",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mA","=","ej",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SHADELESS_MAT",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["mw","=","mv","*","my",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mw","=","ep","*","my",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["my","*=","mt",";"]}]}]},{TYPE:"txt",TOKENS:["mx","=","eq","*","u_environment_energy","*","dm","(","mA",")",";","mD","=","vec4","(","1.0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["mB","=","vec2","(","dU","[","0","]",",","dU","[","1","]",")",";"]},{TYPE:"txt",TOKENS:["mC","=","vec2","(","dV","[","1","]",",","dV","[","2","]",")",";"]}]}]},{TYPE:"txt",TOKENS:["eg","=","mD",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mw","=","vec3","(","ZERO_VALUE_NODES",")",";","mx","=","vec3","(","UNITY_VALUE_NODES",")",";"]}]}]}]},{TYPE:"node",NAME:"MATERIAL_END",DECLARATIONS:[{TYPE:"node_in",NAME:"mE",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mH",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"mI",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"mJ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mK",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mL",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mM",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mN",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"mO",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"dW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"dX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["mH",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mK"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["mK","=","mE",".","rgb",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mK","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["mK","+=","mF",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mM"],STATEMENTS:[{TYPE:"txt",TOKENS:["mM","=","mG",";"]},{TYPE:"txt",TOKENS:["mM",".","yz","=","vec2","(","-","mM",".","z",",","mM",".","y",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mN"],STATEMENTS:[{TYPE:"txt",TOKENS:["mN","=","mE",".","rgb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mO"],STATEMENTS:[{TYPE:"txt",TOKENS:["mO","=","mF",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mL"],STATEMENTS:[{TYPE:"txt",TOKENS:["mL","=","clamp","(","mJ",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","mF",".","r",",","mF",".","g",")",",","mF",".","b",")","*","mI",";","mL","=","clamp","(","mJ","*","(","UNITY_VALUE_NODES","-","t",")","+","t",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_mL"],STATEMENTS:[{TYPE:"txt",TOKENS:["mL","=","clamp","(","dW",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","mF",".","r",",","mF",".","g",")",",","mF",".","b",")","*","dX",";","mL","=","dW","*","(","UNITY_VALUE_NODES","-","t",")","+","t",";"]}]}]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["ee","=","mF",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["ee","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]}]},{TYPE:"txt",TOKENS:["ef","=","mG",";"]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",DECLARATIONS:[{TYPE:"node_in",NAME:"mP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"mR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mS",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["mS","=","vec4","(","mP","+","mR","*","mQ",",","ZERO_VALUE_NODES",")",";","mT","=","vec3","(","ZERO_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",DECLARATIONS:[{TYPE:"node_in",NAME:"mU",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mW",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"mY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["mW","=","u_light_factors","[","LAMP_LIGHT_FACT_IND","]",".","LAMP_FAC_CHANNELS",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["mY","=","dz",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mY","=","ZERO_VALUE_NODES",";"]}]}]},{TYPE:"txt",TOKENS:["mX","=","u_light_color_intensities","[","LAMP_IND","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["mX","*=","mU","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","mZ","=","u_light_positions","[","LAMP_IND","]",";","mV","=","mZ","-","en",";"]},{TYPE:"txt",TOKENS:["float","m_","=","length","(","mV",")",";","mX","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","m_","*","m_",")",";","mV","=","normalize","(","mV",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","na","=","u_light_directions","[","LAMP_IND","]",";","float","fs","=","dot","(","mV",",","na",")",";","fs","*=","smoothstep","(","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",",","(","fs","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","mX","*=","fs",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["mV","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",DECLARATIONS:[{TYPE:"node_in",NAME:"nb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nc",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ne",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nf",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ng",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nb",",","bJ",".","xyz",")",";","nd","=","cross","(","ni",",","bJ",".","xyz",")",";","nd","=","-","normalize","(","nd",")",";"]}]}]},{TYPE:"txt",TOKENS:["ng","=","ZERO_VALUE_NODES",";","if","(","nc",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","ne",")","*","dot","(","nd",",","nb",")","+","ne",";","if","(","nf","[","0","]","==","ZERO_VALUE_NODES",")","{","ng","=","UNITY_VALUE_NODES",";","}","else","{","float","t","=","UNITY_VALUE_NODES","+","abs","(","nj",")",";","t","=","nf","[","1","]","+","(","UNITY_VALUE_NODES","-","nf","[","1","]",")","*","pow","(","t",",","nf","[","0","]",")",";","ng","=","clamp","(","t",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","}","ng","=","max","(","ng",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",DECLARATIONS:[{TYPE:"node_in",NAME:"nk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"no",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nk",",","bJ",".","xyz",")",";","nm","=","cross","(","ni",",","bJ",".","xyz",")",";","nm","=","-","normalize","(","nm",")",";"]}]}]},{TYPE:"txt",TOKENS:["no","=","ZERO_VALUE_NODES",";","if","(","nl",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","nn",")","*","dot","(","nm",",","nk",")","+","nn",";","no","=","max","(","nj",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",DECLARATIONS:[{TYPE:"node_in",NAME:"np",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ns",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nt",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","np",",","bJ",".","xyz",")",";","nr","=","cross","(","ni",",","bJ",".","xyz",")",";","nr","=","-","normalize","(","nr",")",";"]}]}]},{TYPE:"txt",TOKENS:["nu","=","ZERO_VALUE_NODES",";","if","(","nq",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","ns",")","*","dot","(","nr",",","np",")","+","ns",";","if","(","nt","[","0","]",">","ZERO_VALUE_NODES",")","{","float","nv","=","max","(","dot","(","nr",",","dY",")",",","ZERO_VALUE_NODES",")",";","float","nw","=","nt","[","0","]","*","nt","[","0","]",";","float","nx","=","UNITY_VALUE_NODES","-","dz","*","(","nw","/","(","nw","+","0.33",")",")",";","vec3","ny","=","np","-","nj","*","nr",";","vec3","nz","=","dY","-","nv","*","nr",";"]},{TYPE:"txt",TOKENS:["if","(","length","(","ny",")","==","ZERO_VALUE_NODES","||","length","(","nz",")","==","ZERO_VALUE_NODES","||","abs","(","nj",")",">","UNITY_VALUE_NODES","||","abs","(","nv",")",">","UNITY_VALUE_NODES",")"]},{TYPE:"txt",TOKENS:["nu","=","nj","*","nx",";","else","{","float","nA","=","acos","(","nj",")",";","float","nB","=","acos","(","nv",")",";","vec3","nC","=","normalize","(","ny",")",";","vec3","nD","=","normalize","(","nz",")",";","float","a",",","b",";","a","=","max","(","nA",",","nB",")",";","b","=","min","(","nA",",","nB",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","nC",",","nD",")",",","ZERO_VALUE_NODES",")",";","float","nE","=","0.45","*","(","nw","/","(","nw","+","0.09",")",")",";","nu","=","nj","*","(","nx","+","(","nE","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","nu","=","nj",";","nu","=","max","(","nu",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",DECLARATIONS:[{TYPE:"node_in",NAME:"nF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nG",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nJ",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nF",",","bJ",".","xyz",")",";","nH","=","cross","(","ni",",","bJ",".","xyz",")",";","nH","=","-","normalize","(","nH",")",";"]}]}]},{TYPE:"txt",TOKENS:["nK","=","ZERO_VALUE_NODES",";","if","(","nG",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","nI",")","*","dot","(","nH",",","nF",")","+","nI",";","float","nv","=","max","(","dot","(","nH",",","dY",")",",","ZERO_VALUE_NODES",")",";","if","(","nJ","[","0","]","<=","UNITY_VALUE_NODES",")","nK","=","nj","*","pow","(","max","(","nv","*","nj",",","0.1",")",",","nJ","[","0","]","-","UNITY_VALUE_NODES",")",";","else","nK","=","nj","*","pow","(","1.0001","-","nv",",","nJ","[","0","]","-","UNITY_VALUE_NODES",")",";","nK","=","max","(","nK",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",DECLARATIONS:[{TYPE:"node_in",NAME:"nL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nM",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nP",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ni","=","cross","(","nL",",","bJ",".","xyz",")",";","nN","=","cross","(","ni",",","bJ",".","xyz",")",";","nN","=","-","normalize","(","nN",")",";"]}]}]},{TYPE:"txt",TOKENS:["nQ","=","ZERO_VALUE_NODES",";","if","(","nM",".","r","!=","ZERO_VALUE_NODES",")","{","float","nj","=","(","UNITY_VALUE_NODES","-","nO",")","*","dot","(","nN",",","nL",")","+","nO",";","float","nR","=","acos","(","nj",")",";","if","(","nR","<","nP","[","0","]",")","nQ","=","UNITY_VALUE_NODES",";","else","if","(","nR",">","(","nP","[","0","]","+","nP","[","1","]",")","||","nP","[","1","]","==","ZERO_VALUE_NODES",")","nQ","=","ZERO_VALUE_NODES",";","else","nQ","=","UNITY_VALUE_NODES","-","(","(","nR","-","nP","[","0","]",")","/","nP","[","1","]",")",";","nQ","=","max","(","nQ",",","ZERO_VALUE_NODES",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",DECLARATIONS:[{TYPE:"node_in",NAME:"nS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nT",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"nW",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["nX","=","ZERO_VALUE_NODES",";","if","(","nT",".","g","==","UNITY_VALUE_NODES",")","{","vec3","nY","=","normalize","(","nS","+","dY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","nV","==","ZERO_VALUE_NODES",")","{","nX","=","dot","(","bJ",".","xyz",",","nY",")",";","nX","=","sqrt","(","UNITY_VALUE_NODES","-","nX","*","nX",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["nX","=","(","UNITY_VALUE_NODES","-","nV",")","*","max","(","dot","(","nU",",","nY",")",",","ZERO_VALUE_NODES",")","+","nV",";"]}]}]},{TYPE:"txt",TOKENS:["nX","=","pow","(","nX",",","nW","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",DECLARATIONS:[{TYPE:"node_in",NAME:"nZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"n_",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ob",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oc",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"od",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["od","=","ZERO_VALUE_NODES",";","if","(","n_",".","g","==","UNITY_VALUE_NODES",")","{","vec3","nY","=","normalize","(","nZ","+","dY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","ZERO_VALUE_NODES",";","float","nv","=","ZERO_VALUE_NODES",";","float","of","=","ZERO_VALUE_NODES",";","if","(","ob","==","ZERO_VALUE_NODES",")","{","oe","=","dot","(","bJ",".","xyz",",","nY",")",";","nv","=","dot","(","bJ",".","xyz",",","dY",")",";","of","=","dot","(","bJ",".","xyz",",","nZ",")",";","oe","=","sqrt","(","UNITY_VALUE_NODES","-","oe","*","oe",")",";","nv","=","sqrt","(","UNITY_VALUE_NODES","-","nv","*","nv",")",";","of","=","sqrt","(","UNITY_VALUE_NODES","-","of","*","of",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","max","(","dot","(","oa",",","nY",")",",","0.001",")",";"]},{TYPE:"txt",TOKENS:["float","nv","=","max","(","dot","(","oa",",","dY",")",",","0.01",")",";","float","of","=","max","(","dot","(","oa",",","nZ",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","O","=","tan","(","acos","(","oe",")",")",";","float","bf","=","max","(","oc","[","0","]",",","0.001",")",";","od","=","of","*","(","UNITY_VALUE_NODES","/","(","4.0","*","M_PI","*","bf","*","bf",")",")","*","(","exp","(","-","(","O","*","O",")","/","(","bf","*","bf",")",")","/","(","sqrt","(","nv","*","of",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",DECLARATIONS:[{TYPE:"node_in",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oh",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ok",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ol",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ol","=","ZERO_VALUE_NODES",";","if","(","oh",".","g","==","UNITY_VALUE_NODES",")","{","vec3","aV","=","normalize","(","og","+","dY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","om","=","dot","(","aV",",","bJ",".","xyz",")",";","float","O","=","ok","[","0","]","+","ok","[","1","]",";","if","(","oj","==","ZERO_VALUE_NODES",")","O","=","acos","(","sqrt","(","UNITY_VALUE_NODES","-","om","*","om",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","O","=","acos","(","dot","(","aV",",","oi",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","O","<","ok","[","0","]",")","ol","=","UNITY_VALUE_NODES",";","else","if","(","O",">=","ok","[","0","]","+","ok","[","1","]","||","ok","[","1","]","==","ZERO_VALUE_NODES",")","ol","=","ZERO_VALUE_NODES",";","else","ol","=","UNITY_VALUE_NODES","-","(","O","-","ok","[","0","]",")","/","ok","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",DECLARATIONS:[{TYPE:"node_in",NAME:"on",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"or",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"os",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["os","=","ZERO_VALUE_NODES",";","if","(","oo",".","g","==","UNITY_VALUE_NODES",")","{","if","(","or","[","0","]","<","1.0","||","or","[","1","]","==","ZERO_VALUE_NODES",")","os","=","ZERO_VALUE_NODES",";","else","{","if","(","or","[","1","]","<","100.0",")","or","[","1","]","=","sqrt","(","1.0","/","or","[","1","]",")",";","else","or","[","1","]","=","10.0","/","or","[","1","]",";","vec3","nY","=","normalize","(","dY","+","on",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","0.0",";","if","(","oq","==","ZERO_VALUE_NODES",")","{","float","ot","=","dot","(","bJ",".","xyz",",","nY",")",";","oe","=","sqrt","(","UNITY_VALUE_NODES","-","ot","*","ot",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oe","=","(","UNITY_VALUE_NODES","-","oq",")","*","max","(","dot","(","op",",","nY",")",",","ZERO_VALUE_NODES",")","+","oq",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","oe","<","ZERO_VALUE_NODES",")","os","=","ZERO_VALUE_NODES",";","else","{","float","nv","=","max","(","dot","(","op",",","dY",")",",","0.01",")",";","float","of","=","dot","(","op",",","on",")",";","if","(","of","<=","0.01",")","os","=","ZERO_VALUE_NODES",";","else","{","float","ou","=","max","(","dot","(","dY",",","nY",")",",","0.01",")",";","float","a","=","UNITY_VALUE_NODES",";","float","b","=","(","2.0","*","oe","*","nv",")","/","ou",";","float","ov","=","(","2.0","*","oe","*","of",")","/","ou",";","float","g","=","min","(","min","(","a",",","b",")",",","ov",")",";","float","p","=","sqrt","(","pow","(","or","[","0","]",",","2.0",")","+","pow","(","ou",",","2.0",")","-","UNITY_VALUE_NODES",")",";","float","ow","=","pow","(","p","-","ou",",","2.0",")","/","pow","(","p","+","ou",",","2.0",")","*","(","UNITY_VALUE_NODES","+","pow","(","ou","*","(","p","+","ou",")","-","UNITY_VALUE_NODES",",","2.0",")","/","pow","(","ou","*","(","p","-","ou",")","+","UNITY_VALUE_NODES",",","2.0",")",")",";","float","nR","=","acos","(","oe",")",";","os","=","max","(","ow","*","g","*","exp","(","-","pow","(","nR",",","2.0",")","/","(","2.0","*","pow","(","or","[","1","]",",","2.0",")",")",")",",","ZERO_VALUE_NODES",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",DECLARATIONS:[{TYPE:"node_in",NAME:"ox",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oD",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oI",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oJ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_B4W_TRANSLUCENCY"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","oB",",","oC",")","*","dot","(","dY",",","oC",")","<","ZERO_VALUE_NODES",")","{","float","oK","=","oD",".","x",";","float","oL","=","oD",".","y",";","float","oM","=","oD",".","z",";","float","oN","=","oD",".","w",";"]},{TYPE:"txt",TOKENS:["float","oO","=","clamp","(","abs","(","dot","(","oB",",","oC",")",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","oP","=","clamp","(","dot","(","dY",",","-","oB",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","oQ","=","pow","(","oP",",","oL",")",";"]},{TYPE:"txt",TOKENS:["oI","=","ox","+","oH","*","vec4","(","oG","*","oO","*","pow","(","oE",",","vec3","(","oK",")",")",",","UNITY_VALUE_NODES",")",";"]},{TYPE:"txt",TOKENS:["oI","+=","oM","*","mix","(","vec4","(","oE",",","UNITY_VALUE_NODES",")",",","vec4","(","UNITY_VALUE_NODES",")",",","oN",")","*","oH","*","vec4","(","oG","*","oO","*","vec3","(","oQ",")",",","UNITY_VALUE_NODES",")",";","oJ","=","oy",";","}","else","{"]},{TYPE:"txt",TOKENS:["oJ","=","oy","+","oG","*","oF","*","oA",";","oI","=","ox","+","vec4","(","oG","*","oE","*","oz",",","oA",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oJ","=","oy","+","oG","*","oF","*","oA",";","oI","=","ox","+","vec4","(","oG","*","oE","*","oz",",","oA",")",";"]}]}]}]},{TYPE:"node",NAME:"RGB",DECLARATIONS:[{TYPE:"node_out",NAME:"oR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oR","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{TYPE:"node",NAME:"RGBTOBW",DECLARATIONS:[{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["oT","=","dot","(","oS",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{TYPE:"node",NAME:"SEPRGB",DECLARATIONS:[{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oV",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"oW",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"oX",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_oV"],STATEMENTS:[{TYPE:"txt",TOKENS:["oV","=","oU",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_oW"],STATEMENTS:[{TYPE:"txt",TOKENS:["oW","=","oU",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_oX"],STATEMENTS:[{TYPE:"txt",TOKENS:["oX","=","oU",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SEPHSV",DECLARATIONS:[{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oZ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"o_",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pa",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","pb","=","dF","(","oY",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_oZ"],STATEMENTS:[{TYPE:"txt",TOKENS:["oZ","=","pb",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_o_"],STATEMENTS:[{TYPE:"txt",TOKENS:["o_","=","pb",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pa"],STATEMENTS:[{TYPE:"txt",TOKENS:["pa","=","pb",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SQUEEZE",DECLARATIONS:[{TYPE:"node_in",NAME:"pc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","UNITY_VALUE_NODES","/","(","UNITY_VALUE_NODES","+","pow","(","2.71828183",",","-","(","pc","-","pe",")","*","pd",")",")",";"]}]},{TYPE:"node",NAME:"GAMMA",DECLARATIONS:[{TYPE:"node_in",NAME:"pg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ph",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pi",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pi","=","pg",";","if","(","pi",".","x",">","ZERO_VALUE_NODES",")","pi",".","x","=","pow","(","pg",".","x",",","ph",")",";","if","(","pi",".","y",">","ZERO_VALUE_NODES",")","pi",".","y","=","pow","(","pg",".","y",",","ph",")",";","if","(","pi",".","z",">","ZERO_VALUE_NODES",")","pi",".","z","=","pow","(","pg",".","z",",","ph",")",";"]}]},{TYPE:"node",NAME:"B4W_SRGB_TO_LINEAR",DECLARATIONS:[{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pk","=","max","(","vec3","(","ZERO_VALUE_NODES",")",",","pj",")",";","pk","=","pow","(","pk",",","vec3","(","2.2",")",")",";"]}]},{TYPE:"node",NAME:"B4W_LINEAR_TO_SRGB",DECLARATIONS:[{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","max","(","vec3","(","ZERO_VALUE_NODES",")",",","pl",")",";","pm","=","pow","(","pm",",","vec3","(","UNITY_VALUE_NODES","/","2.2",")",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_EMPTY",DECLARATIONS:[{TYPE:"node_out",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"po",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pr",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pn"],STATEMENTS:[{TYPE:"txt",TOKENS:["pn","[","2","]","=","pn","[","1","]","=","pn","[","0","]","=","ZERO_VALUE_NODES",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_po"],STATEMENTS:[{TYPE:"txt",TOKENS:["po","[","2","]","=","po","[","1","]","=","po","[","0","]","=","ZERO_VALUE_NODES",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pr"],STATEMENTS:[{TYPE:"txt",TOKENS:["pr","=","ZERO_VALUE_NODES",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT",DECLARATIONS:[{TYPE:"node_in",NAME:"pu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pv",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pw",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_var_texture",QUALIFIER:["uniform","samplerCube"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","px","=","vec3","(","pu",".","x",",","pu",".","z",",","-","pu",".","y",")",";","vec4","jJ","=","GLSL_TEXTURE_CUBE","(","node_TEXTURE_ENVIRONMENT_var_texture",",","px",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pv"],STATEMENTS:[{TYPE:"txt",TOKENS:["pv","=","jJ",".","xyz",";","bd","(","pv",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pw"],STATEMENTS:[{TYPE:"txt",TOKENS:["pw","=","jJ",".","w",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_COLOR",DECLARATIONS:[{TYPE:"node_in",NAME:"py",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pz",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pC",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pD",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pE",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pF",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pG",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pH",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pJ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_COLOR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","jJ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","dK","(","py",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pC"],STATEMENTS:[{TYPE:"txt",TOKENS:["pC","=","jJ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bd","(","pC",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pD"],STATEMENTS:[{TYPE:"txt",TOKENS:["pD","=","jJ",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","dK","(","pz",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pE"],STATEMENTS:[{TYPE:"txt",TOKENS:["pE","=","jJ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bd","(","pE",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pF"],STATEMENTS:[{TYPE:"txt",TOKENS:["pF","=","jJ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","dK","(","pA",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pG"],STATEMENTS:[{TYPE:"txt",TOKENS:["pG","=","jJ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bd","(","pG",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pH"],STATEMENTS:[{TYPE:"txt",TOKENS:["pH","=","jJ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","dK","(","pB",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pI"],STATEMENTS:[{TYPE:"txt",TOKENS:["pI","=","jJ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bd","(","pI",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["pJ","=","jJ",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"TEXTURE_NORMAL",DECLARATIONS:[{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pM",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"pN",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pO",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pP",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pQ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pR",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pS",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pT",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pU",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"pV",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_NORMAL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","jJ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","dK","(","pK",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pO"],STATEMENTS:[{TYPE:"txt",TOKENS:["pO","=","normalize","(","em","*","(","jJ",".","xyz","-","dz",")",")",";"]},{TYPE:"txt",TOKENS:["pO",".","yz","=","vec2","(","-","pO",".","z",",","pO",".","y",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pP"],STATEMENTS:[{TYPE:"txt",TOKENS:["pP","=","jJ",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","dK","(","pL",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["pQ","=","normalize","(","em","*","(","jJ",".","xyz","-","dz",")",")",";"]},{TYPE:"txt",TOKENS:["pQ",".","yz","=","vec2","(","-","pQ",".","z",",","pQ",".","y",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pR"],STATEMENTS:[{TYPE:"txt",TOKENS:["pR","=","jJ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","dK","(","pM",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pS"],STATEMENTS:[{TYPE:"txt",TOKENS:["pS","=","normalize","(","em","*","(","jJ",".","xyz","-","dz",")",")",";"]},{TYPE:"txt",TOKENS:["pS",".","yz","=","vec2","(","-","pS",".","z",",","pS",".","y",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pT"],STATEMENTS:[{TYPE:"txt",TOKENS:["pT","=","jJ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["jJ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","dK","(","pN",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pU"],STATEMENTS:[{TYPE:"txt",TOKENS:["pU","=","normalize","(","em","*","(","jJ",".","xyz","-","dz",")",")",";"]},{TYPE:"txt",TOKENS:["pU",".","yz","=","vec2","(","-","pU",".","z",",","pU",".","y",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_pV"],STATEMENTS:[{TYPE:"txt",TOKENS:["pV","=","jJ",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"VALUE",DECLARATIONS:[{TYPE:"node_out",NAME:"pW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pW","=","u_node_values","[","VALUE_IND","]",";"]}]},{TYPE:"node",NAME:"VECT_MATH_ADD",DECLARATIONS:[{TYPE:"node_in",NAME:"pX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"p_",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["pZ","=","pX","+","pY",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_p_"],STATEMENTS:[{TYPE:"txt",TOKENS:["p_","=","(","abs","(","pZ","[","0","]",")","+","abs","(","pZ","[","1","]",")","+","abs","(","pZ","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_SUBTRACT",DECLARATIONS:[{TYPE:"node_in",NAME:"qa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qd",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["qc","=","qa","-","qb",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qd"],STATEMENTS:[{TYPE:"txt",TOKENS:["qd","=","(","abs","(","qc","[","0","]",")","+","abs","(","qc","[","1","]",")","+","abs","(","qc","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_AVERAGE",DECLARATIONS:[{TYPE:"node_in",NAME:"qe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qh",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["qg","=","qe","+","qf",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qh"],STATEMENTS:[{TYPE:"txt",TOKENS:["qh","=","length","(","qg",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qg"],STATEMENTS:[{TYPE:"txt",TOKENS:["qg","=","normalize","(","qg",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_DOT_PRODUCT",DECLARATIONS:[{TYPE:"node_in",NAME:"qi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ql",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["qk","=","vec3","(","ZERO_VALUE_NODES",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_ql"],STATEMENTS:[{TYPE:"txt",TOKENS:["ql","=","dot","(","qi",",","qj",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_CROSS_PRODUCT",DECLARATIONS:[{TYPE:"node_in",NAME:"qm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qr",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["qo","=","cross","(","qm",",","qn",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qr"],STATEMENTS:[{TYPE:"txt",TOKENS:["qr","=","length","(","qo",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_NORMALIZE",DECLARATIONS:[{TYPE:"node_in",NAME:"qu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qx",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["qw","=","normalize","(","qu",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_qx"],STATEMENTS:[{TYPE:"txt",TOKENS:["qx","=","length","(","qu",")",";"]}]}]},{TYPE:"txt",TOKENS:["qv",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT",DECLARATIONS:[{TYPE:"node_in",NAME:"qy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qA","=","reflect","(","(","ea","*","vec4","(","qy",",","0.0",")",")",".","xyz",",","qz",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT_WORLD",DECLARATIONS:[{TYPE:"node_in",NAME:"qB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","qD","=","vec3","(","-","dY",".","x",",","dY",".","z",",","-","dY",".","y",")",";","qC","=","reflect","(","qD",",","qB",")",";"]}]},{TYPE:"node",NAME:"B4W_PARALLAX",DECLARATIONS:[{TYPE:"node_in",NAME:"qE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qG",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qH",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_B4W_PARALLAX_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","bt","=","length","(","eo",")",";","if","(","bt","<","qH",")","{","vec2","bv","=","dK","(","qE",")",";","float","qJ","=","clamp","(","dz","*","(","qH","-","bt",")",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";","float","bA","=","qF","*","qJ",";"]},{TYPE:"txt",TOKENS:["vec3","qK","=","normalize","(","dY","*","em",")",";"]},{TYPE:"txt",TOKENS:["float","qL","=","UNITY_VALUE_NODES","/","qG",";"]},{TYPE:"txt",TOKENS:["vec2","qM","=","qK",".","xy","*","bA","/","(","qG","*","qK",".","z",")",";","float","qN","=","UNITY_VALUE_NODES",";","float","aV","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bv",")",".","a",";"]},{TYPE:"txt",TOKENS:["for","(","float","aQ","=","1.0",";","aQ","<=","qG",";","aQ","++",")","{","if","(","aV","<","qN",")","{","qN","-=","qL",";","bv","-=","qM",";","aV","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bv",")",".","a",";","}","}"]},{TYPE:"txt",TOKENS:["vec2","qO","=","bv","+","qM",";","float","qP","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","qO",")",".","a","-","(","qN","+","qL",")",";","float","qQ","=","aV","-","qN",";","float","qR","=","qQ","/","(","qQ","-","qP",")",";"]},{TYPE:"txt",TOKENS:["bv","=","qR","*","qO","+","(","UNITY_VALUE_NODES","-","qR",")","*","bv",";","qI","=","dJ","(","bv",")",";","}","else","qI","=","qE",";"]}]},{TYPE:"node",NAME:"B4W_CLAMP",DECLARATIONS:[{TYPE:"node_in",NAME:"qS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qT","=","clamp","(","qS",",","ZERO_VALUE_NODES",",","UNITY_VALUE_NODES",")",";"]}]},{TYPE:"node",NAME:"B4W_REFRACTION",DECLARATIONS:[{TYPE:"node_in",NAME:"qU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qW","=","qU",";"]}]},{TYPE:"node",NAME:"B4W_TRANSLUCENCY",DECLARATIONS:[{TYPE:"node_in",NAME:"qX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"q_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rd",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"re",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rd"],STATEMENTS:[{TYPE:"txt",TOKENS:["rd","=","qX",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_re"],STATEMENTS:[{TYPE:"txt",TOKENS:["re","=","vec4","(","qY",",","qZ",",","q_",",","rc",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_TIME",DECLARATIONS:[{TYPE:"node_out",NAME:"rf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rf","=","u_time",";"]}]},{TYPE:"node",NAME:"B4W_SMOOTHSTEP",DECLARATIONS:[{TYPE:"node_in",NAME:"rh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ri",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rk",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rk","=","smoothstep","(","ri",",","rj",",","rh",")",";"]}]},{TYPE:"node",NAME:"B4W_GLOW_OUTPUT",DECLARATIONS:[{TYPE:"node_in",NAME:"rl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ed","=","rl",";","eh","=","rm",";"]}]},{TYPE:"node",NAME:"B4W_VECTOSCAL",DECLARATIONS:[{TYPE:"node_in",NAME:"rn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ro",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ro","=","(","rn",".","r","+","rn",".","g","+","rn",".","b",")","/","3.0",";"]}]},{TYPE:"node",NAME:"B4W_SCALTOVEC",DECLARATIONS:[{TYPE:"node_in",NAME:"rp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rq","[","0","]","=","rp",";","rq","[","1","]","=","rp",";","rq","[","2","]","=","rp",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","rs","(","in","vec3","dY",",","in","mat4","dZ",",","in","mat4","d_",",","in","mat4","ea",",","in","mat4","eb",",","in","mat4","ec",",","out","vec3","ed",",","out","vec3","ee",",","out","vec3","ef",",","out","vec4","eg",",","out","float","eh",")","{","ed","=","vec3","(","ZERO_VALUE_NODES",")",";","ee","=","vec3","(","ZERO_VALUE_NODES",")",";","ef","=","vec3","(","ZERO_VALUE_NODES",")",";","eg","=","vec4","(","ZERO_VALUE_NODES",")",";","eh","=","ZERO_VALUE_NODES",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_NORMAL_MAP",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","l","=","normalize","(","bI",")",";","vec3","ei","=","l",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["INVERT_FRONTFACING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","gl_FrontFacing",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["ei","=","ei",";","else","ei","=","-","ei",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ej","=","ei",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ej","=","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ek","=","ei",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","k","=","cross","(","ei",",","bJ",".","xyz",")","*","bJ",".","w",";","mat3","el","=","mat3","(","bJ",".","xyz",",","k",",","ei",")",";","mat3","em","=","el",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","en","=","bG",";","vec4","eo","=","bH",";","float","ep","=","u_emit",";","float","eq","=","u_ambient",";"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]},exports["include/particles.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["struct","wT","{","float","wU",";","vec3","f",";","float","bf",";","vec3","m",";","float","O",";","vec3","wV",";","vec3","wW",";","float","wX",";","}",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","xc","(","inout","vec3","m",",","float","wY",",","vec4","wZ",",","vec4","w_",")","{","float","xa","=","w_",".","x","-","wZ",".","x",";","float","xb","=","(","wY","-","wZ",".","x",")","/","xa",";","m","=","mix","(","m",",","w_",".","yzw",",","clamp","(","xb",",","0.0",",","1.0",")",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","xf","(","float","t",",","float","xd",",","vec4","xe","[","COLOR_RAMP_LENGTH","]",")","{","float","wY","=","t","/","xd",";","vec3","m","=","xe","[","0","]",".","yzw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["xc","(","m",",","wY",",","xe","[","0","]",",","xe","[","1","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["xc","(","m",",","wY",",","xe","[","1","]",",","xe","[","2","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["xc","(","m",",","wY",",","xe","[","2","]",",","xe","[","3","]",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","m",";","}"]}]}}]},{TYPE:"txt",TOKENS:["float","xl","(","float","t",",","float","xd",",","float","xg",",","float","xh",")","{","float","xi","=","max","(","0.01",",","min","(","xd",",","xg",")",")",";","float","xj","=","max","(","0.01",",","min","(","xd",",","xh",")",")",";","float","xk","=","xd","-","xj",";","float","bf","=","clamp","(","t","/","xi",",","0.0",",","1.0",")","-","step","(","xk",",","t",")","*","(","t","-","xk",")","/","xj",";","return","bf",";","}","wT","xp","(",")","{","wT","sp",";","float","t",";","float","xd","=","a_p_data","[","0","]",";","float","xm","=","a_p_data","[","1","]",";","if","(","u_p_cyclic","==","1",")","{","t","=","mod","(","u_p_time",",","u_p_length",")","-","xm",";","if","(","t","<","0.0",")","t","+=","u_p_length",";","}","if","(","u_p_cyclic","!=","1",")","{","t","=","u_p_time","-","xm",";","}","if","(","t","<","0.0","||","t",">=","xd",")","{","sp",".","wU","=","0.0001",";","sp",".","f","=","vec3","(","99999.0",",","0.0",",","0.0",")",";","}","if","(","!","(","t","<","0.0","||","t",">=","xd",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WORLD_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rT","=","a_position",";","vec3","nh","=","a_normal",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","rR","=","_","(","u_model_tsr",")",";","vec3","rT","=","(","rR","*","vec4","(","a_position",",","1.0",")",")",".","xyz",";","vec3","nh","=","(","rR","*","vec4","(","a_normal",",","0.0",")",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","xn","=","u_p_nfactor","*","nh",";","xn","+=","a_p_vels",".","xyz",";","xn",".","y","-=","u_p_gravity","*","t","/","2.0",";","float","xo","=","max","(","u_p_mass",",","EPSILON",")",";","xn","+=","(","u_p_wind_fac","*","u_wind","/","xo",")","*","t","/","2.0",";","sp",".","wX","=","t",";","sp",".","wV","=","xn",";","sp",".","wW","=","a_normal","*","a_p_vels",".","w",";","sp",".","f","=","rT","+","xn","*","t",";","sp",".","O","=","a_p_vels",".","w","*","t",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_COLOR_RAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","wU","=","GLSL_TEXTURE","(","u_color_ramp_tex",",","vec2","(","t","/","u_p_max_lifetime",",","0.5",")",")",".","g",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","wU","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","m","=","xf","(","t",",","u_p_max_lifetime",",","u_p_color_ramp",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","m","=","vec3","(","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["sp",".","bf","=","xl","(","t",",","a_p_data","[","0","]",",","u_p_fade_in",",","u_p_fade_out",")",";","}","return","sp",";","}"]}]},exports["include/particles_nodes.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"node",NAME:"TEX_COORD_UV",DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["bQ","=","xv","+","0.5",";"]}]},{TYPE:"node",NAME:"UV_MERGED",DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["bQ","=","xv","+","0.5",";"]}]},{TYPE:"node",NAME:"UVMAP",DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["bQ","=","xv","+","0.5",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["bQ","=","xv","+","0.5",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",DECLARATIONS:[{TYPE:"node_param",NAME:"wL",QUALIFIER:["GLSL_OUT","vec4"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"wM",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"wN",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"wO",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_PARTICLE_INFO_var_a_p_indices",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_SIZE"],STATEMENTS:[{TYPE:"txt",TOKENS:["wL","[","3","]","=","xu",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_AGE"],STATEMENTS:[{TYPE:"txt",TOKENS:["wL","[","1","]","=","xt",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_LT"],STATEMENTS:[{TYPE:"txt",TOKENS:["wL","[","2","]","=","xA",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_LOC"],STATEMENTS:[{TYPE:"txt",TOKENS:["wM","=","xq",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_IND"],STATEMENTS:[{TYPE:"txt",TOKENS:["wL","[","0","]","=","node_PARTICLE_INFO_var_a_p_indices",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_VEL"],STATEMENTS:[{TYPE:"txt",TOKENS:["wN","=","xr",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_A_VEL"],STATEMENTS:[{TYPE:"txt",TOKENS:["wO","=","xs",";"]}]}]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","rs","(","in","vec3","xq",",","in","vec3","xr",",","in","vec3","xs",",","in","float","xt",",","in","float","xu",",","in","vec2","xv",",","in","float","xA",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bQ","=","xv","+","0.5",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]},exports["include/blending.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","yq","=","0.0",";","float","yr","=","1.0",";","vec3","dF","(","vec3","rgb",")","{","vec4","dD","=","vec4","(","yq",",","-","yr","/","3.0",",","2.0","/","3.0",",","-","yr",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","dD",".","wz",")",",","vec4","(","rgb",".","gb",",","dD",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","aH","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","dE","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","aH","+","dE",")",")",",","aH","/","(","q",".","x","+","dE",")",",","q",".","x",")",";","}","vec3","dH","(","vec3","dG",")","{","vec4","dD","=","vec4","(","yr",",","2.0","/","3.0",",","yr","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","dG",".","r",",","dG",".","r",",","dG",".","r",")","+","dD",".","xyz",")","*","6.0","-","dD",".","www",")",";","return","dG",".","b","*","mix","(","dD",".","xxx",",","clamp","(","p","-","dD",".","xxx",",","yq",",","yr",")",",","dG",".","g",")",";","}","vec3","yv","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","return","mix","(","ys",",","yt",",","yu",")",";","}","vec3","yA","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","return","yu","*","ys","+","yt",";","}","vec3","yB","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","return","yt","-","yu","*","ys",";","}","vec3","yC","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","float","lP","=","yr","-","yu",";","return","(","vec3","(","lP",")","+","yu","*","ys",")","*","yt",";","}","vec3","yD","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","vec3","lP","=","vec3","(","yr","-","yu",")",";","return","vec3","(","yr",")","-","(","lP","+","yu","*","(","vec3","(","yr",")","-","ys",")",")","*","(","vec3","(","yr",")","-","yt",")",";","}","vec3","yE","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","vec3","lP","=","vec3","(","yr","-","yu",")",";","return","mix","(","yt","*","(","lP","+","2.0","*","yu","*","ys",")",",","vec3","(","yr",")","-","(","lP","+","2.0","*","yu","*","(","vec3","(","yr",")","-","ys",")",")","*","(","vec3","(","yr",")","-","yt",")",",","step","(","0.5",",","yt",")",")",";","}","vec3","yF","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","return","mix","(","yt",",","abs","(","ys","-","yt",")",",","yu",")",";","}","vec3","yG","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","return","mix","(","yt",",","yt","/","(","ys","+","step","(","ys",",","vec3","(","yq",")",")",")",",","yu",")",";","}","vec3","yH","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","return","mix","(","yt",",","min","(","ys",",","yt",")",",","yu",")",";","}","vec3","yI","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","return","max","(","yu","*","ys",",","yt",")",";","}","vec3","yM","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","vec3","yJ","=","dF","(","yt",")",";","if","(","yJ",".","y","!=","yq",")","{","vec3","yK","=","dF","(","ys",")",";","vec3","yL","=","dH","(","vec3","(","yJ",".","x",",","yK",".","yz",")",")",";","return","mix","(","ys",",","yL",",","yu",")",";","}","return","ys",";","}","vec3","yN","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","vec3","yJ","=","dF","(","ys",")",";","if","(","yJ",".","y","!=","yq",")","{","vec3","yK","=","dF","(","yt",")",";","return","dH","(","vec3","(","yJ",".","x",",","mix","(","yJ",".","y",",","yK",".","y",",","yu",")",",","yJ",".","z",")",")",";","}","return","ys",";","}","vec3","yO","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","vec3","yJ","=","dF","(","ys",")",";","vec3","yK","=","dF","(","yt",")",";","return","dH","(","vec3","(","yJ",".","xy",",","mix","(","yJ",".","z",",","yK",".","z",",","yu",")",")",")",";","}","vec3","yP","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","vec3","yJ","=","dF","(","yt",")",";","if","(","yJ",".","y","!=","yq",")","{","vec3","yK","=","dF","(","ys",")",";","vec3","yL","=","dH","(","vec3","(","yJ",".","xy",",","yK",".","z",")",")",";","return","mix","(","ys",",","yL",",","yu",")",";","}","return","ys",";","}","vec3","yR","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","vec3","yQ","=","vec3","(","yr",")","-","(","vec3","(","yr",")","-","yt",")","*","(","vec3","(","yr",")","-","ys",")",";","return","mix","(","ys",",","(","(","vec3","(","yr",")","-","ys",")","*","yt","*","ys",")","+","ys","*","yQ",",","yu",")",";","}","vec3","yS","(","vec3","ys",",","vec3","yt",",","float","yu",")","{","return","ys","+","yu","*","(","2.0","*","yt","-","yr",")",";","}","float","yW","(","float","yT",",","float","yU",",","float","yu",",","float","yV",")","{","float","lP","=","yr","-","yV",";","return","(","lP","+","yu","*","yT",")","*","yU",";","}","float","yX","(","float","yT",",","float","yU",",","float","yu",",","float","yV",")","{","float","lP","=","yr","-","yV",";","return","yr","-","(","lP","+","yu","*","(","yr","-","yT",")",")","*","(","yr","-","yU",")",";","}","float","yY","(","float","yT",",","float","yU",",","float","yu",",","float","yV",")","{","float","lP","=","yr","-","yV",";","return","mix","(","yU","*","(","lP","+","2.0","*","yu","*","yT",")",",","yr","-","(","lP","+","2.0","*","yu","*","(","yr","-","yT",")",")","*","(","yr","-","yU",")",",","step","(","0.5",",","yU",")",")",";","}"]}]},exports["include/fxaa.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PS3",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PS3",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_360",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_360",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_360_OPT",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_360_OPT",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PC",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PC",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PC_CONSOLE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PC_CONSOLE",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSL_120",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSL_120",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSL_130",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSL_130",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_3",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_3",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_4",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_4",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_5",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GREEN_AS_LUMA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GREEN_AS_LUMA",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_EARLY_EXIT",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_EARLY_EXIT",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_DISCARD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_DISCARD",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_FAST_PIXEL_OFFSET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_EXT_gpu_shader4",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_NV_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_ARB_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_FAST_PIXEL_OFFSET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GATHER4_ALPHA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_HLSL_5",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_ARB_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_NV_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GATHER4_ALPHA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[0],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["4.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[0],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["2.0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",TOKENS:["0.125"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",TOKENS:["0.25"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_QUALITY_PRESET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["12"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",10,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["3"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",11,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["4"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",12,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",13,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["6"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",14,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["7"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",15,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["8"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",20,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["3"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",21,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["4"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",22,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",23,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["6"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",24,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["7"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",25,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["8"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",26,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["9"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",27,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["10"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",28,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["11"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",29,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P11",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",39,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P11",TOKENS:["8.0"]}]}}]},{TYPE:"txt",TOKENS:["float","AF","(","float","x",")","{","return","clamp","(","x",",","0.0",",","1.0",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_BLEND4WEB",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","AG","(","sampler2D","t",",","vec2","p",")","{","return","GLSL_TEXTURE","(","t",",","p",")",";","}","vec4","AI","(","sampler2D","t",",","vec2","p",",","vec2","AH",",","vec2","r",")","{","return","GLSL_TEXTURE","(","t",",","p","+","(","AH","*","r",")",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec4","Cl","(","vec2","rT",",","sampler2D","AJ",",","vec2","AK",",","float","AL",",","float","AM",",","float","AN",")","{","vec2","AO",";","AO",".","x","=","rT",".","x",";","AO",".","y","=","rT",".","y",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_GATHER4_ALPHA",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","AP","=","AG","(","AJ",",","AO",")",";","float","As","=","bk","(","AP",")",";","float","AQ","=","bk","(","AI","(","AJ",",","AO",",","vec2","(","0",",","1",")",",","AK",".","xy",")",")",";","float","AR","=","bk","(","AI","(","AJ",",","AO",",","vec2","(","1",",","0",")",",","AK",".","xy",")",")",";","float","AS","=","bk","(","AI","(","AJ",",","AO",",","vec2","(","0",",","-","1",")",",","AK",".","xy",")",")",";","float","AT","=","bk","(","AI","(","AJ",",","AO",",","vec2","(","-","1",",","0",")",",","AK",".","xy",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","AU","=","max","(","AQ",",","As",")",";","float","AV","=","min","(","AQ",",","As",")",";","float","AW","=","max","(","AR",",","AU",")",";","float","AX","=","min","(","AR",",","AV",")",";","float","AY","=","max","(","AS",",","AT",")",";","float","AZ","=","min","(","AS",",","AT",")",";","float","A_","=","max","(","AY",",","AW",")",";","float","Ba","=","min","(","AZ",",","AX",")",";","float","Bb","=","A_","*","AM",";","float","Bc","=","A_","-","Ba",";","float","Bd","=","max","(","AN",",","Bb",")",";","bool","Be","=","Bc","<","Bd",";","if","(","Be",")","return","AP",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_GATHER4_ALPHA",0,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","At","=","bk","(","AI","(","AJ",",","AO",",","vec2","(","-","1",",","-","1",")",",","AK",".","xy",")",")",";","float","Aw","=","bk","(","AI","(","AJ",",","AO",",","vec2","(","1",",","1",")",",","AK",".","xy",")",")",";","float","Au","=","bk","(","AI","(","AJ",",","AO",",","vec2","(","1",",","-","1",")",",","AK",".","xy",")",")",";","float","Av","=","bk","(","AI","(","AJ",",","AO",",","vec2","(","-","1",",","1",")",",","AK",".","xy",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[]}}]},{TYPE:"txt",TOKENS:["float","Bf","=","AS","+","AQ",";","float","Bg","=","AT","+","AR",";","float","Bh","=","1.0","/","Bc",";","float","Bi","=","Bf","+","Bg",";","float","Bj","=","(","-","2.0","*","As",")","+","Bf",";","float","Bk","=","(","-","2.0","*","As",")","+","Bg",";","float","Bl","=","Au","+","Aw",";","float","Bm","=","At","+","Au",";","float","Bn","=","(","-","2.0","*","AR",")","+","Bl",";","float","Bo","=","(","-","2.0","*","AS",")","+","Bm",";","float","Bp","=","At","+","Av",";","float","Bq","=","Av","+","Aw",";","float","Br","=","(","abs","(","Bj",")","*","2.0",")","+","abs","(","Bn",")",";","float","Bs","=","(","abs","(","Bk",")","*","2.0",")","+","abs","(","Bo",")",";","float","Bt","=","(","-","2.0","*","AT",")","+","Bp",";","float","Bu","=","(","-","2.0","*","AQ",")","+","Bq",";","float","Bv","=","abs","(","Bt",")","+","Br",";","float","Bw","=","abs","(","Bu",")","+","Bs",";","float","Bx","=","Bp","+","Bl",";","float","By","=","AK",".","x",";","bool","Bz","=","Bv",">=","Bw",";","float","BA","=","Bi","*","2.0","+","Bx",";","if","(","!","Bz",")","AS","=","AT",";","if","(","!","Bz",")","AQ","=","AR",";","if","(","Bz",")","By","=","AK",".","y",";","float","BB","=","(","BA","*","(","1.0","/","12.0",")",")","-","As",";","float","BC","=","AS","-","As",";","float","BD","=","AQ","-","As",";","float","BE","=","AS","+","As",";","float","BF","=","AQ","+","As",";","bool","BG","=","abs","(","BC",")",">=","abs","(","BD",")",";","float","BH","=","max","(","abs","(","BC",")",",","abs","(","BD",")",")",";","if","(","BG",")","By","=","-","By",";","float","BI","=","AF","(","abs","(","BB",")","*","Bh",")",";","vec2","BJ",";","BJ",".","x","=","AO",".","x",";","BJ",".","y","=","AO",".","y",";","vec2","BK",";","BK",".","x","=","(","!","Bz",")","?","0.0",":","AK",".","x",";","BK",".","y","=","(","Bz",")","?","0.0",":","AK",".","y",";","if","(","!","Bz",")","BJ",".","x","+=","By","*","0.5",";","if","(","Bz",")","BJ",".","y","+=","By","*","0.5",";","vec2","BL",";","BL",".","x","=","BJ",".","x","-","BK",".","x","*","FXAA_QUALITY_P0",";","BL",".","y","=","BJ",".","y","-","BK",".","y","*","FXAA_QUALITY_P0",";","vec2","BM",";","BM",".","x","=","BJ",".","x","+","BK",".","x","*","FXAA_QUALITY_P0",";","BM",".","y","=","BJ",".","y","+","BK",".","y","*","FXAA_QUALITY_P0",";","float","BN","=","(","(","-","2.0",")","*","BI",")","+","3.0",";","float","BO","=","bk","(","AG","(","AJ",",","BL",")",")",";","float","BP","=","BI","*","BI",";","float","BQ","=","bk","(","AG","(","AJ",",","BM",")",")",";","if","(","!","BG",")","BE","=","BF",";","float","BR","=","BH","*","1.0","/","4.0",";","float","BS","=","As","-","BE","*","0.5",";","float","BT","=","BN","*","BP",";","bool","BU","=","BS","<","0.0",";","BO","-=","BE","*","0.5",";","BQ","-=","BE","*","0.5",";","bool","BV","=","abs","(","BO",")",">=","BR",";","bool","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P1",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P1",";","bool","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P1",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P1",";","if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P2",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P2",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P2",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P2",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P3",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P3",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P3",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P3",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",4,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P4",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P4",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P4",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P4",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",5,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P5",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P5",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P5",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P5",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",6,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P6",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P6",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P6",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P6",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",7,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P7",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P7",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P7",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P7",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",8,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P8",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P8",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P8",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P8",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",9,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P9",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P9",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P9",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P9",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",10,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P10",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P10",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P10",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P10",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",11,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P11",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P11",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P11",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P11",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",12,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","BX",")","{","if","(","!","BV",")","BO","=","bk","(","AG","(","AJ",",","BL",".","xy",")",")",";","if","(","!","BW",")","BQ","=","bk","(","AG","(","AJ",",","BM",".","xy",")",")",";","if","(","!","BV",")","BO","=","BO","-","BE","*","0.5",";","if","(","!","BW",")","BQ","=","BQ","-","BE","*","0.5",";","BV","=","abs","(","BO",")",">=","BR",";","BW","=","abs","(","BQ",")",">=","BR",";","if","(","!","BV",")","BL",".","x","-=","BK",".","x","*","FXAA_QUALITY_P12",";","if","(","!","BV",")","BL",".","y","-=","BK",".","y","*","FXAA_QUALITY_P12",";","BX","=","(","!","BV",")","||","(","!","BW",")",";","if","(","!","BW",")","BM",".","x","+=","BK",".","x","*","FXAA_QUALITY_P12",";","if","(","!","BW",")","BM",".","y","+=","BK",".","y","*","FXAA_QUALITY_P12",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}","float","BY","=","AO",".","x","-","BL",".","x",";","float","BZ","=","BM",".","x","-","AO",".","x",";","if","(","!","Bz",")","BY","=","AO",".","y","-","BL",".","y",";","if","(","!","Bz",")","BZ","=","BM",".","y","-","AO",".","y",";","bool","B_","=","(","BO","<","0.0",")","!=","BU",";","float","Ca","=","(","BZ","+","BY",")",";","bool","Cb","=","(","BQ","<","0.0",")","!=","BU",";","float","Cc","=","1.0","/","Ca",";","bool","Cd","=","BY","<","BZ",";","float","Ce","=","min","(","BY",",","BZ",")",";","bool","Cf","=","Cd","?","B_",":","Cb",";","float","Cg","=","BT","*","BT",";","float","Ch","=","(","Ce","*","(","-","Cc",")",")","+","0.5",";","float","Ci","=","Cg","*","AL",";","float","Cj","=","Cf","?","Ch",":","0.0",";","float","Ck","=","max","(","Cj",",","Ci",")",";","if","(","!","Bz",")","AO",".","x","+=","Ck","*","By",";","if","(","Bz",")","AO",".","y","+=","Ck","*","By",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_DISCARD",1,{TYPE:"equal_expr",PLACES:2},"FXAA_BLEND4WEB",1,{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","AG","(","AJ",",","AO",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec4","(","AG","(","AJ",",","AO",")",".","xyz",",","As",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["include/depth_fetch.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Cu","(","in","sampler2D","Cq",",","in","vec2","aY",",","in","vec2","Cr",")","{","float","ao","=","GLSL_TEXTURE","(","Cq",",","aY",")",".","r",";","float","xU","=","Cr",".","x",";","float","Cs","=","Cr",".","y",";","float","Ct","=","2.0","*","xU","/","(","xU","+","Cs","-","(","2.0","*","ao","-","1.0",")","*","(","Cs","-","xU",")",")",";","return","Ct",";","}"]}]}}
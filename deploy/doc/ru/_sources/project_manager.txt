
Управление проектами
********************


Содержание
^^^^^^^^^^

* Управление проектами

  * Управление проектами

  * Мастер создания проектов

  * Создание приложений для Веб-плеера

    * Настройки проекта

    * Размещение проекта

  * Информация о проекте

    * Команды

    * Параметры проекта

  * Импорт проектов

  * Экспорт проектов

    * Команды

    * Параметры проекта

Начиная с версии 15.09, SDK включает систему управления проектами,
которая позволяет:

   * просматривать список и внутреннюю структуру имеющихся проектов;

   * запускать приложения, просматривать сцены в
     программе-просмотрщике, загружать исходные файлы сцен в Blender;

   * создавать и конфигурировать новые приложения, в том числе на
     основе готовых шаблонов;

   * осуществлять сборку приложения и его конверсию в форму, удобную
     для последующего размещения на сервере;

   * конвертировать ресурсы приложения (текстуры, звуковые и
     видео-файлы) в альтернативные форматы для обеспечения
     кроссбраузерности и кроссплатформенности;

   * автоматизировать повторный экспорт всех сцен из состава
     приложения, включая файлы в формате JSON и HTML.

   * удалять проекты.


Управление проектами
====================

Приложение *Project Manager* доступно из раздела *Tools* главной
страницы SDK. При запуске приложение выводит список из всех проектов,
находящихся в установленном SDK.

Команды для управления проектами находятся в верхней части страницы.

   [рисунок]

*Back to Index*
   Возвращает на индексную страницу Blend4Web SDK.

*Create New Project*
   Открывает мастер создания новых проектов.

*Import Project(s)*
   Открывает диалог импорта проектов.

*Export Project(s)*
   Открывает страницу экспорта проектов.

*Hide Stock Projects*
   Позволяет скрыть стоковые проекты. Если они уже скрыты, место этой
   команды занимает команда "Show Stock Projects".

*Help*
   Вызывает справку.

Команды управления конкретным проектом находятся справа от него

Примечание: Some commands may not be available depending on the type
  of the project.

[рисунок]

1. Компиляция проекта (недоступно для типов проекта WebPlayer JSON
   и WebPlayer HTML).

2. Проверка отсутствующих или неиспользуемых модулей API
   (недоступно для типов проекта WebPlayer JSON и WebPlayer HTML).

      При активации этой опции менеджер проектов проверяет модули,
      используемые приложением, и выводит результаты проверки в
      консоль. Ниже приведены возможные предупреждения:

      1. При отсутствии одного или нескольких модулей API в папке
         проекта выводится следующее сообщение:

         Module *module_name* is missing from the *project_name*
         project, please append it to the project's html files.

      [рисунок]

      2. Если в проекте присутствует один или несколько модулей
         API, не используемых в программном коде, выводится следующее
         сообщение:

         Module *module_name* is no longer required, please remove it
         from the project's HTML files.

      [рисунок]

      3. В том случае, если никаких проблем не обнаружено,
         выводится следующее сообщение:

      [рисунок]

3. Реэкспорт блендеровских сцен в проекте.

4. Конвертация медиа ресурсов.

5. Экспортирование и дальнейшая загрузка проекта.

6. Удаление проекта со всеми зависимостями.

Примечание: Все пути берутся из конфигурационного файла
  .b4w_project.

Рядом с именем проекта находится ссылка на информацию о нём. Там же
указан тип приложения. Приложение может иметь один из следующих типов:

*Player*
   Приложение запускается при помощи веб-плейера.

*Dev*
   Приложение для разработки

*Build*
   Скомпилированное приложение.


Мастер создания проектов
========================

Мастер создания новых проектов входит в состав приложения Project
Manager и вызывается по ссылке "[Create New Project]" на главной
странице этого приложения.

   [рисунок]

Кнопка "[Back to Projects]" используется для возвращения на главную
страницу менеджера проектов, а кнопка "[Help]" вызывает справку.

1. Имя проекта. Текущим именем будут названы директории в
   "apps_dev/имя_проекта", "deploy/assets/имя_проекта",
   "blender/имя_проекта" и "deploy/apps/имя_проекта". Для лучшей
   совместимости рекомендуется использовать буквы и нижнее
   подчеркивание.

2. Название проекта. Это имя будет показываться в заголовке
   веб-браузера.

3. Имя автора проекта.

4. Добавить шаблоны приложения. В директорию проекта
   "apps_dev/имя_проекта" будут добавлены стандартные шаблоны
   приложения: html-файл, css-файл, js-файл.

5. Добавить шаблоны сцены. В директорию "deploy/assets/имя_проекта"
   будет добавлен стандартный json-файл; в директорию
   "blender/имя_проекта" - blend-файл.

6. Использовать библиотеку материалов. Blend-файлы библиотеки
   материалов будут скопированы в директорию проекта
   "blender/project_name", файлы медиаресурсов - в директорию
   "deploy/assets/project_name".

7. Скопировать скрипт менеджера проектов. Скрипт project.py будет
   скопирован в директорию проекта.

8. Все файлы проекта будут находиться в одной директории.
   Предпочтительно использовать для маленьких проектов, таких как
   уроки и примеры. Для данной опции доступен только тип проекта -
   "update".

9. Тип собираемого проекта. Здесь возможны варианты:

      * "External" - движок берется из директории
        "deploy/apps/common/". Компилируются только файлы приложения;

      * "Copy" - движок копируется в директорию собранного
        приложения. Компилируются только файлы приложения;

      * "Compile" - исходники движка компилируются вместе со
        скриптами приложения;

      * "Update" - заменяется движок в директории проекта;

      * "Web Player JSON" - json-файл, находящийся в проекте,
        запускается при помощи веб-плеера в составе SDK;

      * "Web Player HTML" - проект состоит из html-файла, внутри
        которого находятся все необходимые ресурсы.

10. Уровень оптимизации javascript.

    * "Simple" - в коде заменяются имена переменных;

    * "Advanced" - производится оптимизация кода;

    * "Whitespace Only" - в коде удаляются только пробелы.

11. URL-атрибуты Веб-плеера. Эта вкладка доступна только если
    параметр "Engine Binding Type" имеет значение "Web Player JSON"
    или "Web Player HTML".

    * "Show FPS" - включает счётчик кадров в секунду в правом
      верхнем углу окна веб-плеера.

    * "Auto-rotate camera" включает автоматическое вращение камеры
      сразу после загрузки сцены.

    * "Disable social network buttons" используется для отключения
      кнопок социальных сетей на панели управления.

    * "Background transparency" используется для установки
      прозрачности области отрисовки.

    * "Use compressed textures" используется для включения загрузки
      уменьшенных текстур и текстур с компрессией (формат DDS).


Создание приложений для Веб-плеера
==================================

Главное преимущество приложений для Веб-плеера - простота размещения
подобных приложений на веб-страницах.

[рисунок]

Создать приложение для Веб-плеера несложно. Для этого достаточно при
создании нового проекта выбрать опцию "Web Player JSON" или "Web
Player HTML" на вкладке Engine Binding Type.

Проекты для веб-плеера обладают практически тем же набором параметров,
что и проекты других типов. Единственное исключение - группа
параметров, известная как Web Player Params.


Настройки проекта
-----------------

[рисунок]

Эта вкладка доступна только в том случае, если включена опция "Web
Player JSON" или "Web Player HTML". Перечисленные здесь параметры по
сути представляют собой URL-атрибуты, которые веб-плеер будет
использовать при запуске проекта.


Размещение проекта
------------------

После завершения работы над проектом, выберите опцию "deploy project"
на панели "Operations", на главной странице менеджера проектов. После
этого проект будет экспортирован, запакован в архив и загружен в
папку, которая используется вашим веб-браузером для загрузки файлов.

Чтобы разместить проект на веб-странице, распакуйте архив и загрузите
файлы, находящиеся в нём ("html"-файл и директорию "assets") на
веб-сервер с помощью FTP, SSH или любого другого протокола,
поддерживаемого сервером.

Примечание: После загрузки на веб-сервер должна сохраняться
  внутренняя структура файлов архива и их относительные пути.

После этого приложение типа Web Player HTML можно разместить на
веб-странице с помощью контейнера "iframe". Ниже приводится пример
HTML-кода, который можно использовать для этого:

   <!DOCTYPE html>
   <html>
   <head>
       <title>An Example Application</title>
   </head>
   <body>
       <iframe width="800" height="500" allowfullscreen src="/tutorials/examples/web_page_integration/example_scene.html"></iframe>
   </body>
   </html>

Размещение JSON-проекта происходит почти так же, но вместо одного
HTML-файла используется комбинация веб-плеера и JSON-файла,
содержащего саму сцену.

   <!DOCTYPE html>
   <html>
   <head>
       <title>Another Example Application</title>
   </head>
   <body>
       <iframe width="800" height="500" allowfullscreen src="/apps/webplayer/webplayer.html?load=/tutorials/examples/web_page_integration/example_scene.json&show_fps"></iframe>
   </body>
   </html>


Информация о проекте
====================

Эта страница содержит информацию о выбранном проекте и доступна по
ссылке "[info]" рядом с его названием.

   [рисунок]


Команды
-------

*Back to Projects*
   Возвращает на главную страницу менеджера проектов.

*Help*
   Вызывает справку.


Параметры проекта
-----------------

*Project Name*
   Имя проекта

*Project Title*
   Название проекта. Это имя будет показываться в заголовке
   веб-браузера.

*Project Author / Company*
   Имя автора проекта или название компании-разработчика проекта.

*Project Icon*
   Пиктограмма проекта.

*Application*
   Главный JSON-файл приложения.

*Engine Binding Type*
   Тип собираемого проекта.

*Project Path (Development Directory)*
   Каталог проекта.

*Project Config*
   Конфигурационный файл проекта.

*Build Directory*
   Директория сборки проекта.

*Blend Directory(s)*
   Каталоги, в которых располагаются blend-файлы проекта.

*Assets Directory(s)*
   Каталоги, в которых располагаются медиаресурсы проекта.

*URL Params*
   URL-параметры, применяемые при запуске приложения.

*JavaScript Obfuscation Level*
   Уровень оптимизации javascript.

*JavaScript Compilation Ignore List*
   Список исключений для компиляции скриптов проекта.

*CSS Compilation Ignore List*
   Список исключений для компиляции таблиц стилей проекта.

*Deployment Directory Assets Prefix*
   Директория с ресурсами сцены в развёрнутом приложении.


Импорт проектов
===============

Средства импорта проектов вызываются по ссылке "[Import Project(s)]".

Нажатие на эту ссылку вызывает стандартный диалог открытия файла, где
можно выбрать файл проекта, который требуется импортировать.


Экспорт проектов
================

Окно экспорта проекта вызывается по ссылке "[Export Project(s)]".

   [рисунок]


Команды
-------

*Back to Projects*
   Возвращает на главную страницу менеджера проектов.

*Hide Stock Projects*
   Скрывает стоковые проекты. Если они уже скрыты, место этой команды
   занимает команда "[Show Stock Projects]".

*Help*
   Вызывает справку.

*Export Project(s)*
   Экспортировать выбранные проекты.


Параметры проекта
-----------------

*Select*
   Демонстрирует, выбран ли проект для экспорта.

*Name*
   Имя каталога проекта.

*Title*
   Заголовок проекта.

*Author*
   Имя автора проекта.

*Archive Name*
   Имя архива, в который будут запакованы экспортируемые проекты.
